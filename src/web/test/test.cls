Class web.test.test Extends %RegisteredObject [ Not ProcedureBlock ]
{

/// w ##class(web.test.test).testCTDepartment()
ClassMethod testCTDepartment()
{
    set stream=##class(%GlobalCharacterStream).%New()
    //do stream.Write("<Request><Header><SourceSystem/><MessageID/></Header><Body><CT_DepartmentList><CT_Department><DEPRowId>HR部门代码</DEPRowId><DEPCode>部门编码</DEPCode><DEPDesc>部门描述</DEPDesc><DEPAlias>简称</DEPAlias><DEPOfficePhone>联系电话</DEPOfficePhone><DEPCategory>HR科室分类</DEPCategory><DEPParentCode>上级组织部门代码</DEPParentCode><DEPParentDesc>上级组织部门名称</DEPParentDesc><DEPRefClinCode>医疗机构代码</DEPRefClinCode><DEPRefClinDesc>医疗机构名称</DEPRefClinDesc><DEPAtrribute>医疗机构代码</DEPAtrribute><DEPUpdateUserName>修改人名称</DEPUpdateUserName><DEPCharacter>部门性质</DEPCharacter><DEPPayAtrribute>支出属性</DEPPayAtrribute><DEPPurchaseFlag>是否采购部门</DEPPurchaseFlag><DEPShareCharacter>分摊性质</DEPShareCharacter><DEPDateFrom>开始日期</DEPDateFrom><DEPDateTo>结束日期</DEPDateTo><DEPNationalCode>国家编码</DEPNationalCode><DEPOfficeAddress>地址</DEPOfficeAddress></CT_Department></CT_DepartmentList></Body></Request>")
    //do stream.Write("<Request><Header><SourceSystem/><MessageID/></Header><Body><CT_DepartmentList><CT_Department><DEPRowId>1003</DEPRowId><DEPCode>HXNK002</DEPCode><DEPDesc>呼吸内科1科</DEPDesc><DEPAlias>HXNKYK</DEPAlias><DEPOfficePhone>13800000000</DEPOfficePhone><DEPCategory>临床科室</DEPCategory><DEPParentCode>1002</DEPParentCode><DEPParentDesc></DEPParentDesc><DEPRefClinCode>47-7DH</DEPRefClinCode><DEPRefClinDesc>巩义人民医院</DEPRefClinDesc><DEPAtrribute>业务线</DEPAtrribute><DEPUpdateUserName>李可凡</DEPUpdateUserName><DEPCharacter>门诊</DEPCharacter><DEPPayAtrribute>医疗</DEPPayAtrribute><DEPPurchaseFlag>N</DEPPurchaseFlag><DEPShareCharacter>门诊医辅</DEPShareCharacter><DEPDateFrom>2020-07-26</DEPDateFrom><DEPDateTo></DEPDateTo><DEPNationalCode>呼吸内科</DEPNationalCode><DEPOfficeAddress>门诊楼三楼</DEPOfficeAddress></CT_Department></CT_DepartmentList></Body></Request>")
    do stream.Write("<Request><Header><SourceSystem>30</SourceSystem><MessageID></MessageID></Header><Body><CT_DeptList><CT_Dept><BusinessFieldCode>00001</BusinessFieldCode><CTD_RowId>8200030001</CTD_RowId><CTD_Code>8200030001</CTD_Code><CTD_Desc>病理科</CTD_Desc><CTD_CategoryCode>O</CTD_CategoryCode><CTD_Phonetic></CTD_Phonetic><CTD_WardFlag></CTD_WardFlag><CTD_CreatDate></CTD_CreatDate><CTD_CreatTime></CTD_CreatTime><CTD_UpdateDate>2020-07-27</CTD_UpdateDate><CTD_UpdateTime>16:05:15Z</CTD_UpdateTime><CTD_OriginalCode></CTD_OriginalCode><CTD_OriginalDesc></CTD_OriginalDesc><CTD_Remarks></CTD_Remarks><CTD_StartDate>65531</CTD_StartDate><CTD_EndDate></CTD_EndDate><CTD_CodesystemCode>CT_Dept</CTD_CodesystemCode><CTD_OfficeAddress></CTD_OfficeAddress><CTD_OfficePhone></CTD_OfficePhone><CTD_UpdateUserCode>admin</CTD_UpdateUserCode><CTD_HosCode>Org82</CTD_HosCode><CTD_DepartmentGroup>04</CTD_DepartmentGroup><CTD_AdmType>03</CTD_AdmType><CTD_ParentCode></CTD_ParentCode><CTD_Status>1</CTD_Status><CTD_VirtualFlag></CTD_VirtualFlag><CTD_Atrribute>01</CTD_Atrribute><CTD_Property>1</CTD_Property><CTD_PayType>2</CTD_PayType><CTD_MajorCat>3</CTD_MajorCat><CTD_PurchaseFlag>4</CTD_PurchaseFlag><CTD_Share>5</CTD_Share><CTD_Statistics>6</CTD_Statistics></CT_Dept></CT_DeptList></Body></Request>")
    //set responseStream=##class(web.DHCBL.BDP.Interface).SaveCTDepartment(stream,"CT_Department")
    s responseStream=##class(BDPDataTrans.InterfaceService).%New().SaveRecord(stream,"CT_Department")
    q responseStream
}

}
