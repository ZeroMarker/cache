<csp:method name=OnPreHTTP arguments="" returntype=%Boolean>
 i ##Class(websys.SessionEvents).SessionExpired() q 1
 quit 1
</csp:method>
<!DOCTYPE html>
<html lang="en">
	<head>
		<TITLE><EXTHEALTH:TRANSLATE id=title>##(%session.Get("TITLE"))##</EXTHEALTH:TRANSLATE></TITLE>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<EXTHEALTH:HEAD></EXTHEALTH:HEAD>	
		<HISUI/>
		<DHCHAI:HEAD></DHCHAI:HEAD>
		<link rel="stylesheet" href="../scripts/DHCMA/HAI/css/base.css">
	</head>
	<body>  
		<script type="text/javascript" src="../scripts/DHCMA/HAI/Units/PubFunction.js"></script>
		<script type="text/javascript" src="../Scripts/DHCMA/HAI/ANT/Report/AntModule_Eti.js"></script>
	  	<script type="text/javascript" src="../Scripts/DHCMA/HAI/ANT/Report/Gui.js"></script>
		<script type="text/javascript" src="../Scripts/DHCMA/HAI/ANT/Report/Event.js"></script>
		<SCRIPT LANGUAGE=CACHE RUNAT=SERVER>
			Set EpisodeID  = $g(%request.Data("EpisodeID",1))
			Set ReportID   = $g(%request.Data("ReportID",1))
			Set LocFlag    = +$g(%request.Data("LocFlag",1))
			Set OrdItemID  = $g(%request.Data("OrdItemID",1))
			If ReportID'="" {
				Set objRep=##class(DHCHAI.ANT.Report).GetObjById(ReportID)
				If $IsObject(objRep){
					Set EpisodeID = objRep.AREpisodeDr.%Id()
				}
			}
		</SCRIPT>
		<script language="javascript" type="text/javascript">
			var EpisodeID = '#(EpisodeID)#';
			var ReportID  = '#(ReportID)#';
			var LocFlag   = '#(LocFlag)#';
			var OrdItemID ='#(OrdItemID)#';
			$(document).ready(function(){
				var url = "../Scripts/DHCMA/HAI/ANT/Report/Layout.html"
        		$("body").load(url,null,function(responseTxt,statusTxt,xhr){
   					if(statusTxt=="success") {
	   					$.parser.parse(); // 解析整个页面  	
	   					InitReportWin();
   					} else if (statusTxt=="error") {
	   					alert("Error: "+xhr.status+": "+xhr.statusText);
	   				}
	        	});
			});
		</script>
	</body>
</html>
