<csp:method name=OnPreHTTP arguments="" returntype=%Boolean>
	i ##Class(websys.SessionEvents).SessionExpired() q 1
	q 1
</csp:method>
<csp:content charset="UTF-8">

<script language="cache" runat="server">

s Action=$Get(%request.Data("actiontype",1))

///根据供应商Id,库存项id,厂商id判断资质信息
i Action="Check" d
	.s DataList=$Get(%request.Data("DataList",1))
	.s ret=##class(web.DHCSTM.Common.UtilCommon).Check(DataList)
	.w "{success:'true',info:'"_ret_"'}"
///获取以当前科室作为支配科室的科室id和desc
i Action = "GetMainLoc" d
	.s loc=$Get(%request.Data("loc",1))
	.s ret=##class(web.DHCSTM.Common.UtilCommon).GetMainLoc(loc)
	.w "{success:'true',info:'"_ret_"'}"
///检查用户名密码是否匹配
i Action = "CheckPassword" d
	.s UserId=$Get(%request.Data("UserId",1))
	.s PassWord=$Get(%request.Data("PassWord",1))
	.s ret=##class(web.DHCSTM.Common.UtilCommon).CheckPassword(UserId,PassWord)
	.w ret

</script>