<csp:method name=OnPreHTTP arguments="" returntype=%Boolean>
    i ##Class(websys.SessionEvents).SessionExpired() q 1
    q 1
</csp:method>
<csp:content charset="UTF-8">

<script language="cache" runat="server">

	s Action=$Get(%request.Data("actiontype",1))
	s Start=$Get(%request.Data("start",1))
	s Limit=$Get(%request.Data("limit",1))
	s Sort=$Get(%request.Data("sort",1))
	s Dir=$Get(%request.Data("dir",1))
	
i Action="GetInci" d
	.s StrParam=$Get(%request.Data("StrParam",1))
	.d ##class(web.DHCSTM.SynIncInfoSCI).GetInci(StrParam)

i Action="GetInciDetail" d
	.s VendorId=$Get(%request.Data("VendorId",1))
	.s InciId=$Get(%request.Data("InciId",1))
	.d ##class(web.DHCSTM.SynIncInfoSCI).GetInciDetail(VendorId,InciId)

i Action="GetVenIncPic" d
	.s VenIncId=$Get(%request.Data("VenIncId",1))
	.d ##class(web.DHCSTM.SynIncInfoSCI).GetVenIncPic(VenIncId)

i Action="AuditVenIncInfo" d
	.s VendorId=$Get(%request.Data("VendorId",1))
	.s InciId=$Get(%request.Data("InciId",1))
	.s VenIncIdStr=$Get(%request.Data("VenIncIdStr",1))
	.s result=##class(web.DHCSTM.SynIncInfoSCI).AuditVenIncInfo(VendorId,InciId,VenIncIdStr)
	.i result="" d
	..w "{success:'true',info:''}"
	.e  d
	..w "{success:'false',info:'"_result_"'}"

</script>