<csp:method name=OnPreHTTP arguments="" returntype=%Boolean>
 i ##Class(websys.SessionEvents).SessionExpired() q 1
 q 1
</csp:method>
<html>
<head>
<!-- Put your page Title here -->
<title>手术安全核查</title>
<csp:content charset="UTF-8">
<!--<dhcclinic:easyui></dhcclinic:easyui>-->
<HISUI></HISUI>
<dhcclinic:head></dhcclinic:head>
<dhcclinic:ca></dhcclinic:ca>
<script language="Cache" runat=server method="Get" arguments="item:%String" returntype="%String">
   quit ##class(CIS.AN.COM.Html).Get(item)
</script>
<style>
	/*.hisui-linkbutton {box-shadow:1px 1px 1px 1px rgba(0,0,0,0.1)}*/
	label.checkbox {margin:0px 0px 3px 5px;}
	span.form-title-right4 {margin:0px 7px 0px 0px;}
	span.form-title-signature {
		margin:0px 4px 0px 0px;
		width:56px;
	}
	/* 作用：可以固定表头，但影响【设置】取页面元素
	table tbody {
		display:block;
		height:607px;
		overflow-y:scroll;
	}
	table thead,
	tbody tr {
		display:table;
		width:100%;
		table-layout:fixed;
	}
	*/
</style>
<link rel="stylesheet" type="text/css" href="../service/dhcanop/css/opersafetycheck.css" />
<link rel="stylesheet" type="text/css" href="../service/dhcanop/css/opersafetycheckprint.css" />
</head>
<body class="hisui-layout">
    <!--<div data-options="region:'north',border:false" style="padding:10px 10px 5px 10px;height:120px;">
	<div class="hisui-panel" data-options="fit:true,title:'手术患者信息',headerCls:'panel-header-gray'">
		<div class="form-row">
			<span class="form-title">姓名</span>
			<span class="form-item" id="PatName"></span>
			<span class="form-title">性别</span>
			<span class="form-item" id="PatGender"></span>
			<span class="form-title">年龄</span>
			<span class="form-item" id="PatAge"></span>
			<span class="form-title">科别</span>
			<span class="form-item" id="PatDept"></span>
			<span class="form-title">住院号</span>
			<span class="form-item" id="PatMedCareNo"></span>
		</div>
		<div class="form-row">
			<span class="form-title">手术名称</span>
			<span class="form-item" id="OperationDesc"></span>
			<span class="form-title">手术医师</span>
			<span class="form-item" id="SurgeonDesc"></span>
			<span class="form-title">手术日期</span>
			<span class="form-item" id="OperDate"></span>
			<span class="form-title">麻醉方法</span>
			<span class="form-item" id="AnaMethodDesc"></span>
		</div>
	</div>
	</div>-->
	<div data-options="region:'center',border:false" style="padding:10px 10px 5px 10px;">
    	<form id="dataForm" method="post">
			<table class="condition-table" style="width:100%; border-collapse:separate; border-radius:4px;">
				<thead>
					<tr>
						<th style="background-color:#f5f6f5;width:388px">#(..Get("麻醉实施前"))#</th>
						<th style="background-color:#f5f6f5;width:389px">#(..Get("手术开始前"))#</th>
						<th id="tablehead" style="background-color:#f5f6f5;width:407px">#(..Get("患者离室前"))#</th>
					</tr>
				</thead>
				<tbody style="border-bottom:1px solid #ddd; border-right:1px solid #ddd; border-radius:0px 0px 4px 4px;">
					<tr>
						<td id="PreANSafetyCheck">
							<p style="line-height:22px">
								#(..Get("患者姓名、性别、年龄正确："))#
								<span class="checkbox-list" >
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="PreanPatInfoChecking" data-permission="ANDoc" type="checkbox" value="是" id="PreanPatInfoCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="PreanPatInfoChecking" data-permission="ANDoc" type="checkbox" value="否" id="PreanPatInfoCheckingCHK2"></span>
									<input type="hidden" id="PreanPatInfoChecking" data-title="麻醉前患者姓名、性别、年龄正确" name="PreanPatInfoChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("手术方式确认："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="PreanOperChecking" data-permission="ANDoc" type="checkbox" value="是" id="PreanOperCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="PreanOperChecking" data-permission="ANDoc" type="checkbox" value="否" id="PreanOperCheckingCHK2"></span>
									<input type="hidden" id="PreanOperChecking" data-title="手术方式确认" name="PreanOperChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("手术部位与标识正确："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="PreanBodySiteAndMarkChecking" data-permission="ANDoc" type="checkbox" value="是" id="PreanBodySiteAndMarkCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="PreanBodySiteAndMarkChecking" data-permission="ANDoc" type="checkbox" value="否" id="PreanBodySiteAndMarkCheckingCHK2"></span>
									<input type="hidden" id="PreanBodySiteAndMarkChecking" data-title="手术部位与标识正确" name="PreanBodySiteAndMarkChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("手术知情同意："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="SurgicalConsentChecking" data-permission="ANDoc" type="checkbox" value="是" id="SurgicalConsentCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="SurgicalConsentChecking" data-permission="ANDoc" type="checkbox" value="否" id="SurgicalConsentCheckingCHK2"></span>
									<input type="hidden" id="SurgicalConsentChecking" data-title="手术知情同意" name="SurgicalConsentChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("麻醉知情同意："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="AnaestConsentChecking" data-permission="ANDoc" type="checkbox" value="是" id="AnaestConsentCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="AnaestConsentChecking" data-permission="ANDoc" type="checkbox" value="否" id="AnaestConsentCheckingCHK2"></span>
									<input type="hidden" id="AnaestConsentChecking" data-title="麻醉知情同意" name="AnaestConsentChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("麻醉方式确认："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="AnaestMethodChecking" data-permission="ANDoc" type="checkbox" value="是" id="AnaestMethodCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="AnaestMethodChecking" data-permission="ANDoc" type="checkbox" value="否" id="AnaestMethodCHK2"></span>
									<input type="hidden" id="AnaestMethodChecking" data-title="麻醉方式确认" name="AnaestMethodChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("麻醉设备安全检查完成："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="AnaDeviceSafetyChecking" data-permission="ANDoc" type="checkbox" value="是" id="AnaDeviceSafetyCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="AnaDeviceSafetyChecking" data-permission="ANDoc" type="checkbox" value="否" id="AnaDeviceSafetyCheckingCHK2"></span>
									<input type="hidden" id="AnaDeviceSafetyChecking" data-title="麻醉设备安全检查完成" name="AnaDeviceSafetyChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("皮肤是否完整："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="PreanIntackSkinChecking" data-permission="ANDoc" type="checkbox" value="是" id="PreanIntackSkinCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="PreanIntackSkinChecking" data-permission="ANDoc" type="checkbox" value="否" id="PreanIntackSkinCheckingCHK2"></span>
									<input type="hidden" id="PreanIntackSkinChecking" data-title="皮肤是否完整" name="PreanIntackSkinChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("术前皮肤准备确认："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="PrepareSkinChecking" data-permission="ANDoc" type="checkbox" value="是" id="PrepareSkinCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="PrepareSkinChecking" data-permission="ANDoc" type="checkbox" value="否" id="PrepareSkinCheckingCHK2"></span>
									<input type="hidden" id="PrepareSkinChecking" data-title="术前皮肤准备确认" name="PrepareSkinChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("静脉通道建立完成："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="IntravenousAccessChecking" data-permission="ANDoc" type="checkbox" value="是" id="IntravenousAccessCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="IntravenousAccessChecking" data-permission="ANDoc" type="checkbox" value="否" id="IntravenousAccessCheckingCHK2"></span>
									<input type="hidden" id="IntravenousAccessChecking" data-title="静脉通道建立完成" name="IntravenousAccessChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("患者是否有过敏史："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="AllergicHistoryChecking" data-permission="ANDoc" type="checkbox" value="是" id="AllergicHistoryCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="AllergicHistoryChecking" data-permission="ANDoc" type="checkbox" value="否" id="AllergicHistoryCheckingCHK2"></span>
									<input type="hidden" id="AllergicHistoryChecking" data-title="患者是否有过敏史" name="AllergicHistoryChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("抗菌药物皮试结果："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="AntibioticsSkinTestResult" data-permission="ANDoc" type="checkbox" value="是" id="AntibioticsSkinTestResultCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="AntibioticsSkinTestResult" data-permission="ANDoc" type="checkbox" value="否" id="AntibioticsSkinTestResultCHK2"></span>
									<input type="hidden" id="AntibioticsSkinTestResult" data-title="抗菌药物皮试结果" name="AntibioticsSkinTestResult" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("术前备血："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="PrepareBloodChecking" data-permission="ANDoc" type="checkbox" value="是" id="PrepareBloodCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="PrepareBloodChecking" data-permission="ANDoc" type="checkbox" value="否" id="PrepareBloodCheckingCHK2"></span>
									<input type="hidden" id="PrepareBloodChecking" data-title="术前备血" name="PrepareBloodChecking" class="operdata" data-multiple="N" data-required="Y">
								 </span>
							</p>
							<p>
								#(..Get("假体"))#<input class='hisui-checkbox operdata' data-title="假体" type="checkbox" value="假体" id="Prosthesis" data-permission="ANDoc">
								#(..Get("体内植入物"))#<input class='hisui-checkbox operdata' data-title="体内植入物" type="checkbox" value="体内植入物" id="ImplantationMaterials" data-permission="ANDoc">
								#(..Get("影像学资料"))#<input class='hisui-checkbox operdata' data-title="影像学资料" type="checkbox" value="影像学资料" id="ImagingData" data-permission="ANDoc">
							</p>
							<p>
								#(..Get("实施手术名称"))#<input type="text" class="hisui-validatebox operdata" id="shishiopname" data-title="实施手术名称" name="shishiopname" style="width:173px;margin-left:10px" data-permission="ANDoc">
							</p>
						</td>
						<td id="PreOPSafetyCheck">
							<p>
								#(..Get("患者姓名、性别、年龄正确："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="PreopPatInfoChecking" data-permission="ANDoc" type="checkbox" value="是" id="PreopPatInfoCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="PreopPatInfoChecking" data-permission="ANDoc" type="checkbox" value="否" id="PreopPatInfoCheckingCHK2"></span>
									<input type="hidden" id="PreopPatInfoChecking" data-title="手术开始前患者姓名、性别、年龄正确" name="PreopPatInfoChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("手术方式确认："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="PreopOperChecking" data-permission="ANDoc" type="checkbox" value="是" id="PreopOperCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="PreopOperChecking" data-permission="ANDoc" type="checkbox" value="否" id="PreopOperCheckingCHK2"></span>
									<input type="hidden" id="PreopOperChecking" data-title="手术方式确认" name="PreopOperChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("手术部位与标识正确："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="PreopBodySiteAndMarkChecking" data-permission="ANDoc" type="checkbox" value="是" id="PreopBodySiteAndMarkCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="PreopBodySiteAndMarkChecking" data-permission="ANDoc" type="checkbox" value="否" id="PreopBodySiteAndMarkCheckingCHK2"></span>
									<input type="hidden" id="PreopBodySiteAndMarkChecking" data-title="手术部位与标识正确" name="PreopBodySiteAndMarkChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<h4>
								#(..Get("手术、麻醉风险预警："))#
							</h4>
							
							<p>
								<div>#(..Get("手术医师陈述："))#</div>
								<div class="checkbox-list">
									<div class="checkbox-item">#(..Get("预计手术时间"))#<input class='hisui-checkbox' data-title="预计手术时间" data-formitem="SurgeonPresentation" data-permission="ANDoc" type="checkbox" value="预计手术时间" id="EstimateOperationTime"></div>
									<div class="checkbox-item">#(..Get("预计失血量"))#<input class='hisui-checkbox' data-title="预计失血量" data-formitem="SurgeonPresentation" data-permission="ANDoc" type="checkbox" value="预计失血量" id="EstimateBloodLoss"></div>
									<div class="checkbox-item">#(..Get("手术关注点"))#<input class='hisui-checkbox' data-title="手术关注点" data-formitem="SurgeonPresentation" data-permission="ANDoc" type="checkbox" value="手术关注点" id="SurgicalAttention"></div>
									<div class="checkbox-item">
										#(..Get("其他"))#
										<input class='hisui-checkbox' data-title="其他" data-formitem="SurgeonPresentation" data-permission="ANDoc" type="checkbox" value="其他" id="SurgeonPresentationCHK4">
									</div>
									<div class="checkbox-item" style="margin-right:7px;">
										<input type="text" class="hisui-validatebox operdata" id="AddSurgeonPresentation" data-title="其他" name="AddSurgeonPresentation" style="width:173px" data-permission="ANDoc">
									</div>
									<input type="hidden" id="SurgeonPresentation" data-title="手术医师陈述" name="SurgeonPresentation" class="operdata" data-multiple="Y" data-required="Y">
								</div>
							</p>
							<p class="presentation">
								<div>#(..Get("麻醉医师陈述："))#</div>
								<div>
								<div class="checkbox-list">
									<div class="checkbox-item">#(..Get("麻醉关注点"))#<input class='hisui-checkbox' data-title="麻醉关注点" data-formitem="AnaestPresentation" data-permission="ANDoc" type="checkbox" value="麻醉关注点" id="AnestheticAttention"></div>
									<div class="checkbox-item">
										#(..Get("其他"))#
										<input class='hisui-checkbox' data-title="其他" data-formitem="AnaestPresentation" data-permission="ANDoc" type="checkbox" value="其他" id="AnesthetistPresentation">
									</div>
									<div class="checkbox-item" style="margin-right:7px;">
										<input type="text" class="hisui-validatebox operdata" id="AddAnaestPresentation" data-title="其他" name="AddAnaestPresentation" style="width:173px" data-permission="ANDoc">
									</div>
									<input type="hidden" id="AnaestPresentation" data-title="麻醉医师陈述" name="AnaestPresentation" class="operdata" data-multiple="Y" data-required="Y">
								</div>
								</div>
							</p>
							<p class="presentation">
								<div>#(..Get("手术护士陈述："))#</div>
								<div>
								<div class="checkbox-list">
									<div class="checkbox-item">#(..Get("物品灭菌合格"))#<input class='hisui-checkbox' data-title="物品灭菌合格" data-formitem="OperNursePresentation" data-permission="ANDoc" type="checkbox" value="物品灭菌合格" id="SterilizationGoods"></div>
									<div class="checkbox-item">#(..Get("仪器设备"))#<input class='hisui-checkbox' data-title="仪器设备" data-formitem="OperNursePresentation" data-permission="ANDoc" type="checkbox" value="仪器设备" id="Instrumenttation"></div>
									<div class="checkbox-item">#(..Get("术前术中特殊用药情况"))#<input class='hisui-checkbox' data-title="术前术中特殊用药情况" data-formitem="OperNursePresentation" data-permission="ANDoc" type="checkbox" value="术前术中特殊用药情况" id="SpecialDrugUse"></div>
									<div class="checkbox-item">
										#(..Get("其他"))#
										<input class='hisui-checkbox' data-title="其他" data-formitem="OperNursePresentation" data-permission="ANDoc" type="checkbox" value="其他" id="OperNursePresentationCHK4">
									</div>
									<div class="checkbox-item" style="margin-right:7px;">
										<input type="text" class="hisui-validatebox operdata" id="AddOperNursePresentation" data-title="其他" name="AddOperNursePresentation" style="width:173px" data-permission="ANDoc">
									</div>
									<input type="hidden" id="OperNursePresentation" data-title="手术护士陈述" name="OperNursePresentation" class="operdata" data-multiple="Y" data-required="Y">
								</div>
								</div>
							</p>
							<p class="presentation"></p>
							<p>
								#(..Get("是否需要相关的影像资料："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="NeedImagingData" data-permission="ANDoc" type="checkbox" value="是" id="NeedImagingDataCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="NeedImagingData" data-permission="ANDoc" type="checkbox" value="否" id="NeedImagingDataCHK2"></span>
									<input type="hidden" id="NeedImagingData" data-title="是否需要相关的影像资料" name="NeedImagingData" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							
							
							
						</td>
						<td id="PreOutSafetyCheck">
							<p>
								#(..Get("患者姓名、性别、年龄正确："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="PreoutPatInfoChecking" data-permission="ANDoc" type="checkbox" value="是" id="PreoutPatInfoCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="PreoutPatInfoChecking" data-permission="ANDoc" type="checkbox" value="否" id="PreoutPatInfoCheckingCHK2"></span>
									<input type="hidden" id="PreoutPatInfoChecking" data-title="患者离室前患者姓名、性别、年龄正确" name="PreoutPatInfoChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("实际手术方式确认："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="PreoutOperChecking" data-permission="ANDoc" type="checkbox" value="是" id="PreoutOperCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="PreoutOperChecking" data-permission="ANDoc" type="checkbox" value="否" id="PreoutOperCheckingCHK2"></span>
									<input type="hidden" id="PreoutOperChecking" data-title="实际手术方式确认" name="PreoutOperChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("手术用药、输血的核查："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="OperDrugAndBloodChecking" data-permission="ANDoc" type="checkbox" value="是" id="OperDrugAndBloodCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="OperDrugAndBloodChecking" data-permission="ANDoc" type="checkbox" value="否" id="OperDrugAndBloodCheckingCHK2"></span>
									<input type="hidden" id="OperDrugAndBloodChecking" data-title="手术用药、输血的核查" name="OperDrugAndBloodChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("手术用物清点正确："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="SurgicalInstrumentChecking" data-permission="ANDoc" type="checkbox" value="是" id="SurgicalInstrumentCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="SurgicalInstrumentChecking" data-permission="ANDoc" type="checkbox" value="否" id="SurgicalInstrumentCheckingCHK2"></span>
									<input type="hidden" id="SurgicalInstrumentChecking" data-title="手术用物清点正确" name="SurgicalInstrumentChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("手术标本确认："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="SurgicalSpecimenChecking" data-permission="ANDoc" type="checkbox" value="是" id="SurgicalSpecimenCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="SurgicalSpecimenChecking" data-permission="ANDoc" type="checkbox" value="否" id="SurgicalSpecimenCheckingCHK2"></span>
									<input type="hidden" id="SurgicalSpecimenChecking" data-title="手术标本确认" name="SurgicalSpecimenChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								#(..Get("皮肤是否完整："))#
								<span class="checkbox-list">
									<span>#(..Get("是"))#<input class='hisui-checkbox' data-title="是" data-formitem="PreoutIntackSkinChecking" data-permission="ANDoc" type="checkbox" value="是" id="PreoutIntackSkinCheckingCHK1"></span>
									<span>#(..Get("否"))#<input class='hisui-checkbox' data-title="否" data-formitem="PreoutIntackSkinChecking" data-permission="ANDoc" type="checkbox" value="否" id="PreoutIntackSkinCheckingCHK2"></span>
									<input type="hidden" id="PreoutIntackSkinChecking" data-title="皮肤是否完整" name="PreoutIntackSkinChecking" class="operdata" data-multiple="N" data-required="Y">
								</span>
							</p>
							<p>
								<h4>#(..Get("各种管路："))#</h4>
								<div>
								<div class="checkbox-list">
									<div class="checkbox-item">#(..Get("中心静脉通路"))#<input class='hisui-checkbox' data-title="中心静脉通路" data-formitem="Intubation" data-permission="ANDoc" type="checkbox" value="中心静脉通路" id="IntubationCHK1"></div>
									<div class="checkbox-item">#(..Get("动脉通路"))#<input class='hisui-checkbox' data-title="动脉通路" data-formitem="Intubation" data-permission="ANDoc" type="checkbox" value="动脉通路" id="IntubationCHK2"></div>
									<div class="checkbox-item">#(..Get("气管插管"))#<input class='hisui-checkbox' data-title="气管插管" data-formitem="Intubation" data-permission="ANDoc" type="checkbox" value="气管插管" id="IntubationCHK3"></div>
									<div class="checkbox-item">#(..Get("伤口引流"))#<input class='hisui-checkbox' data-title="伤口引流" data-formitem="Intubation" data-permission="ANDoc" type="checkbox" value="伤口引流" id="IntubationCHK4"></div>
									<div class="checkbox-item">#(..Get("胃管"))#<input class='hisui-checkbox' data-title="胃管" data-formitem="Intubation" data-permission="ANDoc" type="checkbox" value="胃管" id="IntubationCHK5"></div>
									<div class="checkbox-item">#(..Get("尿管"))#<input class='hisui-checkbox' data-title="尿管" data-formitem="Intubation" data-permission="ANDoc" type="checkbox" value="尿管" id="IntubationCHK6"></div>
									<div class="checkbox-item">
										#(..Get("其他"))#
										<input class='hisui-checkbox' data-title="其他" data-formitem="Intubation" type="checkbox" value="其他" id="IntubationCHK7" data-permission="ANDoc">
									</div>
									<div class="checkbox-item" style="margin-right:7px;">
										<input type="text" class="hisui-validatebox operdata" id="AddlIntubation" data-title="其他" name="AddlIntubation" style="width:173px;" data-permission="ANDoc">
									</div>
									<input type="hidden" id="Intubation" data-title="各种管路" name="Intubation" class="operdata">
								</div>
								</div>
							</p>
							<p class="presentation">
								<h4>#(..Get("患者去向："))#</h4>
								<div>
								<div class="checkbox-list">
									<div class="checkbox-item">#(..Get("恢复室"))#<input class='hisui-checkbox' data-title="恢复室" data-formitem="PatientWhereabouts" data-permission="ANDoc" type="checkbox" value="恢复室" id="PatientWhereaboutsCHK1"></div>
									<div class="checkbox-item">#(..Get("病房"))#<input class='hisui-checkbox' data-title="病房" data-formitem="PatientWhereabouts" data-permission="ANDoc" type="checkbox" value="病房" id="PatientWhereaboutsCHK2"></div>
									<div class="checkbox-item">#(..Get("ICU病房"))#<input class='hisui-checkbox' data-title="ICU病房" data-formitem="PatientWhereabouts" data-permission="ANDoc" type="checkbox" value="ICU病房" id="PatientWhereaboutsCHK3"></div>
									<div class="checkbox-item">#(..Get("急诊"))#<input class='hisui-checkbox' data-title="急诊" data-formitem="PatientWhereabouts" data-permission="ANDoc" type="checkbox" value="急诊" id="PatientWhereaboutsCHK4"></div>
									<div class="checkbox-item">#(..Get("离院"))#<input class='hisui-checkbox' data-title="离院" data-formitem="PatientWhereabouts" data-permission="ANDoc" type="checkbox" value="离院" id="PatientWhereaboutsCHK5"></div>
									<div class="checkbox-item">#(..Get("未离室"))#<input class='hisui-checkbox' data-title="未离室" data-formitem="PatientWhereabouts" data-permission="ANDoc" type="checkbox" value="离院" id="PatientWhereaboutsCHK6"></div>
									<input type="hidden" id="PatientWhereabouts" data-title="患者去向" name="PatientWhereabouts" class="operdata" data-multiple="N" data-required="Y">
								</div>
								</div>
							</p>
							<p class="presentation"></p>
							
						</td>
					</tr>
					<tr>
						<td id="PreANSafetyCheckOther">
							<p>
								<span class="form-title-right4">#(..Get("其他"))#</span>
								<span class="form-item-normal">
									<input type="text" data-title="麻醉前其他" class="hisui-validatebox operdata" id="PreanOtherInfo" name="PreanOtherInfo" data-permission="ANDoc" style="width:173px;">
								</span>
								<!-- <a href="#" id="btnPreANSave" data-title="麻醉前项目保存" class="hisui-linkbutton" data-permission="ANDoc" style="background:#21ba45;">保存</a> -->
								<input type="hidden" id="PreANSurgeonChecked" name="PreANSurgeonChecked" class="operdata" data-control="N">
								<input type="hidden" id="PreANAnaestChecked" name="PreANAnaestChecked" class="operdata" data-control="N">
								<input type="hidden" id="PreANNurseChecked" name="PreANNurseChecked" class="operdata" data-control="N">
							</p>
							
						</td>
						<td id="PreOPSafetyCheckOther">
							<p>
								<span class="form-title-right4">#(..Get("其他"))#</span>
								<span class="form-item-normal">
									<input type="text" data-title="手术前其他" class="hisui-validatebox operdata" id="PreopOtherInfo" name="PreopOtherInfo" data-permission="ANDoc" style="width:173px;">
								</span>
								<!--<a href="#" id="btnPreOPSave" data-title="手术前项目保存" class="hisui-linkbutton" data-permission="ANDoc" style="background:#21ba45;">保存</a>-->
								
								<input type="hidden" id="PreOPSurgeonChecked" name="PreOPSurgeonChecked" class="operdata" data-control="N">
								<input type="hidden" id="PreOPAnaestChecked" name="PreOPAnaestChecked" class="operdata" data-control="N">
								<input type="hidden" id="PreOPNurseChecked" name="PreOPNurseChecked" class="operdata" data-control="N">
							</p>
							
						</td>
						<td id="PreOutSafetyCheckOther">
							<p>
								<span class="form-title-right4">#(..Get("其他"))#</span>
								<span class="form-item-normal">
									<input type="text" data-title="离室前其他" class="hisui-validatebox operdata" id="PreoutOtherInfo" name="PreoutOtherInfo" data-permission="ANDoc" style="width:173px;">
								</span>
								<!-- <a href="#" id="btnPreOutSave" data-title="离室前项目保存" class="hisui-linkbutton" data-permission="ANDoc" style="background:#21ba45;">保存</a> -->
								<input type="hidden" id="PreOutSurgeonChecked" name="PreOutSurgeonChecked" class="operdata" data-control="N">
								<input type="hidden" id="PreOutAnaestChecked" name="PreOutAnaestChecked" class="operdata" data-control="N">
								<input type="hidden" id="PreOutNurseChecked" name="PreOutNurseChecked" class="operdata" data-control="N">
							</p>
						</td>
					</tr>
					<tr>
						<td id="PreANSafetySign" style="border-bottom: 0px solid #ddd;">
							<p style="margin:0px 0px 10px 0px">
								<span class="form-title-right4">#(..Get("核查时间"))#</span>
								<input type="text" data-title="麻醉前核查时间" class="hisui-datetimebox operdata" id="PreANCheckDT" data-permission="ANDoc" style="width:180px;">
							</p>
							<p style="margin:10px 0px">
								<span class="form-title-signature">#(..Get("手术医生"))#</span>
								<input class="hisui-triggerbox signature" data-title="手术医生" id="PreANSurgeonSign" data-options="icon:'icon-w-edit',prompt:'手术医生签名',CareProvType:'DOCTOR'" style="width:180px;">
								<a href="#" id="btnPreANSurgeonSubmit" class="hisui-linkbutton" data-submitCode="PreANSurgeonSign">提交</a>
								<a href="#" id="btnPreANSurgeonRevokeSubmit" class="hisui-linkbutton" data-revokeSubmitCode="PreANSurgeonSign">撤销提交</a>
							</p>
							<p style="margin:10px 0px">
								<span class="form-title-signature">#(..Get("麻醉医生"))#</span>
								<input type="text" class="hisui-triggerbox signature" data-title="麻醉医生" id="PreANAnaestSign" data-options="icon:'icon-w-edit',prompt:'麻醉医生签名',CareProvType:'DOCTOR'" style="width:180px;">
								<a href="#" id="btnPreANAnaestSubmit" class="hisui-linkbutton" data-submitCode="PreANAnaestSign">提交</a>
								<a href="#" id="btnPreANAnaestRevokeSubmit" class="hisui-linkbutton" data-revokeSubmitCode="PreANAnaestSign">撤销提交</a>
							</p>
							<p style="margin:10px 0px 0px 0px">
								<span class="form-title-signature">#(..Get("手术护士"))#</span>
								<input type="text" class="hisui-triggerbox signature" data-title="手术护士" id="PreANOperNurseSign" data-options="icon:'icon-w-edit',prompt:'手术护士签名',CareProvType:'NURSE'" style="width:180px;">
								<a href="#" id="btnPreANOperNurseSubmit" class="hisui-linkbutton" data-submitCode="PreANOperNurseSign">提交</a>
								<a href="#" id="btnPreANOperNurseRevokeSubmit" class="hisui-linkbutton" data-revokeSubmitCode="PreANOperNurseSign">撤销提交</a>
							</p>
						</td>
						<td id="PreOPSafetySign" style="border-bottom: 0px solid #ddd;">
							<p style="margin:0px 0px 10px 0px">
								<span class="form-title-right4">#(..Get("核查时间"))#</span>
								<input type="text" class="hisui-datetimebox operdata" data-title="手术前核查时间" id="PreOPCheckDT" data-permission="ANDoc" style="width:180px;">
							</p>
							<p style="margin:10px 0px">
								<span class="form-title-signature">#(..Get("手术医生"))#</span>
								<input type="text" class="hisui-triggerbox signature" data-title="手术医生" id="PreOPSurgeonSign" data-options="icon:'icon-w-edit',prompt:'手术医生签名',CareProvType:'DOCTOR'" style="width:180px;">
								<a href="#" id="btnPreOPSurgeonSubmit" class="hisui-linkbutton" data-submitCode="PreOPSurgeonSign">提交</a>
								<a href="#" id="btnPreOPSurgeonRevokeSubmit" class="hisui-linkbutton" data-revokeSubmitCode="PreOPSurgeonSign">撤销提交</a>
							</p>
							<p style="margin:10px 0px">
								<span class="form-title-signature">#(..Get("麻醉医生"))#</span>
								<input type="text" class="hisui-triggerbox signature" data-title="麻醉医生" id="PreOPAnaestSign" data-options="icon:'icon-w-edit',prompt:'麻醉医生签名',CareProvType:'DOCTOR'" style="width:180px;">
								<a href="#" id="btnPreOPAnaestSubmit" class="hisui-linkbutton" data-submitCode="PreOPAnaestSign">提交</a>
								<a href="#" id="btnPreOPAnaestRevokeSubmit" class="hisui-linkbutton" data-revokeSubmitCode="PreOPAnaestSign">撤销提交</a>
							</p>
							<p style="margin:10px 0px 0px 0px">
								<span class="form-title-signature">#(..Get("手术护士"))#</span>
								<input type="text" class="hisui-triggerbox signature" data-title="手术护士" id="PreOPOperNurseSign" data-options="icon:'icon-w-edit',prompt:'手术护士签名',CareProvType:'NURSE'" style="width:180px;">
								<a href="#" id="btnPreOPOperNurseSubmit" class="hisui-linkbutton" data-submitCode="PreOPOperNurseSign">提交</a>
								<a href="#" id="btnPreOPOperNurseRevokeSubmit" class="hisui-linkbutton" data-revokeSubmitCode="PreOPOperNurseSign">撤销提交</a>
							</p>
						</td>
						<td id="PreOutSafetySign" style="border-bottom: 0px solid #ddd;">
							<p style="margin:0px 0px 10px 0px">
								<span class="form-title-right4">#(..Get("核查时间"))#</span>
								<input type="text" class="hisui-datetimebox operdata" data-title="离室前核查时间" id="PreOutCheckDT" data-permission="ANDoc" style="width:180px;">
							</p>
							<p style="margin:10px 0px">
								<span class="form-title-signature">#(..Get("手术医生"))#</span>
								<input type="text" class="hisui-triggerbox signature" data-title="手术医生" id="PreOutSurgeonSign" data-options="icon:'icon-w-edit',prompt:'手术医生签名',CareProvType:'DOCTOR'" style="width:180px;">
								<a href="#" id="btnPreOutSurgeonSubmit" class="hisui-linkbutton" data-submitCode="PreOutSurgeonSign">提交</a>
								<a href="#" id="btnPreOutSurgeonRevokeSubmit" class="hisui-linkbutton" data-revokeSubmitCode="PreOutSurgeonSign">撤销提交</a>
							</p>
							<p style="margin:10px 0px">
								<span class="form-title-signature">#(..Get("麻醉医生"))#</span>
								<input type="text" class="hisui-triggerbox signature" data-title="麻醉医生" id="PreOutAnaestSign" data-options="icon:'icon-w-edit',prompt:'麻醉医生签名',CareProvType:'DOCTOR'" style="width:180px;">
								<a href="#" id="btnPreOutAnaestSubmit" class="hisui-linkbutton" data-submitCode="PreOutAnaestSign">提交</a>
								<a href="#" id="btnPreOutAnaestRevokeSubmit" class="hisui-linkbutton" data-revokeSubmitCode="PreOutAnaestSign">撤销提交</a>
							</p>
							<p style="margin:10px 0px 0px 0px">
								<span class="form-title-signature">#(..Get("手术护士"))#</span>
								<input type="text" class="hisui-triggerbox signature" data-title="手术护士" id="PreOutOperNurseSign" data-options="icon:'icon-w-edit',prompt:'手术护士签名',CareProvType:'NURSE'" style="width:180px;">
								<a href="#" id="btnPreOutOperNurseSubmit" class="hisui-linkbutton" data-submitCode="PreOutOperNurseSign">提交</a>
								<a href="#" id="btnPreOutOperNurseRevokeSubmit" class="hisui-linkbutton" data-revokeSubmitCode="PreOutOperNurseSign">撤销提交</a>
							</p>
						</td>
					</tr>
				</tbody>
			</table>
		</form>
	</div>
    <div id="buttonBox" data-options="region:'south',border:false" style="height:41px;padding-top:2px;">
		<div class="button-list" style="padding:0">
			<a href="#" id="btnSave" class="hisui-linkbutton" data-permission="All">暂存</a>
			<a href="#" id="btnPrint" class="hisui-linkbutton" data-options="iconCls:'icon-w-print'" data-permission="All">打印</a>
			<a href="#" id="btnArchive" class="hisui-linkbutton" data-options="iconCls:'icon-w-file'" data-permission="All">归档</a>
			<a href="#" id="btnRefresh" class="hisui-linkbutton" data-options="iconCls:'icon-w-update'" data-permission="All">刷新</a>
			<a href="#" id="btnSheetSetting" class="hisui-linkbutton" data-options="iconCls:'icon-w-update'" data-permission="All">设置</a>
		</div>
	</div>
	<script type="text/javascript" src="../service/dhcanop/js/LodopFuncs.js"></script>
	<script type="text/javascript" src="../service/dhcanop/js/dhcan.canvas.js"></script>
	<script type="text/javascript" src="../service/dhcanop/js/PrintTemplate/dhccl.pagenotabsview.js"></script>
	<script type="text/javascript" src="../service/dhcanop/js/PrintTemplate/dhccl.displaysheet.js"></script>
	<script type="text/javascript" src="../service/dhcanop/js/CIS.AN.SheetSettings.js"></script>

	<script type="text/javascript" src="../service/dhcanop/js/CIS.AN.OperData.js"></script>
	<script type="text/javascript" src="../service/dhcanop/js/CIS.AN.DrawContext.js"></script>
	<script type="text/javascript" src="../service/dhcanop/js/CA/CIS.AN.CA.Signature.js"></script>
	<script type="text/javascript" src="../service/dhcanop/js/CIS.AN.SubmitSheetView.js"></script>
	<script type="text/javascript" src="../service/dhcanop/js/CIS.AN.ArchiveRecord.js"></script>
</body>
<script type="text/javascript">

$(function(){

	if(typeof HISUIStyleCode=='string' && HISUIStyleCode=='lite'){
	    //表头固定后，td由于滚动条占用一定宽度导致无法与th对齐，故需要手动调整宽度
		//炫彩模式与极简模式的滚动条宽度不同，炫彩设置宽度409px;极简设置398px
		document.getElementById("tablehead").style.width="398px";
		//炫彩模式与极简模式的打印保存刷新等按钮高度不同，炫彩按钮高度30px;极简按钮高度28px
		document.getElementById("buttonBox").style.height="39px";
	}

	archiveRecordManager.initPage('PreANSurgeonSign^PreANAnaestSign^PreANOperNurseSign^PreOPSurgeonSign^PreOPAnaestSign^PreOPOperNurseSign^PreOutSurgeonSign^PreOutAnaestSign^PreOutOperNurseSign');
	setPrintCheckBox();
	
	$("#btnSave").linkbutton({
        onClick: function() {
            archiveRecordManager.save();
        }
    });

	// 麻醉实施前
    $("#btnPreANSurgeonSubmit,#btnPreANAnaestSubmit,#btnPreANOperNurseSubmit").linkbutton({
        onClick: function() {
	        var archiveCode = $(this).attr("data-submitCode");
            archiveRecordManager.submitSheet(archiveCode,"#PreANSafetyCheck,#PreANSafetyCheckOther,#PreANSafetySign");
        }
    });

    $("#btnPreANSurgeonRevokeSubmit,#btnPreANAnaestRevokeSubmit,#btnPreANOperNurseRevokeSubmit").linkbutton({
        onClick: function() {
	        var archiveCode = $(this).attr("data-revokeSubmitCode");
            archiveRecordManager.revokeSubmitSheet(archiveCode);
        }
    });
    
    // 手术开始前
    $("#btnPreOPSurgeonSubmit,#btnPreOPAnaestSubmit,#btnPreOPOperNurseSubmit").linkbutton({
        onClick: function() {
	        var archiveCode = $(this).attr("data-submitCode");
            archiveRecordManager.submitSheet(archiveCode,"#PreOPSafetyCheck,#PreOPSafetyCheckOther,#PreOPSafetySign");
        }
    });

    $("#btnPreOPSurgeonRevokeSubmit,#btnPreOPAnaestRevokeSubmit,#btnPreOPOperNurseRevokeSubmit").linkbutton({
        onClick: function() {
	        var archiveCode = $(this).attr("data-revokeSubmitCode");
            archiveRecordManager.revokeSubmitSheet(archiveCode);
        }
    });
    
    // 患者离室前
    $("#btnPreOutSurgeonSubmit,#btnPreOutAnaestSubmit,#btnPreOutOperNurseSubmit").linkbutton({
        onClick: function() {
	        var archiveCode = $(this).attr("data-submitCode");
            archiveRecordManager.submitSheet(archiveCode,"#PreOutSafetyCheck,#PreOutSafetyCheckOther,#PreOutSafetySign");
        }
    });

    $("#btnPreOutSurgeonRevokeSubmit,#btnPreOutAnaestRevokeSubmit,#btnPreOutOperNurseRevokeSubmit").linkbutton({
        onClick: function() {
	        var archiveCode = $(this).attr("data-revokeSubmitCode");
            archiveRecordManager.revokeSubmitSheet(archiveCode);
        }
    });
    
    $("#btnPrint").linkbutton({
	    onClick: function() {
	        archiveRecordManager.print();
	    }
    });

    $("#btnArchive").linkbutton({
        onClick: function() {
            archiveRecordManager.archive();
        }
    });

    $("#btnRefresh").linkbutton({
        onClick: function() {
            window.location.reload();
        }
    });
	
	$("#btnSheetSetting").linkbutton({
        onClick:function(){
            var sheetSettings=new SheetSettings({
                title:"安全核查",
                moduleId:session.ModuleID,
                closeCallBack:function(){
                    window.location.reload();
                }
            });
            sheetSettings.open();
        }
    });
    
    function setPrintCheckBox(){
	    $("input[type='checkbox']").each(function(index,el){
	        var printSelector="#"+$(this).attr("id")+"_Print";
	        if($(printSelector).length<=0) return;
	        $(printSelector).text($(this).checkbox("getValue")?"√":"/");
	        if($(this).checkbox("getValue"))$(printSelector).addClass('print-checkbox-checked');
	    });
	}
	
});


</script>
</html>
