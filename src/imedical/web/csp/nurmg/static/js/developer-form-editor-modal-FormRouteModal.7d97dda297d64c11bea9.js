webpackJsonp([108,19,112],{"2N8g":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("woOf"),l=n.n(r),o=n("mvHQ"),a=n.n(o),i=n("9eQB"),u=n("6WKJ"),s={name:"DhcDictSelector",data:function(){return{dictList:[],sourceList:[],initFlag:!0,defaultAction:{ClassName:"web.INMDBComm",MethodName:"FindPubCode",MethodType:"Query"}}},props:{value:[String,Array],queryParam:Object,filterField:{type:Array,default:function(){return["SubDesc"]}},triggerChange:{type:Boolean},dictCode:{type:String},dictKey:String,dictLabel:{type:String,default:"SubDesc"},dictValue:{type:Array,default:function(){return["SubValue"]}},dictData:Array,disabled:Boolean,placeholder:{type:String,default:"请选择列表值"},size:{type:String,default:"mini"},multiple:{type:Boolean},defaultFirstOption:{type:Boolean},filterable:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0}},watch:{dictData:{immediate:!0,handler:function(e){e&&e.length&&(this.dictList=e,this.sourceList=e)}},dictCode:{immediate:!0,handler:function(e){e&&this.loadDict()}},queryParam:{immediate:!0,handler:function(e,t){e&&a()(e)!==a()(t)&&this.loadDict()}},multiple:{immediate:!0,handler:function(e){e&&(this.val=[])}}},computed:{val:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},currentDictKey:function(){return this.dictKey||this.dictValue[0]},isCustomApi:function(){return Object(u.isNotEmptyObject)(this.queryParam)&&!this.dictCode}},created:function(){},mounted:function(){},methods:{loadDict:function(){var e=this,t={};this.isCustomApi?l()(t,this.queryParam):l()(t,this.defaultAction,{type:this.dictCode}),this.asyncRequest(t).then(function(t){e.dictList=t.data.rows,e.sourceList=t.data.rows}).catch(function(t){e.$message.error("字典请求网络异常")})},handleChange:function(e){this.val=e,this.triggerChange?this.$emit("change",e):this.$emit("input",e)},handleValue:function(e){var t="",n=[];return this.dictValue&&this.dictValue.length>0&&(this.dictValue.forEach(function(t){return n.push(e[t])}),t=n.join(i.DELIMITER.Caret)),t},filterMethod:function(e){var t=this;this.dictList=e?this.sourceList.filter(function(n){return"[object string]"===Object.prototype.toString.call(n).toLowerCase()?n.includes(e):Object(u.isNotEmptyArray)(t.filterField)?t.checkInObjectWithFields(e,n,t.filterField):void 0}):this.sourceList},handleClear:function(e){this.filterMethod(e)},checkInObjectWithFields:function(e,t,n){var r=!1;for(var l in t)t.hasOwnProperty(l)&&n.includes(l)&&(r=r||t[l].includes(e.toUpperCase()));return r}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",e._b({attrs:{value:e.val,"default-first-option":e.defaultFirstOption,filterable:e.filterable,disabled:e.disabled,clearable:e.clearable,size:e.size,placeholder:e.placeholder,multiple:e.multiple},on:{change:e.handleChange}},"el-select",e.$attrs,!1),e._l(e.dictList,function(t){return n("el-option",{key:t[e.currentDictKey],attrs:{label:t[e.dictLabel],value:e.handleValue(t)}})}),1)},staticRenderFns:[]},c=n("VU/8")(s,d,!1,null,null,null);t.default=c.exports},"5PlU":function(e,t,n){var r=n("RY/4"),l=n("dSzd")("iterator"),o=n("/bQp");e.exports=n("FeBl").isIterable=function(e){var t=Object(e);return void 0!==t[l]||"@@iterator"in t||o.hasOwnProperty(r(t))}},BO1k:function(e,t,n){e.exports={default:n("fxRn"),__esModule:!0}},WXDk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("woOf"),l=n.n(r),o=n("Dd8w"),a=n.n(o),i=n("NYxO"),u={name:"FormRouteModal",components:{DhcDictSelector:n("2N8g").default},data:function(){return{DeveloperMode:!1,formModel:{MenuCode:"",MenuDesc:"",MenuModuleDR:"",MenuParentDR:"",MenuRouter:"",MenuPath:"",MenuLink:"",MenuParams:"",MenuIcon:"",MenuSort:"",MenuStDate:"",MenuEndDate:""},ParenMenus:[],ModuleData:[],api:{findMenu:{ClassName:"web.INMSetComm",MethodName:"FindMenuList",MethodType:"RecQuery"}}}},computed:a()({},Object(i.b)(["DateFormat"]),{findMenuApi:function(){var e=["","",this.formModel.MenuModuleDR].join("^");return l()({},this.api.findMenu,{parr:e})}}),methods:{GetParentMenu:function(){var e=this,t=e.axiosConfig("web.INMSetComm","FindMenuList","RecQuery","parr$^^"+e.editForm.MenuModuleDR);e.$ajax.request(t).then(function(t){e.ParenMenus=t.data.rows}).catch(function(e){})}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"form-route-modal"}},[n("el-form",{attrs:{model:e.formModel,inline:""}},[n("el-form-item",{attrs:{label:""}})],1),e._v(" "),n("el-form",{ref:"editForm",attrs:{model:e.formModel,rules:e.rules,"label-width":"100px",inline:!0,"label-position":"right"}},[n("div",{staticStyle:{width:"540px"}},[n("el-form-item",{attrs:{label:"菜单代码",prop:"MenuCode"}},[n("el-input",{attrs:{disabled:!!e.editForm.rw,clearable:"",placeholder:"菜单代码,唯一性",size:"mini"},model:{value:e.formModel.MenuCode,callback:function(t){e.$set(e.formModel,"MenuCode",t)},expression:"formModel.MenuCode"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"菜单名称",prop:"MenuDesc"}},[n("el-input",{attrs:{clearable:"",placeholder:"界面菜单显示名称",size:"mini"},model:{value:e.formModel.MenuDesc,callback:function(t){e.$set(e.formModel,"MenuDesc",t)},expression:"formModel.MenuDesc"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"所属模块",prop:"MenuModuleDR"}},[n("el-select",{attrs:{clearable:"",placeholder:"挂于某模块下",size:"mini"},model:{value:e.formModel.MenuModuleDR,callback:function(t){e.$set(e.formModel,"MenuModuleDR",t)},expression:"formModel.MenuModuleDR"}},e._l(e.ModuleData,function(e){return n("el-option",{key:e.rw,attrs:{label:e.ModuleDesc,value:e.rw}})}),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"父菜单",prop:"MenuParentDR"}},[n("dhc-dict-selector",{attrs:{"query-param":e.findMenuApi,placeholder:"请选择父菜单"},model:{value:e.formModel.MenuParentDR,callback:function(t){e.$set(e.formModel,"MenuParentDR",t)},expression:"formModel.MenuParentDR"}}),e._v(" "),n("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"mini"},model:{value:e.formModel.MenuParentDR,callback:function(t){e.$set(e.formModel,"MenuParentDR",t)},expression:"formModel.MenuParentDR"}},e._l(e.ParenMenus,function(e){return n("el-option",{key:e.rw,attrs:{label:e.MenuDesc,value:e.rw}})}),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"访问路由",prop:"MenuRouter"}},[n("el-input",{attrs:{clearable:"",placeholder:"跳转路由，唯一性",size:"mini"},model:{value:e.formModel.MenuRouter,callback:function(t){e.$set(e.formModel,"MenuRouter",t)},expression:"formModel.MenuRouter"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"组件路径",prop:"MenuPath"}},[n("el-input",{attrs:{clearable:"",placeholder:"组件地址,末端必填",size:"mini"},model:{value:e.formModel.MenuPath,callback:function(t){e.$set(e.formModel,"MenuPath",t)},expression:"formModel.MenuPath"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"外部链接",prop:"MenuLink"}},[n("el-input",{attrs:{clearable:"",size:"mini"},model:{value:e.formModel.MenuLink,callback:function(t){e.$set(e.formModel,"MenuLink",t)},expression:"formModel.MenuLink"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"菜单参数",prop:"MenuParams"}},[n("el-input",{attrs:{clearable:"",size:"mini"},model:{value:e.formModel.MenuParams,callback:function(t){e.$set(e.formModel,"MenuParams",t)},expression:"formModel.MenuParams"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"菜单图标",prop:"MenuIcon"}},[n("el-input",{attrs:{clearable:"",size:"mini"},model:{value:e.formModel.MenuIcon,callback:function(t){e.$set(e.formModel,"MenuIcon",t)},expression:"formModel.MenuIcon"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"显示顺序",prop:"MenuSort"}},[n("el-input-number",{attrs:{min:1,max:100,size:"mini"},model:{value:e.formModel.MenuSort,callback:function(t){e.$set(e.formModel,"MenuSort",t)},expression:"formModel.MenuSort"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"启用日期",prop:"MenuStDate"}},[n("el-date-picker",{attrs:{clearable:"",type:"date",format:e.DateFormat,placeholder:"选择日期","default-value":new Date,size:"mini"},model:{value:e.formModel.MenuStDate,callback:function(t){e.$set(e.formModel,"MenuStDate",t)},expression:"formModel.MenuStDate"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"停用日期",prop:"MenuEndDate"}},[n("el-date-picker",{attrs:{clearable:"",type:"date",format:e.DateFormat,placeholder:"选择日期",size:"mini"},model:{value:e.formModel.MenuEndDate,callback:function(t){e.$set(e.formModel,"MenuEndDate",t)},expression:"formModel.MenuEndDate"}})],1),e._v(" "),e.DeveloperMode?n("el-form-item",{attrs:{label:"高级版",prop:"IsAdvanced"}},[n("el-switch",{attrs:{"inactive-value":"N","inactive-color":"#ff4949","inactive-text":"否","active-value":"Y","active-color":"#13ce66","active-text":"是",disabled:!e.DeveloperMode},model:{value:e.formModel.IsAdvanced,callback:function(t){e.$set(e.formModel,"IsAdvanced",t)},expression:"formModel.IsAdvanced"}})],1):e._e()],1)])],1)},staticRenderFns:[]};var d=n("VU/8")(u,s,!1,function(e){n("cvQw")},"data-v-5b6e43fd",null);t.default=d.exports},Xd32:function(e,t,n){n("+tPU"),n("zQR9"),e.exports=n("5PlU")},cvQw:function(e,t){},d7EF:function(e,t,n){"use strict";t.__esModule=!0;var r=o(n("us/S")),l=o(n("BO1k"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=(0,l.default)(e);!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},fxRn:function(e,t,n){n("+tPU"),n("zQR9"),e.exports=n("g8Ux")},g8Ux:function(e,t,n){var r=n("77Pl"),l=n("3fs2");e.exports=n("FeBl").getIterator=function(e){var t=l(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},"us/S":function(e,t,n){e.exports={default:n("Xd32"),__esModule:!0}}});