webpackJsonp([198],{GVj6:function(e,t){},RU8c:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("Dd8w"),i=n.n(s),r=n("NYxO"),l={name:"ExamTheory",props:["rw"],components:{hgbutton:n("XlQt").default},computed:i()({},Object(r.b)(["Height","SysTomcat","styleCode"])),data:function(){return{isAnalysisFlag:!1,answerTime:"00:00:00",answerTimer:"",timerTop:50,timerRight:50,index:0,answerNum:1,problems:[],imgWidth:"400",dialogSheetVisible:!1,dialogAnalylisVisible:!1,showAnalylistFlag:!1,rightAnswerNum:"",nullAnswerNum:"",optionTitleStore:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]}},watch:{index:function(e,t){this.index+1>this.answerNum&&(this.answerNum=this.index+1)}},methods:{OpenAnswerSheet:function(){this.dialogSheetVisible=!0,this.StopTime()},CloseAnswerSheet:function(){this.dialogSheetVisible=!1,this.StartTime()},ToProblemClick:function(e){this.index=e,this.CloseAnswerSheet()},ToAnalysClick:function(e){var t=this,n=new Array;t.problems.forEach(function(s,i){i+1>t.answerNum||(e?1!=s.CorrectFlag&&n.push(s):n.push(s))}),0!=n.length?(t.answerNum=n.length,t.problems=n,t.dialogAnalylisVisible=!1,t.index=0):t.$message({type:"warning",message:"无相关解析",showClose:!0,customClass:"warning_class"})},OpenAnalysis:function(){this.dialogSheetVisible=!1,this.dialogAnalylisVisible=!0,this.showAnalylistFlag=!0;var e=/^(」)\1*$/,t=0,n=0;that.problems.forEach(function(s,i){i+1>that.answerNum||(1==s.CorrectFlag&&(t+=1),s.result&&e.test(s.result)||(n+=1))}),that.rightAnswerNum=t,that.nullAnswerNum=n},CloseAnalysisSheet:function(){this.dialogAnalylisVisible=!1,this.showAnalylistFlag=!1,this.BackClick()},SetAnswerClick:function(e){var t=this.problems[this.index];"S"==t.SubMode?(0==t.Result.length?t.Result.push(e):t.Result.splice(0,1,e),this.problems[this.index]=t,this.index<this.problems.length-1&&(this.index=this.index+1)):(t.Result.indexOf(e)>-1?t.Result.splice(t.Result.indexOf(e),1):t.Result.push(e),this.problems[this.index]=t),this.problems[this.index].Result.sort(),this.problems[this.index].SubAnswer.sort()},SaveProblem:function(){var e=this;if(!e.showAnalylistFlag){for(var t="",n=0;n<e.problems.length;n++){var s=e.problems[n];if(s){var i=s.SubRw,r=s.ExamTime,l=s.Result.toString();t=t?t+"」"+i+"「"+r+"「"+l:i+"「"+r+"「"+l}}var o=e.rw;e.StopTime();var a=e.answerTime,u=e.axiosConfig("web.INMTeaComm","SaveLearnDryRunSub","Method","parr$"+t,"rw$"+o,"ExamTime$"+a);e.$ajax.request(u).then(function(t){if(t.data.length>100)e.$message({type:"warning",message:"后台方法错了^_^",showClose:!0,customClass:"warning_class"});else if(0==t.data.split("^")[0])e.$message({type:"warning",message:t.data.split("^")[1],showClose:!0,customClass:"warning_class"});else{for(var n=t.data.split("^")[1].split(","),s=0;s<e.problems.length;s++)e.problems[s].CorrectFlag=n[s];e.OpenAnswerSheet()}}).catch(function(e){})}},GetAllProblems:function(){var e=this,t=e.rw,n=e.axiosConfig("web.INMTeaComm","FindLearnDryRunSubList","RecQuery","parr$"+t);e.$ajax.request(n).then(function(t){var n=t.data.rows;n&&0!=n.length?(n.map(function(e){for(var t in e)"SubUrl"!=t&&"SubOption"!=t&&"Result"!=t&&"SubAnswer"!=t||(""!=e[t]?(e[t]="SubOption"==t||"Result"==t||"SubAnswer"==t?e[t].split("」"):e[t].split(","),"Result"!=t&&"SubAnswer"!=t||"M"!=e.SubMode&&"S"!=e.SubMode||(e[t]=e[t].map(Number))):"B"==e.SubMode&&"Result"==t?e[t]=new Array(1).fill(""):e[t]=new Array),"AnswerTimes"!=t&&"UsedTime"!=t||(e[t]=parseInt(e[t]))}),e.problems=n,e.index=0,e.answerNum=1,e.StartTime()):e.$message({type:"warning",message:"未获取需要练习题目",showClose:!0,customClass:"warning_class"})}).catch(function(e){})},BeforClick:function(){0!=this.index?this.index=this.index-1:this.$message({type:"warning",message:"已跳转到本此解答第一题",showClose:!0,customClass:"warning_class"})},NextClick:function(){var e=this.index;this.problems[e].Result;if(this.showAnalylistFlag){if(this.index>=this.problems.length-1)return void this.$message({type:"warning",message:"已置最后一题",showClose:!0,customClass:"warning_class"});this.index=this.index+1}this.index=this.index+1},BackClick:function(){this.$emit("CloseClick")},StopTime:function(){this.answerTimer&&(clearInterval(this.answerTimer),this.answerTimer="")},StartTime:function(){var e=this;this.answerTimer||(this.answerTimer=setInterval(function(){var t=e.answerTime,n=60*parseInt(t.split(":")[0])*60+60*parseInt(t.split(":")[1])+parseInt(t.split(":")[2]);n+=1;var s=parseInt(n/60/60),i=parseInt(n/60)%60,r=n%60;t=(s=s<10?"0"+s:s)+":"+(i=i<10?"0"+i:i)+":"+(r=r<10?"0"+r:r),e.answerTime=t,e.problems[e.index].ExamTime=e.problems[e.index].ExamTime+1},1e3))},TimerMouseDown:function(e){var t=this;t.$refs.timer.style.cursor="pointer";var n=t.$refs.answerContext.offsetWidth,s=t.$refs.timer.offsetWidth,i=t.$refs.timer.offsetHeight,r=t.$refs.answerContext.offsetHeight-i-3,l=n-s-3,o=e.pageY-t.timerTop,a=t.timerRight+e.pageX;t.isMoveFlag=!0,t.$refs.timer.onmousemove=function(e){if(t.isMoveFlag){var n=e.pageY-o;n=(n=n<0?0:n)>r?r:n;var s=a-e.pageX;s=(s=s<0?0:s)>l?l:s,t.timerTop=n,t.timerRight=s}}}},created:function(){var e=this;e.GetAllProblems(),e.answerTime="00:00:00",document.onmouseup=function(){e.isMoveFlag=!1}},beforeDestroy:function(){clearInterval(this.answerTimer)}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"learn-dryrunsub-panel"},[n("div",{staticClass:"test_tool_div"},[n("div",{staticStyle:{float:"right"}},[n("font",{staticStyle:{color:"#6FA6FF"}},[e._v(e._s(e.index+1))]),e._v("\n            /"),n("font",[e._v(e._s(e.problems.length))]),e._v(" "),n("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-forward":"nm-icon-forward"},on:{click:e.BeforClick}},[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb60ols0")))]),e._v(" "),n("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-backward":"nm-icon-backward"},on:{click:e.NextClick}},[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb60p4g0")))]),e._v(" "),e.showAnalylistFlag||e.index!=e.problems.length-1?e._e():n("hgbutton",{directives:[{name:"intervalclick",rawName:"v-intervalclick",value:{func:e.SaveProblem,time:500},expression:"{func:SaveProblem,time:500}"}],attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-ok":"nm-icon-lite-ok"}},[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb60pqw0")))]),e._v(" "),n("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-back":"nm-icon-lite-back"},on:{click:e.BackClick}},[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb60q000")))])],1)]),e._v(" "),n("div",{ref:"answerContext",staticClass:"answer_context",style:{height:e.Height-60+"px"}},[n("div",{ref:"timer",staticClass:"timer",style:{top:e.timerTop+"px",right:e.timerRight+"px"},on:{mousedown:function(t){return e.TimerMouseDown(t)}}},[n("div",{staticClass:"title"},[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb60qlg0")))]),e._v(" "),n("div",{staticClass:"content"},[e._v(e._s(e.answerTime))])]),e._v(" "),e.problems&&e.problems.length>0?n("div",{staticStyle:{margin:"10px"}},[n("div",[n("span",{style:{color:e.styleCode?"#40A2DE":"#339eff"}},[e._v("【"+e._s("S"==e.problems[e.index].SubMode?e.$t("menu.LearnDryRunSub.5nrncb61ip00"):"M"==e.problems[e.index].SubMode?e.$t("menu.LearnDryRunSub.5nrncb62gd00"):"B"==e.problems[e.index].SubMode?e.$t("menu.LearnDryRunSub.5nrncb62uqs0"):e.$t("menu.LearnDryRunSub.5nrncb637s00"))+"】")]),e._v(" "),"B"==e.problems[e.index].SubMode?e._l(e.problems[e.index].SubDesc.split("﹏﹏"),function(t,s){return n("font",{key:s},[0!=s?n("font",{staticStyle:{"text-decoration":"underline","padding-bottom":"2px"}},[e._v("（"+e._s(s)+"）")]):e._e(),e._v("\n                        "+e._s(t)+"\n                    ")],1)}):n("font",[e._v(e._s(e.problems[e.index].SubDesc))]),e._v(" "),e.problems[e.index].ExamScore?n("font",{staticStyle:{color:"#C6DAEC"}},[e._v("("+e._s(e.problems[e.index].ExamScore)+")")]):e._e(),e._v(" "),e.problems[e.index].SubSource?n("font",{staticStyle:{color:"#C6DAEC"}},[e._v("("+e._s(e.problems[e.index].SubSource)+")")]):e._e()],2),e._v(" "),n("div",{staticStyle:{margin:"20px 10px 20px 50px"}},e._l(e.problems[e.index].SubUrl,function(t){return n("img",{key:t,attrs:{width:e.imgWidth,src:e.SysTomcat+t}})}),0),e._v(" "),e.problems[e.index].SubOption?n("div",{staticClass:"exam_theory_sub_option"},[n("ul",e._l(e.problems[e.index].SubOption,function(t,s){return n("li",{key:s},[n("span",{staticClass:"option_default",class:e.problems[e.index].Result.indexOf(s)>-1?"option_active":"",on:{click:function(t){return e.SetAnswerClick(s)}}},[e._v(e._s(e.optionTitleStore[s]))]),e._v(" "),n("font",[e._v(e._s(t))])],1)}),0)]):e._e(),e._v(" "),e.problems[e.index].Result&&"B"==e.problems[e.index].SubMode?n("div",{staticClass:"exam_theory_sub_option"},[n("ul",e._l(e.problems[e.index].Result,function(t,s){return n("li",{key:s},[e._v("\n                        （"+e._s(s+1)+"）\n                        "),n("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:e.problems[e.index].Result[s],callback:function(t){e.$set(e.problems[e.index].Result,s,t)},expression:"problems[index].Result[ResultIndex]"}})],1)}),0)]):e._e(),e._v(" "),"A"==e.problems[e.index].SubMode?n("div",{staticClass:"exam_theory_sub_option"},[n("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:"3",placeholder:e.$t("menu.LearnDryRunSub.5nrncb659hk0"),size:"mini"},model:{value:e.problems[e.index].Result[0],callback:function(t){e.$set(e.problems[e.index].Result,0,t)},expression:"problems[index].Result[0]"}})],1):e._e(),e._v(" "),e.showAnalylistFlag?n("div",{staticClass:"exam_theory_sub_option"},[n("div",[n("div",{staticClass:"analysis_title"},[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb65an40")))]),e._v(" "),"A"==e.problems[e.index].SubMode?[e._v("\n                        "+e._s(e.problems[e.index].SubRefAnswer)+"\n                    ")]:"B"==e.problems[e.index].SubMode?[e._l(e.problems[e.index].SubAnswer,function(t,s){return n("font",{key:t},[e._v("\n                            （"+e._s(s+1)+"）"+e._s(t)),n("br")])}),e._v(" "),1==e.problems[e.index].CorrectFlag?n("font",[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb65bvs0")))]):e.problems[e.index].CorrectFlag>0?n("font",[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb65c4k0")))]):n("font",[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb65cbw0")))])]:[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb65ckg0"))),e._l(e.problems[e.index].SubAnswer,function(t){return n("font",{key:t,staticStyle:{color:"#64C6EA"}},[e._v("\n                        "+e._s(e.optionTitleStore[t])+"\n                    ")])}),e._v("\n                    ;\n                        "),1==e.problems[e.index].CorrectFlag?n("font",[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb65dq40")))]):n("font",[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb65dxo0"))),e.problems[e.index].Result&&e.problems[e.index].Result.length>0?e._l(e.problems[e.index].Result,function(t){return n("font",{key:t,staticStyle:{color:"#FF0000"}},[e._v("\n                                "+e._s(e.optionTitleStore[t])+"\n                            ")])}):e._e(),e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb65esg0")))],2)]],2),e._v(" "),e.problems[e.index].SubAnalysis?n("div",[n("div",{staticClass:"analysis_title"},[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb65f5w0")))]),e._v(" "),n("div",[e._v(e._s(e.problems[e.index].SubAnalysis))])]):e._e()]):e._e()]):e._e()]),e._v(" "),n("div",[n("el-dialog",{attrs:{title:e.$t("menu.LearnDryRunSub.5nrncb669ok0"),visible:e.dialogSheetVisible,"append-to-body":"","show-close":!1,"close-on-click-modal":!1,"custom-class":"el-dialog_tiny"},on:{"update:visible":function(t){e.dialogSheetVisible=t}}},[e.problems&&e.problems.length>0?n("div",{staticStyle:{"margin-left":"15px"}},e._l(e.problems,function(t,s){return n("span",{key:s,staticClass:"option_default",class:t.Result&&0!=t.Result.length?"option_active":"",staticStyle:{margin:"10px 10px 0 0"},on:{click:function(t){return e.ToProblemClick(s)}}},[e._v(e._s(s+1))])}),0):e._e(),e._v(" "),n("div",{staticStyle:{"text-align":"center",margin:"10px 0"}},[n("hgbutton",{staticStyle:{width:"130px"},attrs:{type:"default"},on:{click:e.OpenAnalysis}},[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb66b8w0")))]),e._v(" "),n("hgbutton",{attrs:{type:"default"},on:{click:e.CloseAnswerSheet}},[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb66bjw0")))])],1)]),e._v(" "),n("el-dialog",{attrs:{title:e.$t("menu.LearnDryRunSub.5nrncb677e80"),visible:e.dialogAnalylisVisible,"append-to-body":"","show-close":!1,"close-on-click-modal":!1,"custom-class":"el-dialog_tiny"},on:{"update:visible":function(t){e.dialogAnalylisVisible=t}}},[n("div",{staticStyle:{"margin-left":"15px","border-bottom":"1px dashed #CFCFCF"}},[n("div",{staticStyle:{color:"#20A0FF"}},[n("i",{staticClass:"el-icon-notebook-1"}),e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb678b80")))]),e._v(" "),n("div",{staticStyle:{margin:"10px"}},[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb678l40"))+e._s(e.answerNum)+e._s(e.$t("menu.LearnDryRunSub.5nrncb678og0"))+e._s(e.rightAnswerNum)+e._s(e.$t("menu.LearnDryRunSub.5nrncb678r00"))+e._s(e.nullAnswerNum)+e._s(e.$t("menu.LearnDryRunSub.5nrncb678tg0"))+e._s(e.answerTime))])]),e._v(" "),e.problems&&e.problems.length>0?n("div",{staticStyle:{margin:"15px 0 0 15px"}},[n("span",{staticStyle:{color:"#20A0FF"}},[n("i",{staticClass:"el-icon-s-grid"}),e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb669ok0")))]),n("br"),e._v(" "),e._l(e.answerNum,function(t){return n("span",{key:t,staticClass:"option_default",class:1==e.problems[t-1].CorrectFlag?"option_active":e.problems[t-1].rw?"option_error":"",staticStyle:{margin:"10px 10px 0 0"}},[e._v(e._s(t))])})],2):e._e(),e._v(" "),n("div",{staticClass:"bottom-button"},[n("hgbutton",{staticStyle:{width:"110px"},attrs:{type:"default"},on:{click:function(t){return e.ToAnalysClick(!1)}}},[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb67ah80")))]),e._v(" "),n("hgbutton",{staticStyle:{width:"110px"},attrs:{type:"default"},on:{click:function(t){return e.ToAnalysClick(!0)}}},[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb67aqk0")))]),e._v(" "),n("hgbutton",{staticStyle:{width:"80px"},attrs:{type:"default"},on:{click:e.CloseAnalysisSheet}},[e._v(e._s(e.$t("menu.LearnDryRunSub.5nrncb67azg0")))])],1)])],1)])},staticRenderFns:[]};var a=n("VU/8")(l,o,!1,function(e){n("GVj6")},null,null);t.default=a.exports}});