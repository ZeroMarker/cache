webpackJsonp([239],{OaCR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),s=a.n(n),r=a("zL8q"),o=a("NYxO"),i=a("XlQt"),l=a("W5Fe"),c=a("qfDe").create_excel,d={components:{hgbutton:i.default,hgpagination:l.default},computed:s()({},Object(o.b)(["Height","SysTomcat","LoginId","DateFormat","styleCode"])),name:"PersonTransRandom",data:function(){return{disabled:!1,id:"",index:"",searchform:{StDate:new Date((new Date).getFullYear(),(new Date).getMonth(),1),EndDate:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),Person:"",InWard:"",OutWard:""},backform:{date:""},pickeroptions:{disabledDate:function(e){return e.getTime()<Date.parse(new Date)-864e5}},backrule:{date:[{required:!0,type:"date",message:"返科日期不能为空",trigger:"change"}]},wardstore:[],selection:[],AppData:[],selectrow:"",CheckData:[],levelstore:[],personlist:[],holder:"请输入关键字",currentPage:1,currentPageSize:20,totalCount:0,currentPage1:1,currentPageSize1:20,totalCount1:0,dialogCheckVisible:!1,drawer:!1,dialogBackVisible:!1,islook:!1,WardNurData:[],elementlist:[],editWardStore:[],winFlag:0,reasonStore:[]}},mounted:function(){this.LoadAllNur()},created:function(){this.LoadAppData(),this.LoadWardData(),this.LoadWardNurData(),this.loadTypeComm("levelstore","护士层级"),this.loadTypeComm("reasonStore","调配原因");var e=this.$router.currentRoute.path.slice(1,this.$router.currentRoute.path.length);this.loadElementsForRouter("elementlist",e)},methods:{queryReason:function(e,t){t(e?this.reasonStore.filter(function(t){return t.value.toLowerCase().indexOf(e.toLowerCase())>-1}):this.reasonStore)},loadTypeComm:function(e,t){var a=this;a.$ajax.request(a.axiosConfig("web.INMPersonCountComm","FindPubCode","Query","type$"+t)).then(function(t){a[e]=t.data.rows,"reasonStore"==e&&(a[e]=a.reasonStore.map(function(e){return{value:e.SubDesc,code:e.SubValue}}))})},LoadWardNurData:function(){var e=this;e.$ajax.request(e.axiosConfig("web.INMPersonComm","FindWardNurData","RecQuery","ward$","nurseid$"+sessionStorage.loginID)).then(function(t){e.WardNurData=t.data.rows})},LoadWardData:function(){var e=this;e.$ajax.request(e.axiosConfig("web.INMDBComm","FindWardList","RecQuery","parr$^Y","input$")).then(function(t){e.wardstore=t.data.rows,e.editWardStore=t.data.rows})},LoadAppData:function(){var e=this,t="";for(var a in e.searchform)t=-1!=a.indexOf("Date")?e.searchform[a]instanceof Date?t?t+"^"+a+"|"+e.searchform[a].Format("YYYY-MM-dd"):a+"|"+e.searchform[a].Format("YYYY-MM-dd"):t?t+"^"+a+"|":a+"|":void 0==e.searchform[a]?t?t+"^"+a+"|":a+"|":t?t+"^"+a+"|"+e.searchform[a]:a+"|"+e.searchform[a];e.$ajax.request(e.axiosConfig("web.INMPersonComm","FindTransNurseList","RecQuery","parr$"+t,"type$Random","app$","start$"+(e.currentPage-1)*e.currentPageSize,"limit$"+e.currentPageSize)).then(function(t){e.AppData=t.data.rows,e.totalCount=parseInt(t.data.results),e.selection=new Array,e.selectrow=""})},AddApp:function(){this.winFlag=0,this.CheckData=new Array,this.dialogCheckVisible=!0,this.editWardStore=this.wardstore,this.islook=!0},querySearch:function(e,t){var a=this.personlist;e?t(a.filter(this.createFilter(e))):t(new Array)},createFilter:function(e){var t=["PerName","PerID","pershort"];return function(a){return t.some(function(t){return a[t].toLowerCase().indexOf(e.toLowerCase())>-1})}},LoadAllNur:function(){var e=this,t=sessionStorage.getItem("loginID");e.$ajax.request(e.axiosConfig("web.INMHRComm","FindPersonList","RecQuery","loginID$"+t,"parr$","input$")).then(function(t){e.personlist=t.data.rows})},GetIndex:function(e){this.index=e},handleSelect:function(e){this.CheckData[this.index].NurLevel=e.Level,this.CheckData[this.index].NurType=e.NurType,this.CheckData[this.index].NurWard=e.WardDesc,this.CheckData[this.index].TransNurId=e.perdr,this.CheckData[this.index].WardId=e.perward,this.CheckData[this.index].TransStDate="",this.CheckData[this.index].TransEndDate=""},DeleteApp:function(){var e=this,t=e.selection,a="";if(void 0==t||t.length<1)e.$message({type:"warning",message:"请选择要删除的记录",showClose:!0,customClass:"warning_class"});else{for(var n=0;n<t.length;n++){var s=t[n];if(s){if("已保存"!=s.Status)return void e.$message({type:"warning",message:"已提交记录不可删除",showClose:!0,customClass:"warning_class"});if(s.CreateUserId!=sessionStorage.getItem("loginID"))return void e.$message({type:"warning",message:"非本人创建不可删除",showClose:!0,customClass:"warning_class"});s.TransNur&&(a=""==a?s.TransNur:a+"^"+s.TransNur)}}e.$confirm("此操作将删除"+t.length+"条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=e.axiosConfig("web.INMPersonComm","DeleteTransNur","Method","parr$"+a);e.$ajax.request(t).then(function(t){e.LoadAppData()})}).catch(function(){e.$message({type:"info",message:"已取消删除",showClose:!0,customClass:"info_class"})})}},RowDbClick:function(e){this.winFlag=1,this.selectrow=e,this.OperateApp(e)},OperateApp:function(e){this.selectrow=e,this.islook=!1,this.CheckData=new Array,this.dialogCheckVisible=!0,this.editWardStore=this.wardstore,this.CheckData.push(e)},Export:function(){if(0!=this.AppData.length){var e=r.Loading.service({fullscreen:!0,text:"拼命加载中..."}),t=new Array,a=new Array;c([{label:"护士姓名",prop:"TransNurName",width:150},{label:"调配原因",prop:"TransReason",width:150},{label:"调出科室",prop:"NurWard",width:130},{label:"调入科室",prop:"InWard",width:130},{label:"调配开始日期",prop:"TransStDate",width:130},{label:"调配结束日期",prop:"TransEndDate",width:130},{label:"调入天数",prop:"TransDays",width:130},{label:"调配人",prop:"CreateUser",width:130},{label:"创建日期",prop:"CreateDate",width:130}],this.AppData,t,"","export","调岗审批","调岗审批",a,e),e.close()}else this.$message({type:"warning",message:"无数据导出",showClose:!0,customClass:"warning_class"})},PersonDistribute:function(){this.drawer=!0},RowSelect:function(e){this.selection=e},SaveCheck:function(e){var t=this,a="";if("Y"!=e||"已提交"!=t.selectrow.Status)if(0!=t.CheckData.length){for(var n=0;n<t.CheckData.length;n++){var s="",r="";if(!t.CheckData[n].TransNurName||!t.CheckData[n].NurWard)return void t.$message({type:"warning",message:"护士信息不能为空",showClose:!0,customClass:"warning_class"});if(!t.CheckData[n].TransStDate)return void t.$message({type:"warning",message:"调配开始日期不能为空",showClose:!0,customClass:"warning_class"});if("轮转"==t.CheckData[n].NurType&&!t.CheckData[n].TransEndDate)return void t.$message({type:"warning",message:"轮转护士的调配结束日期不能为空",showClose:!0,customClass:"warning_class"});if(!t.CheckData[n].InWardId)return void t.$message({type:"warning",message:"调入病区不能为空",showClose:!0,customClass:"warning_class"});if(t.CheckData[n].TransStDate instanceof Date&&(s=t.CheckData[n].TransStDate.Format("YYYY-MM-dd")),"string"==typeof t.CheckData[n].TransStDate&&(s=t.CheckData[n].TransStDate),t.CheckData[n].TransEndDate instanceof Date&&(r=t.CheckData[n].TransEndDate.Format("YYYY-MM-dd")),"string"==typeof t.CheckData[n].TransEndDate&&(r=t.CheckData[n].TransEndDate),t.CheckData[n].InWardId==t.CheckData[n].WardId)return void t.$message({type:"warning",message:"存在人员转入转出科室一样",showClose:!0,customClass:"warning_class"});a=(a=a+"「^NurseId|"+t.CheckData[n].TransNurId+"^WardId|"+t.CheckData[n].WardId+"^TransStDate|"+s+"^TransEndDate|"+r+"^InWard|"+t.CheckData[n].InWardId)+"^TransDays|"+t.CheckData[n].TransDays+"^TransType|Random^TransNur|"+t.CheckData[n].TransNur+"^TransReason|"+t.CheckData[n].TransReason}"N"==e?t.$ajax.request(t.axiosConfig("web.INMPersonComm","SaveTransNurse","Method","parr$"+a,"flag$"+e,"app$","nurseid$"+sessionStorage.loginID)).then(function(e){if(1!=e.data)return"0"==e.data?void t.$message({type:"warning",message:"保存失败",showClose:!0,customClass:"warning_class"}):e.data.length>100?void t.$message({type:"warning",message:"后台方法错了,请联系开发工程师^_^",showClose:!0,customClass:"warning_class"}):void t.$message({type:"warning",message:e.data,showClose:!0,customClass:"warning_class"});t.$message({type:"success",message:"保存成功！",showClose:!0,customClass:"success_class"}),t.dialogCheckVisible=!1,t.dialogAppVisible=!1,t.LoadAppData()}):t.$confirm("此操作会将下列护士调配至其他科室, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$ajax.request(t.axiosConfig("web.INMPersonComm","SaveTransNurse","Method","parr$"+a,"flag$"+e,"app$","nurseid$"+sessionStorage.loginID)).then(function(e){if(1!=e.data)return"0"==e.data?void t.$message({type:"warning",message:"保存失败",showClose:!0,customClass:"warning_class"}):e.data.length>100?void t.$message({type:"warning",message:"后台方法错了,请联系开发工程师^_^",showClose:!0,customClass:"warning_class"}):void t.$message({type:"warning",message:e.data,showClose:!0,customClass:"warning_class"});t.$message({type:"success",message:"保存成功！",showClose:!0,customClass:"success_class"}),t.dialogCheckVisible=!1,t.dialogAppVisible=!1,t.LoadAppData()})}).catch(function(){t.$message({type:"info",message:"已取消撤销",showClose:!0,customClass:"info_class"})})}else t.$message({type:"warning",message:"无数据保存",showClose:!0,customClass:"warning_class"});else t.$message({type:"warning",message:"不能重复提交",showClose:!0,customClass:"warning_class"})},GetDays:function(){var e="",t="";if(""!=this.AppEditForm.PlanStDate&&void 0!=this.AppEditForm.PlanStDate&&""!=this.AppEditForm.PlanEndDate&&void 0!=this.AppEditForm.PlanEndDate){this.AppEditForm.PlanStDate instanceof Date&&(e=this.AppEditForm.PlanStDate.Format("YYYY-MM-dd")),this.AppEditForm.PlanEndDate instanceof Date&&(t=this.AppEditForm.PlanEndDate.Format("YYYY-MM-dd"));var a=this.DateDifference(e,t);if("-1"==a)return this.$message({type:"warning",message:"开始日期必须大于结束日期",showClose:!0,customClass:"warning_class"}),this.AppEditForm.PlanStDate="",void(this.AppEditForm.PlanEndDate="");this.AppEditForm.PlanDays=a}},GetTransDays:function(e,t){var a=this,n="",s="";if(!a.CheckData[e].TransNurName)return a.$message({type:"warning",message:"请先选择调配人员",showClose:!0,customClass:"warning_class"}),a.CheckData[e].TransStDate="",void(a.CheckData[e].TransEndDate="");if(a.CheckData[e].TransStDate&&a.CheckData[e].TransEndDate){n=a.CheckData[e].TransStDate instanceof Date?a.CheckData[e].TransStDate.Format("YYYY-MM-dd"):a.CheckData[e].TransStDate,s=a.CheckData[e].TransEndDate instanceof Date?a.CheckData[e].TransEndDate.Format("YYYY-MM-dd"):a.CheckData[e].TransEndDate;var r=a.DateDifference(n,s);if("-1"==r)return a.$message({type:"warning",message:"开始日期必须小于结束日期",showClose:!0,customClass:"warning_class"}),a.CheckData[e].TransStDate="",void(a.CheckData[e].TransEndDate="");a.CheckData[e].TransDays=r}else a.CheckData[e].TransDays="";"st"==t&&a.CheckData[e].TransStDate&&a.CheckData[e].TransNurId&&(n=a.CheckData[e].TransStDate.Format("YYYY-MM-dd"),a.$ajax.request(a.axiosConfig("web.INMHRComm","GetCurrentWard","Method","perdr$"+a.CheckData[e].TransNurId,"date$"+n)).then(function(t){""!=t.data?(a.CheckData[e].WardId=t.data,a.$ajax.request(a.axiosConfig("web.INMDBComm","GetWard","RecMethod","id$"+t.data)).then(function(t){a.CheckData[e].NurWard=t.data.WardDesc})):a.$message({type:"warning",message:t.data,showClose:!0,customClass:"warning_class"})}))},AddTransNur:function(){this.editWardStore=this.wardstore,this.CheckData.push({TransNurName:"",NurType:"",NurLevel:"",NurWard:"",WardId:"",TransStDate:"",TransEndDate:"",TransDays:"",TransNurId:"",TransNur:"",InWard:"",InWardid:"",TransReason:"",CreateUser:"",CreateDate:"",CreateUserId:"",Status:""})},DeleteTransNur:function(e){var t=this;t.$confirm("此操作将删除第"+(e+1)+"条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.CheckData.splice(e,1)})},BackDep:function(){var e=this;e.selectrow.NurType,e.$ajax.request(e.axiosConfig("web.INMPersonComm","IsBack","Method","id$"+e.selectrow.TransNur)).then(function(t){1==t.data?e.dialogBackVisible=!0:e.$message({type:"warning",message:t.data,showClose:!0,customClass:"warning_class"})})},SaveBackDep:function(){var e=this;e.$refs.backform.validate(function(t){if(t){var a="";if(e.backform.date instanceof Date&&(a=e.backform.date.Format("YYYY-MM-dd")),"-1"==e.DateDifference(e.selectrow.TransStDate,a))return void e.$message({type:"warning",message:"返科日期不能早于调配开始日期",showClose:!0,customClass:"warning_class"});var n="「^NurseId|"+e.selectrow.TransNurId+"^TransStDate|"+a;e.$ajax.request(e.axiosConfig("web.INMPersonComm","IsHasArg","Method","parr$"+n)).then(function(t){"0"==t.data?e.$ajax.request(e.axiosConfig("web.INMPersonComm","BackDep","Method","id$"+e.selectrow.TransNur,"date$"+a,"type$"+e.selectrow.NurType,"nurseid$"+sessionStorage.loginID)).then(function(t){if(1==t.data)return e.dialogBackVisible=!1,e.dialogCheckVisible=!1,e.LoadAppData(),void e.$message({type:"success",message:"返科成功",showClose:!0,customClass:"success_class"});t.data.length<100?e.$message({type:"warning",message:t.data,showClose:!0,customClass:"warning_class"}):e.$message({type:"warning",message:"返科失败",showClose:!0,customClass:"warning_class"})}):e.$message({type:"warning",message:t.data+"存在"+a+"之后的排班",showClose:!0,customClass:"warning_class"})})}})},DateDifference:function(e,t){var a,n;return(a=new Date(t))-(n=new Date(e))<=0?"-1":parseInt(Math.abs(a-n)/1e3/60/60/24)},handleCurrentChange:function(e){this.currentPage=e.currentPage,this.LoadAppData()},handleSizeChange:function(e){this.currentPageSize=e,this.LoadAppData()},handleclose:function(e){this.dialogAppVisible=!1,this.selectrow="",this.LoadAppData(),this.$refs.AppData.clearSelection(),e()},CancelSubmit:function(){var e=this;e.$confirm("此操作会撤销该调配记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$ajax.request(e.axiosConfig("web.INMPersonComm","RejectSubmit","Method","transnur$"+e.selectrow.TransNur),"type$"+e.selectrow.NurType).then(function(t){return"1"==t.data?(e.$message({type:"success",message:"撤销成功",showClose:!0,customClass:"success_class"}),e.dialogCheckVisible=!1,void e.LoadAppData()):"-1"==t.data?void e.$message({type:"warning",message:"撤销失败",showClose:!0,customClass:"warning_class"}):void e.$message({type:"warning",message:t.data,showClose:!0,customClass:"warning_class"})})}).catch(function(){e.$message({type:"info",message:"已取消撤销",showClose:!0,customClass:"info_class"})})},filterWardMethod:function(e){this.filterAcronym(e,"editWardStore","wardstore","WardDesc","WardSpell")}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"per-tran-random-panel"},[a("div",{staticStyle:{height:"auto",width:"1000px",margin:"auto"}},[a("el-steps",{staticStyle:{"margin-top":"20px","margin-bottom":"4px"},attrs:{"align-center":"",space:700,active:1,"finish-status":"success"}},[a("el-step",{attrs:{title:e.$t("menu.PersonTransRandom.5nrnb1u1xow0")}}),e._v(" "),a("el-step",{attrs:{title:e.$t("menu.PersonTransRandom.5nrnb1u2yk40")}})],1)],1),e._v(" "),a("div",[a("el-row",{staticStyle:{padding:"10px"}},[a("el-col",[a("div",{staticClass:"top-tool-button-dialog-toph dialog-div-top-radius"},[a("el-form",{attrs:{model:e.searchform,inline:!0}},[a("el-form-item",{attrs:{label:e.$t("menu.PersonTransRandom.5nrnb1u3v4g0")}},[a("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"date",format:e.DateFormat,size:"mini"},model:{value:e.searchform.StDate,callback:function(t){e.$set(e.searchform,"StDate",t)},expression:"searchform.StDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.PersonTransRandom.5nrnb1u4rv40")}},[a("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"date",format:e.DateFormat,size:"mini"},model:{value:e.searchform.EndDate,callback:function(t){e.$set(e.searchform,"EndDate",t)},expression:"searchform.EndDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.PersonTransRandom.5nrnb1u5puc0")}},[a("el-select",{staticStyle:{width:"130px"},attrs:{"default-first-option":"",filterable:"",clearable:"",placeholder:e.$t("menu.PersonTransRandom.5nrnb1u7n5c0"),size:"mini"},model:{value:e.searchform.InWard,callback:function(t){e.$set(e.searchform,"InWard",t)},expression:"searchform.InWard"}},e._l(e.wardstore,function(e){return a("el-option",{key:e.rw,attrs:{label:e.WardDesc,value:e.rw}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.PersonTransRandom.5nrnb1u8oss0")}},[a("el-select",{staticStyle:{width:"130px"},attrs:{"default-first-option":"",filterable:"",clearable:"",placeholder:e.$t("menu.PersonTransRandom.5nrnb1u7n5c0"),size:"mini"},model:{value:e.searchform.OutWard,callback:function(t){e.$set(e.searchform,"OutWard",t)},expression:"searchform.OutWard"}},e._l(e.wardstore,function(e){return a("el-option",{key:e.rw,attrs:{label:e.WardDesc,value:e.rw}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.PersonTransRandom.5nrnb1ubgew0")}},[a("el-input",{staticStyle:{width:"150px"},attrs:{filterable:"",clearable:"",placeholder:e.$t("menu.PersonTransRandom.5ncy65wcfv80"),size:"mini"},model:{value:e.searchform.Person,callback:function(t){e.$set(e.searchform,"Person",t)},expression:"searchform.Person"}})],1),e._v(" "),a("el-form-item",[a("hgbutton",{attrs:{type:"default",styleCode:e.styleCode,icon:"nm-icon-w-find"},on:{click:e.LoadAppData}},[e._v(e._s(e.$t("menu.PersonTransRandom.5nrnb1ubkqg0")))])],1)],1)],1),e._v(" "),a("div",{staticClass:"top-tool-buttonDiv"},[this.elementlist.AddApp1||0==e.LoginId?a("hgbutton",{ref:"AddApp1",attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-add":"nm-icon-lite-add"},on:{click:e.AddApp}},[e._v(e._s(e.$t("menu.PersonTransRandom.5nrnb1ubmb80")))]):e._e(),e._v(" "),this.elementlist.DeleteApp1||0==e.LoginId?a("hgbutton",{ref:"DeleteApp1",attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-cancel":"nm-icon-lite-cancel"},on:{click:e.DeleteApp}},[e._v(e._s(e.$t("menu.PersonTransRandom.5nrnb1ubn340")))]):e._e(),e._v(" "),this.elementlist.Export1||0==e.LoginId?a("hgbutton",{ref:"Export1",attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-export":"nm-icon-lite-export"},on:{click:e.Export}},[e._v(e._s(e.$t("menu.PersonTransRandom.5nrnb1ubnvk0")))]):e._e(),e._v(" "),this.elementlist.PersonDistribute1||0==e.LoginId?a("hgbutton",{ref:"PersonDistribute1",attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-doc-caseload":"nm-icon-lite-caseload"},on:{click:e.PersonDistribute}},[e._v(e._s(e.$t("menu.PersonTransRandom.5nrnb1uboh00")))]):e._e()],1),e._v(" "),a("div",{staticClass:"top-tool-dialog-table dialog-table-bottom-radius"},[a("el-table",{ref:"AppData",attrs:{data:e.AppData,height:e.styleCode?e.Height-234:e.Height-228,"header-cell-style":e.headerCellFontWeight,border:e.styleCode,"highlight-current-row":""},on:{"selection-change":e.RowSelect,"row-dblclick":e.RowDbClick}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),e._v(" "),e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"TransNurName","show-overflow-tooltip":"",width:"150",label:e.$t("menu.PersonTransRandom.5nrnb1udr1o0")}}),e._v(" "),a("el-table-column",{attrs:{prop:"TransReason","show-overflow-tooltip":"",label:e.$t("menu.PersonTransRandom.5ncy65wcmj80")}}),e._v(" "),a("el-table-column",{attrs:{prop:"NurWard","show-overflow-tooltip":"",width:"200",label:e.$t("menu.PersonTransRandom.5nrnb1u8oss0")}}),e._v(" "),a("el-table-column",{attrs:{prop:"InWard","show-overflow-tooltip":"",width:"200",label:e.$t("menu.PersonTransRandom.5nrnb1u5puc0")}}),e._v(" "),a("el-table-column",{attrs:{prop:"TransStDate",width:"120",label:e.$t("menu.PersonTransRandom.5nrnb1ugdcs0"),formatter:e.PTableDateHisShow}}),e._v(" "),a("el-table-column",{attrs:{prop:"TransEndDate",width:"120",label:e.$t("menu.PersonTransRandom.5nrnb1uh9o00"),formatter:e.PTableDateHisShow}}),e._v(" "),a("el-table-column",{attrs:{prop:"TransDays",width:"100",label:e.$t("menu.PersonTransRandom.5nrnb1ui7f80")}}),e._v(" "),a("el-table-column",{attrs:{prop:"CreateUser",width:"100",label:e.$t("menu.PersonTransRandom.5ncy65wcofc0")}}),e._v(" "),a("el-table-column",{attrs:{prop:"Status",width:"70",label:e.$t("menu.PersonTransRandom.5nrnb1ujji00")}}),e._v(" "),a("el-table-column",{attrs:{prop:"CreateDate",width:"150",label:e.$t("menu.PersonTransRandom.5nrnb1ukkb40")}}),e._v(" "),e._e()],1),e._v(" "),a("hgpagination",{attrs:{styleCode:e.styleCode,sizes:[20,40,50,100],totalCount:e.totalCount,pageNumber:e.currentPage,pageSize:e.currentPageSize},on:{changePage:e.handleCurrentChange,getPageSize:e.handleSizeChange}})],1)])],1)],1),e._v(" "),a("div",[a("el-dialog",{attrs:{title:e.$t("menu.PersonTransRandom.5nrnb1ulopc0"),visible:e.drawer,width:"60%"},on:{"update:visible":function(t){e.drawer=t}}},[a("div",{staticClass:"dialog-header-title",attrs:{slot:"title"},slot:"title"},[e.styleCode?a("i",{staticClass:"nm-icon-w-paper"}):e._e(),e._v(" "),a("span",[e._v(e._s(e.$t("menu.PersonTransRandom.5nrnb1ulopc0")))])]),e._v(" "),a("div",{staticClass:"top-tool-dialog-table dialog-table-bottom-radius dialog-div-top-radius"},[a("el-table",{staticClass:"dialog-table-bottom-radius dialog-div-top-radius",staticStyle:{"border-bottom":"0"},attrs:{title:e.$t("menu.PersonTransRandom.5nrnb1ulopc0"),data:e.WardNurData,height:e.Height-128,"header-cell-style":e.headerCellFontWeight,border:e.styleCode,"highlight-current-row":""}},[a("el-table-column",{attrs:{label:e.$t("menu.PersonTransRandom.5nrnb1uno7k0"),prop:"Ward","show-overflow-tooltip":"",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.PersonTransRandom.5nrnb1uonk40"),prop:"PatCount",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.PersonTransRandom.5nrnb1uqc1s0"),prop:"NurCount",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.PersonTransRandom.5nrnb1urbs40"),prop:"NurPat",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.PersonTransRandom.5nrnb1us8hs0"),width:"80",prop:"Dange"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.PersonTransRandom.5nrnb1ut4f40"),prop:"Emerge",width:"80"}}),e._v(" "),e._l(e.levelstore,function(e){return a("el-table-column",{key:e.SubValue,attrs:{width:"100",label:e.SubDesc,prop:e.SubValue}})})],2)],1)])],1),e._v(" "),a("el-dialog",{attrs:{title:e.$t("menu.PersonTransRandom.5nrnb1uu16c0"),modal:"","close-on-click-modal":!1,top:"11%",visible:e.dialogBackVisible,width:"450px"},on:{"update:visible":function(t){e.dialogBackVisible=t}}},[a("div",{staticClass:"dialog-header-title",attrs:{slot:"title"},slot:"title"},[e.styleCode?a("i",{staticClass:"nm-icon-w-paper"}):e._e(),e._v(" "),a("span",[e._v(e._s(e.$t("menu.PersonTransRandom.5nrnb1uu16c0")))])]),e._v(" "),a("el-form",{ref:"backform",staticClass:"searchselect",attrs:{inline:!0,model:e.backform,rules:e.backrule,"label-position":"left"}},[a("el-form-item",{attrs:{label:e.$t("menu.PersonTransRandom.5nrnb1uuys00"),prop:"date"}},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",format:e.DateFormat,size:"mini"},model:{value:e.backform.date,callback:function(t){e.$set(e.backform,"date",t)},expression:"backform.date"}})],1)],1),e._v(" "),a("div",{staticClass:"bottom-button"},[a("hgbutton",{directives:[{name:"intervalclick",rawName:"v-intervalclick",value:{func:e.SaveBackDep,time:500},expression:"{func:SaveBackDep,time:500}"}],attrs:{type:"default",styleCode:e.styleCode}},[e._v(e._s(e.$t("menu.PersonTransRandom.5nrnb1uv08g0")))]),e._v(" "),a("hgbutton",{attrs:{type:"default",styleCode:e.styleCode},on:{click:function(t){e.dialogBackVisible=!1}}},[e._v(e._s(e.$t("menu.PersonTransRandom.5nrnb1uv0nc0")))])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:0==e.winFlag?e.$t("menu.PersonTransRandom.5nrnb1ubmb80"):e.$t("menu.PersonTransRandom.5nrnb1ubmb81"),modal:"","close-on-click-modal":!1,visible:e.dialogCheckVisible,width:"1250px","before-close":e.handleclose},on:{"update:visible":function(t){e.dialogCheckVisible=t}}},[a("div",{staticClass:"dialog-header-title",attrs:{slot:"title"},slot:"title"},[e.styleCode?a("i",{class:[0==e.winFlag?"nm-icon-w-plus":"nm-icon-w-edit"]}):e._e(),e._v(" "),0==e.winFlag?a("span",[e._v(e._s(e.$t("menu.PersonTransRandom.5nrnb1ubmb80")))]):1==e.winFlag?a("span",[e._v(e._s(e.$t("menu.PersonTransRandom.5nrnb1ubmb81")))]):e._e()]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:""==e.selectrow||e.selectrow.Status==e.$t("menu.PersonTransRandom.5nrnb1uwz2s0"),expression:"selectrow == '' || selectrow['Status'] ==$t('menu.PersonTransRandom.5nrnb1uwz2s0')"}],staticClass:"per-top-tool-button dialog-div-top-radius"},[a("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-add":"nm-icon-lite-add"},on:{click:e.AddTransNur}},[e._v(e._s(e.$t("menu.PersonTransRandom.5nrnb1ubmb80")))]),e._v(" "),a("hgbutton",{directives:[{name:"intervalclick",rawName:"v-intervalclick",value:{func:e.SaveCheck,time:500,value:"N"},expression:"{func:SaveCheck,time:500,value:'N'}"}],attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-save":"nm-icon-lite-save"}},[e._v(e._s(e.$t("menu.PersonTransRandom.5nrnb1uxw1s0")))]),e._v(" "),a("hgbutton",{directives:[{name:"intervalclick",rawName:"v-intervalclick",value:{func:e.SaveCheck,time:500,value:"Y"},expression:"{func:SaveCheck,time:500,value:'Y'}"}],attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-submit":"nm-icon-lite-submit"}},[e._v(e._s(e.$t("menu.PersonTransRandom.5nrnb1uxwvs0")))])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.selectrow.Status==e.$t("menu.PersonTransRandom.5nrnb1uyhcw0"),expression:"selectrow['Status'] == $t('menu.PersonTransRandom.5nrnb1uyhcw0')"}],staticClass:"per-top-tool-button"},[a("el-form",{attrs:{inline:!0,"label-position":"left"}},[""!=e.selectrow.TransEndDate?a("el-form-item",[a("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-back":"nm-icon-lite-back"},on:{click:e.BackDep}},[e._v(e._s(e.$t("menu.PersonTransRandom.5nrnb1uzj600")))])],1):e._e(),e._v(" "),a("el-form-item",[this.elementlist.CancelSubmit||0==e.LoginId?a("hgbutton",{ref:"CancelSubmit",attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-chexiao":"nm-icon-lite-chexiao"},on:{click:e.CancelSubmit}},[e._v(e._s(e.$t("menu.PersonTransRandom.5ncy66d3pj80")))]):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"top-tool-dialog-table dialog-table-bottom-radius"},[a("el-table",{staticClass:"dialog-table-bottom-radius",staticStyle:{"border-bottom":"0"},attrs:{data:e.CheckData,height:450,border:e.styleCode,"header-cell-style":e.headerCellFontWeight,"highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"TransNurName",width:"150",label:e.$t("menu.PersonTransRandom.5nrnb1udr1o0")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-autocomplete",{staticClass:"nameinput",attrs:{disabled:e.selectrow.Status==e.$t("menu.PersonTransRandom.5nrnb1uyhcw0"),"popper-class":"transrandom-my-kqoption","value-key":"PerName","fetch-suggestions":e.querySearch,placeholder:e.$t("menu.PersonTransRandom.5nrnb1v45lc0")},on:{focus:function(a){return e.GetIndex(t.$index)},select:e.handleSelect},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[a("div",{staticStyle:{"margin-left":"10px",width:"100px",display:"inline-block"}},[e._v(e._s(n.PerName))]),e._v(" "),a("div",{staticStyle:{"margin-left":"10px",width:"50px",display:"inline-block"}},[e._v(e._s(n.Sex))]),e._v(" "),a("div",{staticStyle:{"margin-left":"10px",width:"70px",display:"inline-block"}},[e._v(e._s(n.PerID))]),e._v(" "),a("div",{staticStyle:{"margin-left":"10px",width:"70px",display:"inline-block"}},[e._v(e._s(n.Level))]),e._v(" "),a("div",{staticStyle:{"margin-left":"10px",width:"120px",display:"inline-block"}},[e._v(e._s(n.WardDesc))])]}}],null,!0),model:{value:t.row.TransNurName,callback:function(a){e.$set(t.row,"TransNurName",a)},expression:"scope.row['TransNurName']"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"NurType",width:"100",label:e.$t("menu.PersonTransRandom.5nrnb1v55ww0")}}),e._v(" "),a("el-table-column",{attrs:{prop:"NurLevel",width:"70",label:e.$t("menu.PersonTransRandom.5nrnb1v6d0g0")}}),e._v(" "),a("el-table-column",{attrs:{prop:"NurWard",width:"120",label:e.$t("menu.PersonTransRandom.5ncy66d6eiw0")}}),e._v(" "),a("el-table-column",{attrs:{prop:"InWardId",label:e.$t("menu.PersonTransRandom.5ncy66d6et40")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:e.selectrow.Status==e.$t("menu.PersonTransRandom.5nrnb1uyhcw0"),"filter-method":e.filterWardMethod,"default-first-option":"",filterable:"",clearable:"",placeholder:e.$t("menu.PersonTransRandom.5nrnb1u7n5c0"),size:"mini"},model:{value:t.row.InWardId,callback:function(a){e.$set(t.row,"InWardId",a)},expression:"scope.row['InWardId']"}},e._l(e.editWardStore,function(e){return a("el-option",{key:e.rw,attrs:{label:e.WardDesc,value:e.rw}})}),1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"NurReason",width:"180",label:e.$t("menu.PersonTransRandom.5ncy65wcmj80")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-autocomplete",{staticClass:"argautocomplete",attrs:{type:"textarea",disabled:e.selectrow.Status==e.$t("menu.PersonTransRandom.5nrnb1uyhcw0"),"fetch-suggestions":e.queryReason,size:"mini",placeholder:e.$t("menu.PersonTransRandom.5ncy66dcyy80")},model:{value:t.row.TransReason,callback:function(a){e.$set(t.row,"TransReason",a)},expression:"scope.row['TransReason']"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"TransStDate",width:"150",label:e.$t("menu.PersonTransRandom.5nrnb1ugdcs0")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.selectrow.Status==e.$t("menu.PersonTransRandom.5nrnb1uyhcw0"),type:"date",size:"mini","picker-options":e.pickeroptions,format:e.DateFormat},on:{change:function(a){return e.GetTransDays(t.$index,"st")}},model:{value:t.row.TransStDate,callback:function(a){e.$set(t.row,"TransStDate",a)},expression:"scope.row['TransStDate']"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"TransEndDate",width:"150",label:e.$t("menu.PersonTransRandom.5nrnb1uh9o00")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:e.selectrow.Status==e.$t("menu.PersonTransRandom.5nrnb1uyhcw0"),type:"date",size:"mini","picker-options":e.pickeroptions,format:e.DateFormat},on:{change:function(a){return e.GetTransDays(t.$index,"end")}},model:{value:t.row.TransEndDate,callback:function(a){e.$set(t.row,"TransEndDate",a)},expression:"scope.row['TransEndDate']"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.PersonTransRandom.5nrnb1vh5sg0"),prop:"TransDays",width:"80"}}),e._v(" "),e.selectrow.Status!=e.$t("menu.PersonTransRandom.5nrnb1uyhcw0")?a("el-table-column",{attrs:{label:e.$t("menu.PersonTransRandom.5nrnb1ubn340"),width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-cancel":"nm-icon-lite-cancel",disabled:e.selectrow.Status==e.$t("menu.PersonTransRandom.5nrnb1uyhcw0")},on:{click:function(a){return e.DeleteTransNur(t.$index)}}})]}}],null,!1,72674618)}):e._e(),e._v(" "),e._e()],1)],1)])],1)},staticRenderFns:[]};var m=a("VU/8")(d,u,!1,function(e){a("RBp3")},null,null);t.default=m.exports},RBp3:function(e,t){}});