webpackJsonp([257],{kTTi:function(e,a){},oP6l:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=t("fZjL"),s=t.n(o),n=t("Dd8w"),l=t.n(n),r=t("NYxO"),i=t("XlQt"),m=t("W5Fe"),u={name:"QualChange",components:{hgbutton:i.default,hgpagination:m.default},computed:l()({},Object(r.b)(["Height","styleCode"])),data:function(){return{elementlist:{},ToolForm:{Ward:"",Qual:"",Source:"",StDate:new Date((new Date).setDate(1)),EndDate:(new Date).getMonthDate((new Date).getMonthDay())},WardStore:[],QualItemStore:[],SourceStore:[{value:"A",label:"数据带入"},{value:"M",label:"手工录入"}],ChangeTable:[],CurrentPage:1,PageSize:20,TotalCount:0,ChangeForm:{Ward:"",Qual:"",Ques:"",ReasonList:[],NurReason:"",PatReason:"",DevReason:"",WorkReason:"",GoodReason:"",OtherReason:"",Step:"",Goal:"",HLBView:"",Source:"",rw:""},Rules:{Ward:[{required:!0,message:"请选择病区",trigger:"change"}],Qual:[{required:!0,message:"请选择质控项目",trigger:"change"}],Ques:[{required:!0,message:"请填写质控问题",trigger:"blur"}],ReasonList:[{required:!0,message:"请选择原因分析",trigger:"change",type:"array"}],NurReason:[{required:!0,message:"请填写护理人员原因",trigger:"blur"}],PatReason:[{required:!0,message:"请填写患者原因",trigger:"blur"}],DevReason:[{required:!0,message:"请填写设备原因",trigger:"blur"}],WorkReason:[{required:!0,message:"请填写工作环境原因",trigger:"blur"}],GoodReason:[{required:!0,message:"请填写物品原因",trigger:"blur"}],OtherReason:[{required:!0,message:"请填写其他原因",trigger:"blur"}],Step:[{required:!0,message:"请填写整改措施",trigger:"blur"}]},ReasonTypeStore:[{value:"NurReason",label:"护理人员"},{value:"PatReason",label:"患者原因"},{value:"DevReason",label:"设备原因"},{value:"WorkReason",label:"工作环境"},{value:"GoodReason",label:"物品原因"},{value:"OtherReason",label:"其他原因"}],ReasonTypeMap:{NurReason:{value:"ChangeNurRea",label:"护理人员原因"},PatReason:{value:"ChangePatRea",label:"患者原因"},DevReason:{value:"ChangeDeviceRea",label:"设备原因"},WorkReason:{value:"ChangeWorkRea",label:"工作环境原因"},GoodReason:{value:"ChangeGoodsRea",label:"物品原因"},OtherReason:{value:"ChangeOtherRea",label:"其他原因"}},ChangeDialogVisible:!1,EditAble:!1,SaveLoading:!1,SelectRow:{},ImportDialogVisible:!1,ImportLoading:!1,ImportToolForm:{Ward:"",Qual:"",StDate:new Date((new Date).setDate(1)),EndDate:(new Date).getMonthDate((new Date).getMonthDay())},ImportTable:[],ImportCurrentPage:1,ImportPageSize:20,ImportTotalCount:0,ImportReasonStore:[{value:"QuesNurRea",label:"护理人员原因"},{value:"QuesPatRea",label:"患者原因"},{value:"QuesDeviceRea",label:"设备原因"},{value:"QuesWorkRea",label:"工作环境原因"},{value:"QuesGoodsRea",label:"物品原因"},{value:"QuesOtherRea",label:"其他原因"}],ImportSelect:[],exportTableData:[],winFlag:0}},methods:{LoadRoleWard:function(){var e=this;this.WardStore=[];var a=this.axiosConfig("web.INMDataLimit","FindRoleWardList","RecQuery","nurseid$"+sessionStorage.loginID);this.$ajax.request(a).then(function(a){a.data instanceof Object?e.WardStore=a.data.rows:e.$message({type:"error",message:"获取权限病区失败",showClose:!0,customClass:"error_class"})}).catch(function(a){e.$message({type:"error",message:"获取权限病区失败",showClose:!0,customClass:"error_class"})})},LoadQualItem:function(){var e=this;this.QualItemStore=[];var a=this.axiosConfig("web.INMQualControlComm","FindQualForType","RecQuery");this.$ajax.request(a).then(function(a){a.data instanceof Object?e.QualItemStore=a.data.rows:e.$message({type:"error",message:"获取质控项目失败",showClose:!0,customClass:"error_class"})}).catch(function(a){e.$message({type:"error",message:"获取质控项目失败",showClose:!0,customClass:"error_class"})})},LoadChangeTab:function(){var e=this,a=(this.CurrentPage-1)*this.PageSize,t=this.CurrentPage*this.PageSize,o=this.ToolForm.Ward,s=this.ToolForm.Qual,n=this.ToolForm.Source,l="";this.ToolForm.StDate instanceof Date&&(l=this.ToolForm.StDate.Format("YYYY-MM-dd"));var r="";this.ToolForm.EndDate instanceof Date&&(r=this.ToolForm.EndDate.Format("YYYY-MM-dd"));var i=o+"^"+s+"^"+n+"^"+l+"^"+r;this.ChangeTable=[],this.SelectRow={};var m=this.axiosConfig("web.INMHBComm","FindQualChangeList","RecQuery","parr$"+i,"nurseid$"+sessionStorage.loginID);this.$ajax.request(m).then(function(o){o.data instanceof Object?(e.exportTableData=o.data.rows,e.ChangeTable=e.exportTableData.slice(a,t),e.TotalCount=parseInt(o.data.results)):e.$message({type:"error",message:"获取整改分析列表失败",showClose:!0,customClass:"error_class"})}).catch(function(a){e.$message({type:"error",message:"获取整改分析列表失败",showClose:!0,customClass:"error_class"})})},AddClick:function(){var e=this;this.EditAble=!0,this.winFlag=0,this.ChangeDialogVisible=!0,this.$nextTick(function(){e.$refs.ChangeForm.resetFields(),e.ChangeForm.NurReason="",e.ChangeForm.PatReason="",e.ChangeForm.DevReason="",e.ChangeForm.WorkReason="",e.ChangeForm.GoodReason="",e.ChangeForm.OtherReason="",e.ChangeForm.Source="M",e.ChangeForm.rw=""})},Save:function(){var e=this;this.$refs.ChangeForm.validate(function(a){if(a){var t=e.ChangeForm.Ward+"^"+e.ChangeForm.Qual+"^"+e.ChangeForm.Ques+"^"+e.ChangeForm.ReasonList.join(",")+"^"+e.ChangeForm.NurReason+"^"+e.ChangeForm.PatReason+"^"+e.ChangeForm.DevReason+"^"+e.ChangeForm.WorkReason+"^"+e.ChangeForm.GoodReason;t=t+"^"+e.ChangeForm.OtherReason+"^"+e.ChangeForm.Step+"^"+e.ChangeForm.Goal+"^"+e.ChangeForm.HLBView+"^N^"+e.ChangeForm.Source+"^^"+e.ChangeForm.rw,e.SaveLoading=!0;var o=e.axiosConfig("web.INMHBComm","SaveQualChange","Method","parr$"+t,"nurseid$"+sessionStorage.loginID);e.$ajax.request(o).then(function(a){e.SaveLoading=!1,1==a.data?(e.ChangeDialogVisible=!1,e.$message({type:"success",message:"保存成功",showClose:!0,customClass:"success_class"}),e.LoadChangeTab()):e.$message({type:"error",message:"保存失败",showClose:!0,customClass:"error_class"})}).catch(function(a){e.SaveLoading=!1,e.$message({type:"error",message:"保存失败",showClose:!0,customClass:"error_class"})})}})},EditClick:function(){var e=this;this.winFlag=1,this.SelectRow&&this.SelectRow.rw?(this.EditAble=!1,this.ChangeDialogVisible=!0,this.$nextTick(function(){e.$refs.ChangeForm.resetFields(),e.ChangeForm.NurReason="",e.ChangeForm.PatReason="",e.ChangeForm.DevReason="",e.ChangeForm.WorkReason="",e.ChangeForm.GoodReason="",e.ChangeForm.OtherReason="",e.ChangeForm.Source="",e.ChangeForm.rw="",e.LoadChangeForm()})):this.$message({type:"warning",message:"请先选中一行数据",showClose:!0,customClass:"warning_class"})},LoadChangeForm:function(){var e=this;this.SaveLoading=!0;var a=this.axiosConfig("web.INMHBComm","GetQualChange","RecMethod","id$"+this.SelectRow.rw);this.$ajax.request(a).then(function(a){e.SaveLoading=!1,a.data instanceof Object?("M"!=a.data.ChangeSource||"N"!=a.data.ChangeStatus||a.data.Creator!=sessionStorage.loginID&&0!=sessionStorage.loginID?e.EditAble=!1:e.EditAble=!0,e.ChangeForm.Ward=a.data.ChangeWard,e.ChangeForm.Qual=a.data.ChangeQual,e.ChangeForm.Ques=a.data.ChangeQues,e.ChangeForm.ReasonList=a.data.ChangeReason?a.data.ChangeReason.split(","):[],e.ChangeForm.NurReason=a.data.ChangeNurRea,e.ChangeForm.PatReason=a.data.ChangePatRea,e.ChangeForm.DevReason=a.data.ChangeDeviceRea,e.ChangeForm.WorkReason=a.data.ChangeWorkRea,e.ChangeForm.GoodReason=a.data.ChangeGoodsRea,e.ChangeForm.OtherReason=a.data.ChangeOtherRea,e.ChangeForm.Step=a.data.ChangeStep,e.ChangeForm.Goal=a.data.ChangeGoal,e.ChangeForm.HLBView=a.data.ChangeHLBView,e.ChangeForm.Source=a.data.ChangeSource,e.ChangeForm.rw=a.data.rw):(e.ChangeDialogVisible=!1,e.$message({type:"error",message:"获取整改分析内容失败",showClose:!0,customClass:"error_class"}))}).catch(function(a){e.SaveLoading=!1,e.ChangeDialogVisible=!1,e.$message({type:"error",message:"获取整改分析内容失败",showClose:!0,customClass:"error_class"})})},DeleteClick:function(){var e=this;this.SelectRow&&this.SelectRow.rw?"N"==this.SelectRow.ChangeStatus?this.SelectRow.Creator==sessionStorage.loginID||0==sessionStorage.loginID?this.$confirm("此操作将删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"关闭",closeOnClickModal:!1,type:"warning"}).then(function(){var a=e.axiosConfig("web.INMHBComm","DeleteQualChange","Method","id$"+e.SelectRow.rw);e.$ajax.request(a).then(function(a){1==a.data?(e.$message({message:"删除成功",type:"success",showClose:!0,customClass:"success_class"}),e.LoadChangeTab()):e.$message({message:"删除失败",type:"error",showClose:!0,customClass:"error_class"})}).catch(function(a){e.$message({message:"删除失败",type:"error",showClose:!0,customClass:"error_class"})})}).catch(function(){e.$message({type:"info",message:"取消删除",showClose:!0,customClass:"info_class"})}):this.$message({type:"warning",message:"非创建人不可删除",showClose:!0,customClass:"warning_class"}):this.$message({type:"warning",message:this.SelectRow.ChangeStatusDesc+"状态不可删除",showClose:!0,customClass:"warning_class"}):this.$message({type:"warning",message:"请先选中一行数据",showClose:!0,customClass:"warning_class"})},FindImportData:function(){this.ImportCurrentPage=1,this.ImportPageSize=20,this.ImportDialogVisible=!0,this.LoadImportData()},LoadImportData:function(){var e=this,a=(this.ImportCurrentPage-1)*this.ImportPageSize,t=this.ImportPageSize,o=this.ImportToolForm.Ward,s=this.ImportToolForm.Qual,n="";this.ImportToolForm.StDate instanceof Date&&(n=this.ImportToolForm.StDate.Format("YYYY-MM-dd"));var l="";this.ImportToolForm.EndDate instanceof Date&&(l=this.ImportToolForm.EndDate.Format("YYYY-MM-dd"));var r=n+"^"+l+"^I,A^"+s+"^"+o+"^^";this.ImportTable=[],this.ImportTotalCount=0,this.ImportLoading=!0;var i=this.axiosConfig("web.INMQualControlComm","FindCheckQuesList","RecQuery","parr$"+r,"start$"+a,"limit$"+t,"nurseid$"+sessionStorage.loginID);this.$ajax.request(i).then(function(a){a.data instanceof Object?(e.ImportTable=a.data.rows,e.ImportTotalCount=parseInt(a.data.results),e.ChangeRowSelectable()):(e.ImportLoading=!1,e.ImportDialogVisible=!1,e.$message({type:"error",message:"获取质控问题列表失败",showClose:!0,customClass:"error_class"}))}).catch(function(a){e.ImportLoading=!1,e.ImportDialogVisible=!1,e.$message({type:"error",message:"获取质控问题列表失败",showClose:!0,customClass:"error_class"})})},ChangeRowSelectable:function(){var e=this,a=this.ImportTable.map(function(e){return e.ResultId}).join(","),t=this.axiosConfig("web.INMHBComm","ConfirmConected","Method","id$"+a);this.$ajax.request(t).then(function(a){e.ImportLoading=!1,a.data instanceof Array?a.data.forEach(function(a){e.$set(e.ImportTable[a],"Selectable",!1)}):(e.ImportDialogVisible=!1,e.$message({type:"error",message:"获取质控问题列表失败",showClose:!0,customClass:"error_class"}))}).catch(function(a){e.ImportLoading=!1,e.ImportDialogVisible=!1,e.$message({message:"获取质控问题列表失败",type:"error",showClose:!0,customClass:"error_class"})})},RowSelectable:function(e){return 0==e.Selectable?0:1},ImportSelectChange:function(e){this.ImportSelect=e},SaveImportClick:function(){var e=this,a="";if(this.ImportSelect.forEach(function(t){var o=t.QuesWard,n=t.QuesItem,l=t.QuesDesc,r=s()(e.ReasonTypeMap).join(","),i=t.QuesNurRea,m=t.QuesPatRea,u=t.QuesDeviceRea,g=t.QuesWorkRea,h=t.QuesGoodsRea,c=t.QuesOtherRea,d=t.QuesStep,p=t.QuesGoal,C=t.QuesHLBView,b=t.ResultId;a=(a=a?a+"ˇ"+o+"^"+n+"^"+l+"^"+r+"^"+i+"^"+m+"^"+u+"^"+g+"^"+h:o+"^"+n+"^"+l+"^"+r+"^"+i+"^"+m+"^"+u+"^"+g+"^"+h)+"^"+c+"^"+d+"^"+p+"^"+C+"^N^A^"+b+"^"}),""!=a){this.ImportLoading=!0;var t=this.axiosConfig("web.INMHBComm","SaveQualChangePatch","Method","parr$"+a,"nurseid$"+sessionStorage.loginID);this.$ajax.request(t).then(function(a){e.ImportLoading=!1,1==a.data?(e.ImportDialogVisible=!1,e.$message({type:"success",message:"保存成功",showClose:!0,customClass:"success_class"}),e.LoadChangeTab()):e.$message({type:"error",message:"保存失败",showClose:!0,customClass:"error_class"})}).catch(function(a){e.ImportLoading=!1,e.$message({type:"error",message:"保存失败",showClose:!0,customClass:"error_class"})})}else this.$message({message:"请选择保存数据记录",type:"warning",showClose:!0,customClass:"warning_class"})},RowClickEvent:function(e,a,t){this.SelectRow=e},HandleSizeChange:function(e){this.Pagesize=e,this.LoadChangeTab()},HandleCurrentChange:function(e){this.CurrentPage=e.currentPage,this.LoadChangeTab()},HandleImpSizeChange:function(e){this.ImportPageSize=e,this.LoadImportData()},HandleImpCurrentChange:function(e){this.ImportCurrentPage=e.currentPage,this.LoadImportData()}},created:function(){this.LoadRoleWard(),this.LoadQualItem(),this.LoadChangeTab();var e=this.$router.currentRoute.path.slice(1,this.$router.currentRoute.path.length);this.loadElementsForRouter("elementlist",e)}},g={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"qual-change-panel"},[t("div",{staticClass:"top-tool-inputDiv"},[t("el-form",{attrs:{inline:!0,model:e.ToolForm,"label-position":"left"}},[t("el-form-item",{attrs:{label:e.$t("menu.QualChange.5nrnb6o3xz80")}},[t("el-select",{staticStyle:{width:"140px"},attrs:{filterable:"",clearable:"",placeholder:"",size:"mini"},model:{value:e.ToolForm.Ward,callback:function(a){e.$set(e.ToolForm,"Ward",a)},expression:"ToolForm.Ward"}},e._l(e.WardStore,function(e){return t("el-option",{key:e.rw,attrs:{label:e.WardDesc,value:e.rw}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.QualChange.5nrnb6o5qpg0")}},[t("el-select",{staticStyle:{width:"100px"},attrs:{filterable:"",clearable:"",placeholder:"",size:"mini"},model:{value:e.ToolForm.Qual,callback:function(a){e.$set(e.ToolForm,"Qual",a)},expression:"ToolForm.Qual"}},e._l(e.QualItemStore,function(e){return t("el-option",{key:e.Qual,attrs:{label:e.QualDesc,value:e.Qual}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.QualChange.5nrnb6o6t400")}},[t("el-select",{staticStyle:{width:"90px"},attrs:{filterable:"",clearable:"",placeholder:"",size:"mini"},model:{value:e.ToolForm.Source,callback:function(a){e.$set(e.ToolForm,"Source",a)},expression:"ToolForm.Source"}},e._l(e.SourceStore,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.QualChange.5nrnb6o8its0")}},[t("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"date",format:this.$store.state.mainframe.DateFormat,size:"mini"},model:{value:e.ToolForm.StDate,callback:function(a){e.$set(e.ToolForm,"StDate",a)},expression:"ToolForm.StDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.QualChange.5nrnb6o9kh00")}},[t("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"date",format:this.$store.state.mainframe.DateFormat,size:"mini"},model:{value:e.ToolForm.EndDate,callback:function(a){e.$set(e.ToolForm,"EndDate",a)},expression:"ToolForm.EndDate"}})],1),e._v(" "),t("el-form-item",[t("hgbutton",{attrs:{type:"default",styleCode:e.styleCode,icon:"nm-icon-w-find"},on:{click:e.LoadChangeTab}},[e._v(e._s(e.$t("menu.QualChange.5nrnb6o9lxg0")))])],1)],1)],1),e._v(" "),t("div",{staticClass:"top-tool-button"},[0==this.$store.state.login.LoginId||e.elementlist.changeadd?t("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-add":"nm-icon-lite-add"},on:{click:e.AddClick}},[e._v(e._s(e.$t("menu.QualChange.5nrnb6o9mnk0")))]):e._e(),e._v(" "),0==this.$store.state.login.LoginId||e.elementlist.changeadd2?t("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-export-report":"nm-icon-lite-export-report"},on:{click:e.FindImportData}},[e._v(e._s(e.$t("menu.QualChange.5nrnb6o9nis0")))]):e._e(),e._v(" "),0==this.$store.state.login.LoginId||e.elementlist.changedel?t("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-cancel":"nm-icon-lite-cancel"},on:{click:e.DeleteClick}},[e._v(e._s(e.$t("menu.QualChange.5nrnb6o9nww0")))]):e._e(),e._v(" "),t("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-export":"nm-icon-lite-export"},on:{click:function(a){e.exportData("ChangeTable",e.exportTableData,e.$t("menu.QualChange.5ncy699nmls0"))}}},[e._v(e._s(e.$t("menu.QualChange.5nrnb6o9oa80")))])],1),e._v(" "),t("div",{staticClass:"top-tool-table"},[t("el-table",{ref:"ChangeTable",staticClass:"handbook-qual-change",staticStyle:{width:"100%"},attrs:{data:e.ChangeTable,"highlight-current-row":!0,"header-cell-style":e.headerCellFontWeight,border:e.styleCode,height:e.styleCode?e.Height-130:e.Height-124},on:{"row-click":e.RowClickEvent,"row-dblclick":e.EditClick}},[t("el-table-column",{attrs:{type:"index",align:"center",fixed:"",width:"40"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.QualChange.5nrnb6o3xz80"),prop:"ChangeWardDesc",fixed:"","show-overflow-tooltip":"",width:"150"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.QualChange.5nrnb6o5qpg0"),prop:"ChangeQualDesc",fixed:"","show-overflow-tooltip":"",width:"150"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.QualChange.5ncy699p3ow0"),prop:"ChangeQues",fixed:"","show-overflow-tooltip":"",width:"350"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.QualChange.5nrnb74z8ao0"),width:"250","show-overflow-tooltip":"",prop:"ChangeReasonDesc"},scopedSlots:e._u([{key:"default",fn:function(a){return e._l(a.row.ChangeReason?a.row.ChangeReason.split(","):[],function(o,s){return t("div",{key:s},[t("div",{staticStyle:{display:"inline-block"}},[e._v(e._s(e.ReasonTypeMap[o].label))]),e._v(" "),t("div",{staticStyle:{display:"inline-block"}},[e._v(e._s(":　"+a.row[e.ReasonTypeMap[o].value]))])])})}}])}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.QualChange.5nrnb751p700"),prop:"ChangeStep","show-overflow-tooltip":"",width:"350"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.QualChange.5nrnb752tdg0"),prop:"ChangeGoal","show-overflow-tooltip":"",width:"350"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.QualChange.5ncy699p6do0"),prop:"ChangeHLBView","show-overflow-tooltip":"",width:"350"}})],1),e._v(" "),t("hgpagination",{attrs:{styleCode:e.styleCode,sizes:[20,40,50,100],totalCount:e.TotalCount,pageNumber:e.CurrentPage,pageSize:e.PageSize},on:{changePage:e.HandleCurrentChange,getPageSize:e.HandleSizeChange}})],1),e._v(" "),t("el-dialog",{attrs:{title:0==e.winFlag?e.$t("menu.QualChange.5nrnb6o9mnk0"):e.$t("menu.QualChange.5nrnb6o9mnk1"),visible:e.ChangeDialogVisible,"close-on-click-modal":!1,width:"764px"},on:{"update:visible":function(a){e.ChangeDialogVisible=a}}},[t("div",{staticClass:"dialog-header-title",attrs:{slot:"title"},slot:"title"},[e.styleCode?t("i",{class:[0==e.winFlag?"nm-icon-w-plus":"nm-icon-w-edit"]}):e._e(),e._v(" "),0==e.winFlag?t("span",[e._v(e._s(e.$t("menu.QualChange.5nrnb6o9mnk0")))]):1==e.winFlag?t("span",[e._v(e._s(e.$t("menu.QualChange.5nrnb6o9mnk1")))]):e._e()]),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.SaveLoading,expression:"SaveLoading"}],attrs:{"element-loading-text":e.$t("menu.QualChange.5nrnb754xzg0")}},[t("el-form",{ref:"ChangeForm",attrs:{model:e.ChangeForm,rules:e.Rules,disabled:!e.EditAble,inline:"","label-position":"right","label-width":"130px",align:"left"}},[t("el-form-item",{attrs:{label:e.$t("menu.QualChange.5nrnb6o3xz80"),prop:"Ward"}},[t("el-select",{staticStyle:{width:"210px"},attrs:{clearable:"",filterable:"",size:"mini"},model:{value:e.ChangeForm.Ward,callback:function(a){e.$set(e.ChangeForm,"Ward",a)},expression:"ChangeForm.Ward"}},e._l(e.WardStore,function(e){return t("el-option",{key:e.rw,attrs:{label:e.WardDesc,value:e.rw}})}),1)],1),e._v(" "),t("el-form-item",{staticStyle:{"margin-bottom":"11px"},attrs:{label:e.$t("menu.QualChange.5nrnb6o5qpg0"),prop:"Qual"}},[t("el-select",{staticStyle:{width:"210px"},attrs:{filterable:"",size:"mini"},model:{value:e.ChangeForm.Qual,callback:function(a){e.$set(e.ChangeForm,"Qual",a)},expression:"ChangeForm.Qual"}},e._l(e.QualItemStore,function(e){return t("el-option",{key:e.Qual,attrs:{label:e.QualDesc,value:e.Qual}})}),1)],1),e._v(" "),t("el-form-item",{staticStyle:{"margin-bottom":"16px"},attrs:{label:e.$t("menu.QualChange.5ncy699p3ow0"),prop:"Ques"}},[t("el-input",{staticStyle:{width:"560px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},size:"mini"},model:{value:e.ChangeForm.Ques,callback:function(a){e.$set(e.ChangeForm,"Ques",a)},expression:"ChangeForm.Ques"}})],1),e._v(" "),t("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:e.$t("menu.QualChange.5nrnb74z8ao0"),prop:"ReasonList"}},[t("el-select",{staticStyle:{width:"560px"},attrs:{multiple:"",size:"mini"},model:{value:e.ChangeForm.ReasonList,callback:function(a){e.$set(e.ChangeForm,"ReasonList",a)},expression:"ChangeForm.ReasonList"}},e._l(e.ReasonTypeStore,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),e.ChangeForm.ReasonList.indexOf("NurReason")>-1?t("el-form-item",{staticStyle:{"margin-bottom":"18px"},attrs:{label:e.$t("menu.QualChange.5nrnb75a14g0"),prop:"NurReason"}},[t("el-input",{staticStyle:{width:"560px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},size:"mini"},model:{value:e.ChangeForm.NurReason,callback:function(a){e.$set(e.ChangeForm,"NurReason",a)},expression:"ChangeForm.NurReason"}})],1):e._e(),e._v(" "),e.ChangeForm.ReasonList.indexOf("PatReason")>-1?t("el-form-item",{staticStyle:{"margin-bottom":"18px"},attrs:{label:e.$t("menu.QualChange.5nrnb75bhmo0"),prop:"PatReason"}},[t("el-input",{staticStyle:{width:"560px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},size:"mini"},model:{value:e.ChangeForm.PatReason,callback:function(a){e.$set(e.ChangeForm,"PatReason",a)},expression:"ChangeForm.PatReason"}})],1):e._e(),e._v(" "),e.ChangeForm.ReasonList.indexOf("DevReason")>-1?t("el-form-item",{staticStyle:{"margin-bottom":"18px"},attrs:{label:e.$t("menu.QualChange.5nrnb75cjow0"),prop:"DevReason"}},[t("el-input",{staticStyle:{width:"560px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},size:"mini"},model:{value:e.ChangeForm.DevReason,callback:function(a){e.$set(e.ChangeForm,"DevReason",a)},expression:"ChangeForm.DevReason"}})],1):e._e(),e._v(" "),e.ChangeForm.ReasonList.indexOf("WorkReason")>-1?t("el-form-item",{staticStyle:{"margin-bottom":"18px"},attrs:{label:e.$t("menu.QualChange.5nrnb75dkuc0"),prop:"WorkReason"}},[t("el-input",{staticStyle:{width:"560px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},size:"mini"},model:{value:e.ChangeForm.WorkReason,callback:function(a){e.$set(e.ChangeForm,"WorkReason",a)},expression:"ChangeForm.WorkReason"}})],1):e._e(),e._v(" "),e.ChangeForm.ReasonList.indexOf("GoodReason")>-1?t("el-form-item",{staticStyle:{"margin-bottom":"18px"},attrs:{label:e.$t("menu.QualChange.5nrnb75em4g0"),prop:"GoodReason"}},[t("el-input",{staticStyle:{width:"560px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},size:"mini"},model:{value:e.ChangeForm.GoodReason,callback:function(a){e.$set(e.ChangeForm,"GoodReason",a)},expression:"ChangeForm.GoodReason"}})],1):e._e(),e._v(" "),e.ChangeForm.ReasonList.indexOf("OtherReason")>-1?t("el-form-item",{staticStyle:{"margin-bottom":"18px"},attrs:{label:e.$t("menu.QualChange.5nrnb75fnw00"),prop:"OtherReason"}},[t("el-input",{staticStyle:{width:"560px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},size:"mini"},model:{value:e.ChangeForm.OtherReason,callback:function(a){e.$set(e.ChangeForm,"OtherReason",a)},expression:"ChangeForm.OtherReason"}})],1):e._e(),e._v(" "),t("el-form-item",{staticStyle:{"margin-bottom":"21px"},attrs:{label:e.$t("menu.QualChange.5nrnb751p700"),prop:"Step"}},[t("el-input",{staticStyle:{width:"560px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},size:"mini"},model:{value:e.ChangeForm.Step,callback:function(a){e.$set(e.ChangeForm,"Step",a)},expression:"ChangeForm.Step"}})],1),e._v(" "),t("el-form-item",{staticStyle:{"margin-bottom":"21px"},attrs:{label:e.$t("menu.QualChange.5nrnb752tdg0"),prop:"Goal"}},[t("el-input",{staticStyle:{width:"560px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},size:"mini"},model:{value:e.ChangeForm.Goal,callback:function(a){e.$set(e.ChangeForm,"Goal",a)},expression:"ChangeForm.Goal"}})],1),e._v(" "),t("el-form-item",{staticStyle:{"margin-bottom":"21px"},attrs:{label:e.$t("menu.QualChange.5ncy699p6do0"),prop:"HLBView"}},[t("el-input",{staticStyle:{width:"560px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},size:"mini"},model:{value:e.ChangeForm.HLBView,callback:function(a){e.$set(e.ChangeForm,"HLBView",a)},expression:"ChangeForm.HLBView"}})],1)],1),e._v(" "),t("div",{staticClass:"bottom-button"},[t("hgbutton",{attrs:{type:e.styleCode?"default":"success",styleCode:e.styleCode,disabled:!e.EditAble},on:{click:e.Save}},[e._v(e._s(e.$t("menu.QualChange.5nrnb75iczg0")))]),e._v(" "),t("hgbutton",{attrs:{type:"default",styleCode:e.styleCode},on:{click:function(a){e.ChangeDialogVisible=!1}}},[e._v(e._s(e.$t("menu.QualChange.5nrnb75idu80")))])],1)],1)]),e._v(" "),t("el-dialog",{attrs:{title:e.$t("menu.QualChange.5nrnb6o9nis0"),visible:e.ImportDialogVisible,"append-to-body":!1,"close-on-click-modal":!1,width:"1200px"},on:{"update:visible":function(a){e.ImportDialogVisible=a}}},[t("div",{staticClass:"dialog-header-title",attrs:{slot:"title"},slot:"title"},[e.styleCode?t("i",{staticClass:"nm-icon-w-paper"}):e._e(),e._v(" "),t("span",[e._v(e._s(e.$t("menu.QualChange.5nrnb6o9nis0")))])]),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.ImportLoading,expression:"ImportLoading"}],attrs:{"element-loading-text":e.$t("menu.QualChange.5nrnb754xzg0")}},[t("div",{staticClass:"top-tool-OnceDiv dialog-div-top-radius"},[t("el-form",{attrs:{inline:!0,model:e.ImportToolForm,"label-position":"left"}},[t("el-form-item",{attrs:{label:e.$t("menu.QualChange.5nrnb6o3xz80")}},[t("el-select",{staticStyle:{width:"140px"},attrs:{filterable:"",clearable:"",placeholder:"",size:"mini"},model:{value:e.ImportToolForm.Ward,callback:function(a){e.$set(e.ImportToolForm,"Ward",a)},expression:"ImportToolForm.Ward"}},e._l(e.WardStore,function(e){return t("el-option",{key:e.rw,attrs:{label:e.WardDesc,value:e.rw}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.QualChange.5nrnb6o5qpg0")}},[t("el-select",{staticStyle:{width:"150px"},attrs:{filterable:"",clearable:"",placeholder:"",size:"mini"},model:{value:e.ImportToolForm.Qual,callback:function(a){e.$set(e.ImportToolForm,"Qual",a)},expression:"ImportToolForm.Qual"}},e._l(e.QualItemStore,function(e){return t("el-option",{key:e.Qual,attrs:{label:e.QualDesc,value:e.Qual}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.QualChange.5nrnb6o8its0")}},[t("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"date",format:this.$store.state.mainframe.DateFormat,size:"mini"},model:{value:e.ImportToolForm.StDate,callback:function(a){e.$set(e.ImportToolForm,"StDate",a)},expression:"ImportToolForm.StDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.QualChange.5nrnb6o9kh00")}},[t("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"date",format:this.$store.state.mainframe.DateFormat,size:"mini"},model:{value:e.ImportToolForm.EndDate,callback:function(a){e.$set(e.ImportToolForm,"EndDate",a)},expression:"ImportToolForm.EndDate"}})],1),e._v(" "),t("el-form-item",[t("hgbutton",{attrs:{type:"default",styleCode:e.styleCode,icon:"nm-icon-w-find"},on:{click:e.LoadImportData}},[e._v(e._s(e.$t("menu.QualChange.5nrnb6o9lxg0")))])],1)],1)],1),e._v(" "),t("div",{staticClass:"top-tool-dialog-table dialog-table-bottom-radius"},[t("el-table",{ref:"ImportTable",staticClass:"import-table",attrs:{data:e.ImportTable,"highlight-current-row":!0,"header-cell-style":e.headerCellFontWeight,border:e.styleCode,height:"400px"},on:{"selection-change":e.ImportSelectChange}},[t("el-table-column",{attrs:{type:"selection",selectable:e.RowSelectable,fixed:"",width:"50",align:"center"}}),e._v(" "),t("el-table-column",{attrs:{prop:"QuesDate",label:e.$t("menu.QualChange.5ncy699psok0"),fixed:"","show-overflow-tooltip":"",width:"100",formatter:e.PTableDateHisShow}}),e._v(" "),t("el-table-column",{attrs:{prop:"QuesWardDesc",label:e.$t("menu.QualChange.5nrnb6o3xz80"),fixed:"","show-overflow-tooltip":"",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{prop:"QuesItemDesc",label:e.$t("menu.QualChange.5nrnb6o5qpg0"),fixed:"","show-overflow-tooltip":"",width:"120"}}),e._v(" "),t("el-table-column",{attrs:{prop:"QuesDesc",label:e.$t("menu.QualChange.5ncy699p3ow0"),width:"350"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.QualChange.5nrnb74z8ao0"),width:"350"},scopedSlots:e._u([{key:"default",fn:function(a){return e._l(e.ImportReasonStore,function(o,s){return t("div",{key:s},[t("div",{staticStyle:{display:"inline-block"}},[e._v(e._s(o.label))]),e._v(" "),t("div",{staticStyle:{display:"inline-block"}},[e._v(e._s(":　"+a.row[o.value]))])])})}}])}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.QualChange.5nrnb751p700"),prop:"QuesStep",width:"350"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.QualChange.5nrnb752tdg0"),prop:"QuesGoal",width:"350"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.QualChange.5ncy699p6do0"),prop:"QuesHLBView",width:"350"}})],1),e._v(" "),t("hgpagination",{attrs:{styleCode:e.styleCode,sizes:[20,40,50,100],totalCount:e.ImportTotalCount,pageNumber:e.ImportCurrentPage,pageSize:e.ImportPageSize},on:{changePage:e.HandleImpCurrentChange,getPageSize:e.HandleImpSizeChange}})],1),e._v(" "),t("div",{staticClass:"bottom-button"},[t("hgbutton",{attrs:{type:e.styleCode?"default":"success",styleCode:e.styleCode},on:{click:e.SaveImportClick}},[e._v(e._s(e.$t("menu.QualChange.5nrnb75iczg0")))]),e._v(" "),t("hgbutton",{attrs:{type:"default",styleCode:e.styleCode},on:{click:function(a){e.ImportDialogVisible=!1}}},[e._v(e._s(e.$t("menu.QualChange.5nrnb75idu80")))])],1)])])],1)},staticRenderFns:[]};var h=t("VU/8")(u,g,!1,function(e){t("kTTi")},null,null);a.default=h.exports}});