webpackJsonp([153,295],{"U/Xu":function(e,s){},ZvSv:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=t("Dd8w"),a=t.n(i),o=t("NYxO"),n=t("d6c6"),l=t("XlQt"),r=t("W5Fe"),c={name:"CaseDiscuss",computed:a()({},Object(o.b)(["Height","SysRegNoLength","styleCode"])),components:{tinymce:n.default,hgbutton:l.default,hgpagination:r.default},data:function(){return{WardStore:[],elementlist:{},ToolForm:{CTLoc:"",Status:"",StDate:new Date((new Date).setDate(1)),EndDate:(new Date).getMonthDate((new Date).getMonthDay()),Ward:""},CTLocStore:[],DiscussTable:[],CurrentPage:1,PageSize:20,TotalCount:0,DiscussForm:{Type:"",Host:"",DiscussDate:new Date,Participant:[],RegNo:"",PAPatMas:"",PatientName:"",PatientSex:"",PatientAge:"",CTLoc:"",CTLocId:"",Situation:"",Record:"",rw:""},Rules:{Type:[{required:!0,message:"请选择病例类型",trigger:"change"}],Host:[{required:!0,message:"请选择主持人",trigger:"change"}],DiscussDate:[{required:!0,message:"请选择讨论日期",trigger:"change",type:"date"}],Participant:[{required:!0,message:"请选择参与人",trigger:"change",type:"array"}],RegNo:[{required:!0,message:"请填写登记号",trigger:"blur"}]},DiscussDialogVisible:!1,EditAble:!1,SaveLoading:!1,DiscussTypeStore:[{label:"疑难病例",value:"1"},{label:"危重病例",value:"2"},{label:"抢救病例",value:"3"},{label:"死亡病例",value:"4"}],WardNurseStore:[],SelectRow:{},TomcatAddress:"",exportTableData:[],winFlag:0}},methods:{LoadRoleWard:function(){var e=this,s=this.axiosConfig("web.INMDataLimit","FindRoleWardList","RecQuery","nurseid$"+sessionStorage.loginID);this.$ajax.request(s).then(function(s){s.data instanceof Object?e.WardStore=s.data.rows:e.$message({type:"error",message:"获取权限病区失败",showClose:!0,customClass:"error_class"})}).catch(function(s){e.$message({type:"error",message:"获取权限病区失败",showClose:!0,customClass:"error_class"})})},LoadLoc:function(){var e=this,s=this.axiosConfig("web.INMHISComm","FindCTLocList","RecQuery");this.$ajax.request(s).then(function(s){s.data instanceof Object?e.CTLocStore=s.data.rows:e.$message({type:"error",message:"获取HIS科室失败",showClose:!0,customClass:"error_class"})}).catch(function(s){e.$message({type:"error",message:"获取HIS科室失败",showClose:!0,customClass:"error_class"})})},LoadRoleNurse:function(){var e=this;this.WardNurseStore=[];var s=this.axiosConfig("web.INMDataLimit","FindRoleNurseList","RecQuery","nurseid$"+sessionStorage.loginID);this.$ajax.request(s).then(function(s){s.data instanceof Object?e.WardNurseStore=s.data.rows:e.$message({type:"error",message:"获取权限护士失败",showClose:!0,customClass:"error_class"})}).catch(function(s){e.$message({type:"error",message:"获取权限护士失败",showClose:!0,customClass:"error_class"})})},LoadDiscussTable:function(){var e=this,s=(this.CurrentPage-1)*this.PageSize,t=this.CurrentPage*this.PageSize,i="";this.ToolForm.StDate instanceof Date&&(i=this.ToolForm.StDate.Format("YYYY-MM-dd"));var a="";this.ToolForm.EndDate instanceof Date&&(a=this.ToolForm.EndDate.Format("YYYY-MM-dd"));var o=this.ToolForm.CTLoc+"^"+i+"^"+a+"^"+this.ToolForm.Ward;this.DiscussTable=[],this.SelectRow={};var n=this.axiosConfig("web.INMHBComm","FindDiscussList","RecQuery","parr$"+o,"nurseid$"+sessionStorage.loginID);this.$ajax.request(n).then(function(i){i.data instanceof Object?(i.data.rows.forEach(function(e,s){i.data.rows[s].CreateDateTime=e.CreateDate+" "+e.CreateTime}),e.exportTableData=i.data.rows,e.DiscussTable=e.exportTableData.slice(s,t),e.TotalCount=parseInt(i.data.results)):e.$message({type:"error",message:"获取数据失败",showClose:!0,customClass:"error_class"})}).catch(function(s){e.$message({type:"error",message:"获取数据失败",showClose:!0,customClass:"error_class"})})},AddClick:function(){var e=this;this.winFlag=0,this.EditAble=!0,this.DiscussDialogVisible=!0,this.$nextTick(function(){e.$refs.DiscussForm.resetFields(),e.DiscussForm.rw=""})},ClearPationInfo:function(){this.DiscussForm.PAPatMas="",this.DiscussForm.PatientName="",this.DiscussForm.PatientSex="",this.DiscussForm.PatientAge="",this.DiscussForm.CTLoc="",this.DiscussForm.CTLocId="",this.DiscussForm.Situation=""},LoadPatientAdm:function(e,s){var t=this;if(!e)return this.ClearPationInfo(),void s([]);this.DiscussForm.RegNo=(Array(this.SysRegNoLength).fill("0").join("")+this.DiscussForm.RegNo).slice(-this.SysRegNoLength);var i=this.axiosConfig("web.INMHISComm","FindAdmList","RecQuery","regNo$"+this.DiscussForm.RegNo);this.$ajax.request(i).then(function(e){e.data instanceof Object?s(e.data.rows):(t.$message({type:"error",message:"获取患者就诊记录失败",showClose:!0,customClass:"error_class"}),s([]))}).catch(function(e){s([]),t.$message({type:"error",message:"获取患者就诊记录失败",showClose:!0,customClass:"error_class"})})},AdmSelect:function(e){this.DiscussForm.PAPatMas=e.PAPatMasId,this.DiscussForm.PatientName=e.PatientName,this.DiscussForm.PatientSex=e.PatientSex,this.DiscussForm.PatientAge=e.PatientAge,this.DiscussForm.CTLoc=e.CTLocDesc,this.DiscussForm.CTLocId=e.CTLoc,this.DiscussForm.Situation=e.PatientDiagnos},Save:function(e){var s=this;this.$refs.DiscussForm.validate(function(t){if(t){var i=s.DiscussForm.Type,a=s.DiscussForm.Host,o="";s.DiscussForm.DiscussDate instanceof Date&&(o=s.DiscussForm.DiscussDate.Format("YYYY-MM-dd"));var n=s.DiscussForm.Participant.join(","),l=s.DiscussForm.RegNo,r=s.DiscussForm.PAPatMas,c=s.DiscussForm.PatientName,u=s.DiscussForm.PatientSex,m=s.DiscussForm.PatientAge,d=s.DiscussForm.CTLoc,p=s.DiscussForm.CTLocId,h=s.DiscussForm.Situation,g=s.DiscussForm.Record.replace(/\"/g,"☼"),D=s.DiscussForm.rw,b=i+"^"+a+"^"+o+"^"+n+"^"+l+"^"+r+"^"+c+"^"+u;b=b+"^"+m+"^"+d+"^"+p+"^"+h+"^"+e+"^"+D,s.SaveLoading=!0;var f=s.axiosConfig("web.INMHBComm","SaveDiscuss","LongMethod","parr$"+b,"record$"+g,"nurseid$"+sessionStorage.loginID);s.$ajax.request(f).then(function(e){s.SaveLoading=!1,1==e.data?(s.DiscussDialogVisible=!1,s.$message({type:"success",message:"保存成功",showClose:!0,customClass:"success_class"}),s.LoadDiscussTable()):s.$message({type:"error",message:"保存失败",showClose:!0,customClass:"error_class"})}).catch(function(e){s.SaveLoading=!1,s.$message({type:"error",message:"保存失败",showClose:!0,customClass:"error_class"})})}})},EditClick:function(){var e=this;this.winFlag=1,this.SelectRow&&this.SelectRow.rw?("N"!=this.SelectRow.DiscussStatus||this.SelectRow.Creator!=sessionStorage.loginID?this.EditAble=!1:this.EditAble=!0,this.DiscussDialogVisible=!0,this.$nextTick(function(){e.$refs.DiscussForm.resetFields(),e.DiscussForm.rw="",e.EditCheckRoom()})):this.$message({type:"warning",message:"请先选中一行数据",showClose:!0,customClass:"warning_class"})},EditCheckRoom:function(){var e=this,s=this.axiosConfig("web.INMHBComm","GetDiscuss","Method","id$"+this.SelectRow.rw,"flag$1");this.$ajax.request(s).then(function(s){s.data instanceof Object?(e.DiscussForm.Type=s.data.DiscussType,e.DiscussForm.Host=s.data.DiscussHost,e.DiscussForm.DiscussDate=s.data.DiscussDate?new Date(s.data.DiscussDate):"",e.DiscussForm.Participant=s.data.DiscussParticipant?s.data.DiscussParticipant.split(","):[],e.DiscussForm.RegNo=s.data.DiscussRegNo,e.DiscussForm.PAPatMas=s.data.DiscussPAPatMas,e.DiscussForm.PatientName=s.data.DiscussPatientName,e.DiscussForm.PatientSex=s.data.DiscussPatientSex,e.DiscussForm.PatientAge=s.data.DiscussPatientAge,e.DiscussForm.CTLoc=s.data.DiscussCTLocDesc,e.DiscussForm.CTLocId=s.data.DiscussCTLoc,e.DiscussForm.Situation=s.data.DiscussSituation,e.DiscussForm.Record=s.data.DiscussRecord.replace(/☼/g,'"'),e.DiscussForm.rw=s.data.rw):(e.DiscussDialogVisible=!1,e.$message({type:"error",message:"获取病例讨论内容失败",showClose:!0,customClass:"error_class"}))}).catch(function(s){e.DiscussDialogVisible=!1,e.$message({type:"error",message:"获取病例讨论内容失败",showClose:!0,customClass:"error_class"})})},DeleteClick:function(){var e=this;this.SelectRow&&this.SelectRow.rw?"N"==this.SelectRow.DiscussStatus?this.SelectRow.Creator==sessionStorage.loginID||0==sessionStorage.loginID?this.$confirm("此操作将删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"关闭",closeOnClickModal:!1,type:"warning"}).then(function(){var s=e.axiosConfig("web.INMHBComm","DeleteDiscuss","Method","id$"+e.SelectRow.rw);e.$ajax.request(s).then(function(s){1==s.data?(e.$message({message:"删除成功",type:"success",showClose:!0,customClass:"success_class"}),e.LoadDiscussTable()):e.$message({message:"删除失败",type:"error",showClose:!0,customClass:"error_class"})}).catch(function(s){e.$message({message:"删除失败",type:"error",showClose:!0,customClass:"error_class"})})}).catch(function(){e.$message({type:"info",message:"取消删除",showClose:!0,customClass:"info_class"})}):this.$message({type:"warning",message:"非创建人不可删除",showClose:!0,customClass:"warning_class"}):this.$message({type:"warning",message:this.SelectRow.DiscussStatusDesc+"状态不可删除",showClose:!0,customClass:"warning_class"}):this.$message({type:"warning",message:"请先选中一行数据",showClose:!0,customClass:"warning_class"})},RowClickEvent:function(e,s,t){this.SelectRow=e},HandleSizeChange:function(e){this.Pagesize=e,this.LoadDiscussTable()},HandleCurrentChange:function(e){this.CurrentPage=e.currentPage,this.LoadDiscussTable()}},created:function(){this.TomcatAddress=this.$store.state.systemset.SysTomcat+"Fileupdate/servlet/VueFileuploadServlet?filesname=images/CaseDiscuss/",this.LoadRoleWard(),this.LoadLoc(),this.LoadRoleNurse(),this.LoadDiscussTable();var e=this.$router.currentRoute.path.slice(1,this.$router.currentRoute.path.length);this.loadElementsForRouter("elementlist",e)}},u={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"case-discuss-panel"},[t("div",{staticClass:"top-tool-inputDiv"},[t("el-form",{attrs:{inline:!0,model:e.ToolForm,"label-position":"left"}},[t("el-form-item",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3hz1sg0")}},[t("el-select",{staticStyle:{width:"140px"},attrs:{filterable:"",clearable:"",placeholder:"",size:"mini"},model:{value:e.ToolForm.CTLoc,callback:function(s){e.$set(e.ToolForm,"CTLoc",s)},expression:"ToolForm.CTLoc"}},e._l(e.CTLocStore,function(e){return t("el-option",{key:e.locid,attrs:{label:e.locdesc,value:e.locid}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3hzzf80"),prop:"Ward"}},[t("el-select",{staticStyle:{width:"140px"},attrs:{filterable:"",clearable:"",placeholder:"",size:"mini"},model:{value:e.ToolForm.Ward,callback:function(s){e.$set(e.ToolForm,"Ward",s)},expression:"ToolForm.Ward"}},e._l(e.WardStore,function(e){return t("el-option",{key:e.rw,attrs:{label:e.WardDesc,value:e.rw}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3i0x880")}},[t("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"date",format:this.$store.state.mainframe.DateFormat,size:"mini"},model:{value:e.ToolForm.StDate,callback:function(s){e.$set(e.ToolForm,"StDate",s)},expression:"ToolForm.StDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3i1t7k0")}},[t("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"date",format:this.$store.state.mainframe.DateFormat,size:"mini"},model:{value:e.ToolForm.EndDate,callback:function(s){e.$set(e.ToolForm,"EndDate",s)},expression:"ToolForm.EndDate"}})],1),e._v(" "),t("el-form-item",[t("hgbutton",{attrs:{type:"default",styleCode:e.styleCode,icon:"nm-icon-w-find"},on:{click:e.LoadDiscussTable}},[e._v(e._s(e.$t("menu.CaseDiscuss.5nrnb3i1ubk0")))])],1)],1)],1),e._v(" "),t("div",{staticClass:"top-tool-button"},[0==this.$store.state.login.LoginId||e.elementlist.recadd?t("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-add":"nm-icon-lite-add"},on:{click:e.AddClick}},[e._v(e._s(e.$t("menu.CaseDiscuss.5nrnb3i1v180")))]):e._e(),e._v(" "),0==this.$store.state.login.LoginId||e.elementlist.recdel?t("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-cancel":"nm-icon-lite-cancel"},on:{click:e.DeleteClick}},[e._v(e._s(e.$t("menu.CaseDiscuss.5nrnb3i1vdo0")))]):e._e(),e._v(" "),t("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-export":"nm-icon-lite-export"},on:{click:function(s){e.exportData("DiscussTable",e.exportTableData,e.$t("menu.CaseDiscuss.5ncy66syzzg0"))}}},[e._v(e._s(e.$t("menu.CaseDiscuss.5nrnb3i1vok0")))])],1),e._v(" "),t("div",{staticClass:"top-tool-table"},[t("el-table",{ref:"DiscussTable",staticStyle:{width:"100%"},attrs:{data:e.DiscussTable,"header-cell-style":e.headerCellFontWeight,"highlight-current-row":!0,border:e.styleCode,height:e.styleCode?e.Height-130:e.Height-124},on:{"row-click":e.RowClickEvent,"row-dblclick":e.EditClick}},[t("el-table-column",{attrs:{type:"index",align:"center",width:"40"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3i3pz80"),prop:"DiscussStatusDesc","show-overflow-tooltip":"",width:"80"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.CaseDiscuss.5ncy66t3mcc0"),prop:"DiscussTypeDesc","show-overflow-tooltip":"",width:"100"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.CaseDiscuss.5ncy66t3mok0"),prop:"DiscussDate","show-overflow-tooltip":"",width:"120",formatter:e.PTableDateHisShow}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3i53340"),prop:"DiscussHostName","show-overflow-tooltip":"",width:"80"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3i6in80"),prop:"DiscussCTLocDesc","show-overflow-tooltip":"",width:"120"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3i7gv80"),prop:"DiscussRegNo","show-overflow-tooltip":"",width:"120"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3i8d0s0"),prop:"DiscussPatientName","show-overflow-tooltip":"",width:"80"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3i991c0"),prop:"DiscussPatientSex","show-overflow-tooltip":"",width:"60"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3ia61w0"),prop:"DiscussPatientAge","show-overflow-tooltip":"",width:"60"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3ib4hg0"),prop:"DiscussSituation","show-overflow-tooltip":""}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3ic2n40"),prop:"CreatorName","show-overflow-tooltip":"",width:"80"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.CaseDiscuss.5ncy66t3pmo0"),prop:"WardDesc","show-overflow-tooltip":"",width:"120"}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3icz6c0"),prop:"CreateDateTime","show-overflow-tooltip":"",width:"160",formatter:e.PTableDateHisShow}})],1),e._v(" "),t("hgpagination",{attrs:{styleCode:e.styleCode,sizes:[20,40,50,100],totalCount:e.TotalCount,pageNumber:e.CurrentPage,pageSize:e.PageSize},on:{changePage:e.HandleCurrentChange,getPageSize:e.HandleSizeChange}})],1),e._v(" "),t("el-dialog",{attrs:{title:0==e.winFlag?e.$t("menu.CaseDiscuss.5nrnb3i1v180"):e.$t("menu.CaseDiscuss.5nrnb3i1v181"),visible:e.DiscussDialogVisible,"close-on-click-modal":!1,width:"754px",top:"1%"},on:{"update:visible":function(s){e.DiscussDialogVisible=s}}},[t("div",{staticClass:"dialog-header-title",attrs:{slot:"title"},slot:"title"},[e.styleCode?t("i",{class:[0==e.winFlag?"nm-icon-w-plus":"nm-icon-w-edit"]}):e._e(),e._v(" "),0==e.winFlag?t("span",[e._v(e._s(e.$t("menu.CaseDiscuss.5nrnb3i1v180")))]):1==e.winFlag?t("span",[e._v(e._s(e.$t("menu.CaseDiscuss.5nrnb3i1v181")))]):e._e()]),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.SaveLoading,expression:"SaveLoading"}],attrs:{"element-loading-text":e.$t("menu.CaseDiscuss.5nrnb3if5ks0")}},[t("el-form",{ref:"DiscussForm",attrs:{model:e.DiscussForm,rules:e.Rules,disabled:!e.EditAble,inline:!0,"label-position":"right","label-width":"100px",align:"left"}},[t("el-form-item",{attrs:{label:e.$t("menu.CaseDiscuss.5ncy66t3mcc0"),prop:"Type"}},[t("el-select",{staticStyle:{width:"130px"},attrs:{size:"mini"},model:{value:e.DiscussForm.Type,callback:function(s){e.$set(e.DiscussForm,"Type",s)},expression:"DiscussForm.Type"}},e._l(e.DiscussTypeStore,function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3i53340"),prop:"Host"}},[t("el-select",{staticStyle:{width:"130px"},attrs:{filterable:"",size:"mini"},model:{value:e.DiscussForm.Host,callback:function(s){e.$set(e.DiscussForm,"Host",s)},expression:"DiscussForm.Host"}},e._l(e.WardNurseStore,function(e){return t("el-option",{key:e.Per,attrs:{value:e.Per,label:e.PerName+"("+e.PerID+")"}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.CaseDiscuss.5ncy66t3mok0"),prop:"DiscussDate"}},[t("el-date-picker",{staticStyle:{width:"130px"},attrs:{type:"date",format:this.$store.state.mainframe.DateFormat,size:"mini"},model:{value:e.DiscussForm.DiscussDate,callback:function(s){e.$set(e.DiscussForm,"DiscussDate",s)},expression:"DiscussForm.DiscussDate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3ih7uc0"),prop:"Participant"}},[t("el-select",{staticStyle:{width:"610px"},attrs:{filterable:"",multiple:"",size:"mini"},model:{value:e.DiscussForm.Participant,callback:function(s){e.$set(e.DiscussForm,"Participant",s)},expression:"DiscussForm.Participant"}},e._l(e.WardNurseStore,function(e){return t("el-option",{key:e.Per,attrs:{value:e.Per,label:e.PerName+"("+e.PerID+")"}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3i7gv80"),prop:"RegNo"}},[t("el-autocomplete",{staticStyle:{width:"130px"},attrs:{"value-key":"RegNo","popper-class":"adm-list","fetch-suggestions":e.LoadPatientAdm,"popper-append-to-body":!1,"suffix-icon":"nm-icon-w-find",size:"mini"},on:{select:e.AdmSelect,change:e.ClearPationInfo},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticStyle:{height:"34px","line-height":"34px"}},[t("el-form-item",{staticClass:"adm-list-option",staticStyle:{width:"95px"}},[e._v(e._s(s.item.RegNo))]),e._v(" "),t("el-form-item",{staticClass:"adm-list-option",staticStyle:{width:"50px"}},[e._v(e._s(s.item.PatientName))]),e._v(" "),t("el-form-item",{staticClass:"adm-list-option",staticStyle:{width:"40px"}},[e._v(e._s(s.item.AdmTypeDesc))]),e._v(" "),t("el-form-item",{staticClass:"adm-list-option",staticStyle:{width:"100px"}},[e._v(e._s(s.item.CTLocDesc))]),e._v(" "),t("el-form-item",{staticClass:"adm-list-option",staticStyle:{width:"100px"}},[e._v(e._s(s.item.AdmDate))]),e._v(" "),t("el-form-item",{staticClass:"adm-list-option",staticStyle:{width:"80px"}},[e._v(e._s(s.item.AdmTime))])],1)]}}]),model:{value:e.DiscussForm.RegNo,callback:function(s){e.$set(e.DiscussForm,"RegNo",s)},expression:"DiscussForm.RegNo"}})],1),e._v(" "),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3ijktw0"),prop:"PAPatMas"}},[t("el-input",{staticStyle:{width:"130px"},attrs:{size:"mini"},model:{value:e.DiscussForm.PAPatMas,callback:function(s){e.$set(e.DiscussForm,"PAPatMas",s)},expression:"DiscussForm.PAPatMas"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3ikig00"),prop:"PatientName"}},[t("el-input",{staticStyle:{width:"130px"},attrs:{disabled:"",size:"mini"},model:{value:e.DiscussForm.PatientName,callback:function(s){e.$set(e.DiscussForm,"PatientName",s)},expression:"DiscussForm.PatientName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3i991c0"),prop:"PatientSex"}},[t("el-input",{staticStyle:{width:"130px"},attrs:{disabled:"",size:"mini"},model:{value:e.DiscussForm.PatientSex,callback:function(s){e.$set(e.DiscussForm,"PatientSex",s)},expression:"DiscussForm.PatientSex"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3ia61w0"),prop:"PatientAge"}},[t("el-input",{staticStyle:{width:"130px"},attrs:{disabled:"",size:"mini"},model:{value:e.DiscussForm.PatientAge,callback:function(s){e.$set(e.DiscussForm,"PatientAge",s)},expression:"DiscussForm.PatientAge"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3i6in80"),prop:"CTLoc"}},[t("el-input",{staticStyle:{width:"130px"},attrs:{disabled:"",size:"mini"},model:{value:e.DiscussForm.CTLoc,callback:function(s){e.$set(e.DiscussForm,"CTLoc",s)},expression:"DiscussForm.CTLoc"}})],1),e._v(" "),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3ipdzw0"),prop:"CTLocId"}},[t("el-input",{attrs:{disabled:"",size:"mini"},model:{value:e.DiscussForm.CTLocId,callback:function(s){e.$set(e.DiscussForm,"CTLocId",s)},expression:"DiscussForm.CTLocId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("menu.CaseDiscuss.5nrnb3ib4hg0"),prop:"Situation"}},[t("el-input",{staticStyle:{width:"610px"},attrs:{disabled:"",size:"mini"},model:{value:e.DiscussForm.Situation,callback:function(s){e.$set(e.DiscussForm,"Situation",s)},expression:"DiscussForm.Situation"}})],1),e._v(" "),t("el-form-item",{staticStyle:{"margin-top":"5px"},attrs:{prop:"Record",label:e.$t("menu.CaseDiscuss.5ncy66t48nc0")}},[t("tinymce",{staticStyle:{width:"610px"},attrs:{disabled:!e.EditAble,uploadAddress:e.TomcatAddress+(new Date).valueOf()},model:{value:e.DiscussForm.Record,callback:function(s){e.$set(e.DiscussForm,"Record",s)},expression:"DiscussForm.Record"}})],1)],1),e._v(" "),t("div",{staticClass:"bottom-button"},[t("hgbutton",{attrs:{type:e.styleCode?"default":"success",styleCode:e.styleCode,disabled:!e.EditAble},on:{click:function(s){return e.Save("N")}}},[e._v(e._s(e.$t("menu.CaseDiscuss.5nrnb3iqr9s0")))]),e._v(" "),t("hgbutton",{attrs:{type:"default",styleCode:e.styleCode,disabled:!e.EditAble},on:{click:function(s){return e.Save("Y")}}},[e._v(e._s(e.$t("menu.CaseDiscuss.5nrnb3iqrv40")))]),e._v(" "),t("hgbutton",{attrs:{type:"default",styleCode:e.styleCode},on:{click:function(s){e.DiscussDialogVisible=!1}}},[e._v(e._s(e.$t("menu.CaseDiscuss.5nrnb3iqs5o0")))])],1)],1)])],1)},staticRenderFns:[]};var m=t("VU/8")(c,u,!1,function(e){t("U/Xu")},null,null);s.default=m.exports},d6c6:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=t("5eDb"),a=t.n(i),o=t("iB2v"),n=(t("axCQ"),t("3Oml"),t("NBEC"),t("HaK5"),t("Q/P+"),t("f85y"),t("yXOt"),t("Abny"),t("S0tB"),t("njYm"),t("SlIL"),t("gBhd"),{components:{Editor:o.a},name:"tinymce",props:{value:{type:String,default:""},disabled:{type:Boolean,default:!1},plugins:{type:[String,Array],default:"lists advlist table wordcount preview print link image paste code"},toolbar:{type:[String,Array],default:"styleselect | fontselect fontsizeselect bold italic underline strikethrough superscript subscript removeformat lineheight forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist indent2em outdent indent | table link image media | preview print code"},height:{type:Number,default:300},wordLimit:{type:[Number,Boolean],default:!1},uploadAddress:{type:[String],default:""}},data:function(){var e=this,s="./nurmg/";return{init:{language_url:s+"static/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:s+"static/tinymce/skins/ui/oxide",content_css:s+"static/tinymce/skins/ui/oxide/content.min.css",external_plugins:{indent2em:"../tinymce/plugins/indent2em/plugin.min.js",lineheight:"../tinymce/plugins/lineheight/plugin.min.js",ax_wordlimit:"../tinymce/plugins/ax_wordlimit/plugin.min.js",media:"../tinymce/plugins/media/plugin.min.js"},height:this.height,plugins:this.plugins,toolbar:this.toolbar,branding:!1,menubar:!1,elementpath:!1,toolbar_mode:"sliding",default_link_target:"_blank",fontsize_formats:"初号=42pt 小初=36pt 一号=26pt 小一=24pt 二号=22pt 小二=18pt 三号=16pt 小三=15pt 四号=14pt 小四=12pt 五号=10.5pt 小五=9pt 六号=7.5pt 小六=6.5pt 七号=5.5pt 八号=5pt 8=8pt 10=10pt 11=11pt 20=20pt",paste_retain_style_properties:"color font-size text-indent text-align margin margin-left margin-top margin-bottom margin-right border border-style border-collapse border-top border-left border-bottom border-right mso-border-top-alt mso-border-left-alt mso-border-alt padding mso-padding-alt",paste_preprocess:function(e,s){s.content=s.content.replace(/font-family:(\S)*?;/gi,"font-family:宋体;"),s.content=s.content.replace(/text-indent: -(\S)*?pt;/gi,"").replace(/windowtext 1.0pt/gi,"1px").replace(/<table/gi,'<table cellspacing="0" cellpadding="0"')},file_picker_callback:function(s,t,i){var a=".jpg, .jpeg, .png, .gif, .pdf, .txt, .zip, .rar, .7z, .doc, .docx, .xls, .xlsx, .ppt, .pptx, .mp3, .mp4";switch(i.filetype){case"image":a=".png, .jpg, .jpeg, .gif";break;case"media":a=".mp3, .mp4";break;case"file":a=".pdf, .txt, .zip, .rar, .7z, .doc, .docx, .xls, .xlsx, .ppt, .pptx"}var o=e.uploadAddress,n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("accept",a),n.onchange=function(){var e=this.files[0],t=void 0,a=void 0;(t=new XMLHttpRequest).withCredentials=!1,t.open("POST",o),t.onload=function(){if(200==t.status){var a=t.responseText.split(":")[0],n=t.responseText.split(":")[1];if("success"==a)switch(i.filetype){case"image":s(o.split("Fileupdate")[0]+n,{title:e.name,alt:e.name});break;case"media":var l=URL.createObjectURL(e),r=document.createElement("video");r.onloadedmetadata=function(e){URL.revokeObjectURL(l),s(o.split("Fileupdate")[0]+n,{width:r.videoWidth,height:r.videoHeight})},r.src=l,r.load();break;case"file":s(o.split("Fileupdate")[0]+n,{title:e.name,text:e.name})}}},(a=new FormData).append("file",e,e.name),t.send(a)},n.click()},contextmenu:"link linkchecker image imagetools table spellchecker configurepermanentpen media cut copy paste",font_formats:"黑体=黑体;宋体=宋体;新宋体=新宋体;仿宋=仿宋;楷体=楷体;隶书=隶书;微软雅黑=微软雅黑,Microsoft YaHei;等线=等线;方正姚体=方正姚体;方正舒体=方正舒体;华文中宋=华文中宋;华文仿宋=华文仿宋;华文宋体=华文宋体;华文彩云=华文彩云;华文新魏=华文新魏;华文楷体=华文楷体;华文琥珀=华文琥珀;华文细黑=华文细黑;华文行楷=华文行楷;华文隶书=华文隶书;幼圆=幼圆; Andale Mono=andale mono,times; Arial=arial,helvetica,sans-serif; Arial Black=arial black,avant garde; Book Antiqua=book antiqua,palatino; Comic Sans MS=comic sans ms,sans-serif; Courier New=courier new,courier; Georgia=georgia,palatino; Helvetica=helvetica; Impact=impact,chicago; Symbol=symbol; Tahoma=tahoma,arial,helvetica,sans-serif;Times New Roman=times new roman,times; Trebuchet MS=trebuchet ms,geneva;",content_style:"body { font-family:宋体;}",ax_wordlimit_num:this.wordLimit,ax_wordlimit_callback:function(e,s,t){e.notificationManager.open({type:"warning ",text:"当前字数："+s.length+"，限制字数："+t,timeout:2e3,closeButton:!0,icon:"warning"})}},myValue:this.value}},mounted:function(){a.a.init({})},methods:{onClick:function(e){this.$emit("onClick",e,a.a)},clear:function(){this.myValue=""},onBlur:function(e){this.$emit("onBlur",e,a.a)}},watch:{value:function(e){this.myValue=e},myValue:function(e){this.$emit("input",e)}}}),l={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"tinymce-box"},[t("Editor",{attrs:{init:e.init,disabled:e.disabled},on:{onBlur:e.onBlur,onClick:e.onClick},model:{value:e.myValue,callback:function(s){e.myValue=s},expression:"myValue"}})],1)},staticRenderFns:[]};var r=t("VU/8")(n,l,!1,function(e){t("jeM7")},null,null);s.default=r.exports},jeM7:function(e,s){}});