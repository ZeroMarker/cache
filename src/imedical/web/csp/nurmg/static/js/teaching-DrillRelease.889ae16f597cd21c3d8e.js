webpackJsonp([118,261,274],{"5Rp/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Dd8w"),l=a.n(i),s=a("P5XB"),r=a("ty01"),o=a("NYxO"),n=a("XlQt"),d=a("W5Fe"),c=a("doZQ"),u=a("z8xk"),p={name:"DrillRelease",components:{Examinee:s.default,DrillReleaseFile:r.default,hgbutton:n.default,hgpagination:d.default,hgswitch:c.default,hgpanel:u.default},computed:l()({},Object(o.b)(["Height","styleCode"])),data:function(){var e=this;return{findTypeStore:[{rw:1,desc:"主题"},{rw:2,desc:"方式"},{rw:3,desc:"级别"},{rw:4,desc:"状态"}],finds:{startDate:(new Date).addDate(-30),endDate:new Date,type:"",input:""},tableData:[],currentPage:1,pageSize:20,totalCount:0,dialogVisible:!1,editForm:{ReleaseWay:"O",ReleaseLevel:"",ReleaseDrillType:"",StartDate:new Date,EndDate:(new Date).addDate(7),Examiner:"",DrillCharge:"",DrillCreditType:"A",DrillCredit:0,ReleaseDesc:"",Examinee:"护士层级",ExamineeList:[],ExamineeWard:[],CoursesType:"Y",DrillPerNum:0,Step:0,fileName:"",filesUrl:"",dirllFileSubDR:"",fileDownFlag:"N",filesOfFile:[],videoPass:0,videoQuestion:[],TimeList:[{startTime:"",endTime:"",TimeOrder:"",TimePlace:"",TimeOnline:""}],CheckWork:[],QRCode:"S",ClassType:"",ClassDuration:0,ClassPass:0,ClassResit:"Y",ClassResitNum:"0",ClassPaperType:"I",ClassDraw:"Y",ClassScore:0,ClassQuesRange:[],StudentClassDR:"",StudentTeacherDR:"",TeacherStudentDR:"",ResultResit:"Y",ResultResitNum:"0",ResultMode:"T",ResultType:"",ResultDuration:0,ResultPass:0,ResultExaminer:[],ResultTimeList:[{startTime:"",endTime:"",TimePlace:""}],ResultPaperType:"",ResultDraw:"Y",ResultScore:0,ResultQuesRange:[],ReulstOperationRange:[],HomeworkDesc:"",HomeworkScore:0,HomeworkPass:0,HomeworkDateTime:(new Date).addDate(1),DrillScore:"",AutoScoreType:"Y",finishStand:[],passStand:[],Status:"N",rw:""},rules:{ReleaseWay:[{required:!0,message:"请选择培训方式！",trigger:"change"}],ReleaseLevel:[{required:!0,message:"请选择级别！",trigger:"change"}],ReleaseDesc:[{required:!0,message:"必填项",trigger:"change"}],StartDate:[{required:!0,message:"必填项！",trigger:"change"}],EndDate:[{required:!0,message:"必填项！",trigger:"change"}],ReleaseDrillType:[{required:!0,message:"请选择！",trigger:"change"}],Examiner:[{required:!0,message:"请选择！",trigger:"change"}],DrillCharge:[{required:!0,message:"请选择！",trigger:"change"}],ClassQuesRange:[{required:!0,message:"必填项！",trigger:"change"}],ClassQuesRangeInput:[{required:!0,message:"必填项！",trigger:"blur"}],ResultQuesRange:[{required:!0,message:"必填项！",trigger:"change"}],ResultQuesRangeInput:[{required:!0,message:"必填项！",trigger:"blur"}],videoQuestion:[{required:!0,message:"必填项！",trigger:"change"}],videoPass:[{required:!1,message:"不能为空",trigger:"change"},{validator:function(t,a,i){return a>e.editForm.videoQuestion.length&&(i("不能大于总题数"),!1)}}]},pickerOptions:{disabledDate:function(e){return e.getTime()<Date.parse((new Date).addDate(0))-864e5}},selRow:"",DBClickFlag:!1,levelStore:[{rw:"H",desc:"院级"},{rw:"L",desc:"科级"},{rw:"W",desc:"病区"}],ExamineeStore:[],ExaminerStore:[],DrilTypeStore:[],wardStore:[],DrillWay:[{rw:"O",desc:"在线培训"},{rw:"D",desc:"线下培训"}],CreditType:[{rw:"A",desc:"自动授予"},{rw:"H",desc:"手动授予"},{rw:"N",desc:"无学分"}],stepStore:["添加课件","视频插题","随堂练习","问卷调查","结课考核","课后作业"],finishStandStore:[{rw:"2",desc:"课件学习进度超过90%"},{rw:"3",desc:"完成视频插题"},{rw:"4",desc:"完成课后练习"},{rw:"5",desc:"完成问卷调查"},{rw:"6",desc:"完成结课考核"},{rw:"7",desc:"完成课后作业"}],passStandStore:[{rw:"2",desc:"课件学习进度超过90%"},{rw:"3",desc:"完成视频插题且合格"},{rw:"4",desc:"完成课后练习且分数及格"},{rw:"5",desc:"完成问卷调查"},{rw:"6",desc:"完成结课考核且分数及格"},{rw:"7",desc:"完成课后作业且分数及格"}],videoQuestionColumn:[{prop:"a",label:"时间节点",width:150},{prop:"b",label:"出卷范围",width:300},{prop:"c",label:"考题题目",width:300},{prop:"d",label:"答题方式",width:100},{prop:"e",label:"题型",width:100}],VideoQuesTypeStore:[],fileTreeData:[],fileVisiable:!1,treedata:[{value:"0",id:"0",label:"全部",children:[]}],TheorySubStore:[],teachingStore:[],ResitNumStore:[{rw:"N",desc:"不限定"},{rw:"1",desc:"1次"},{rw:"2",desc:"2次"},{rw:"3",desc:"3次"}],PaperTypeStore:[{rw:"I",desc:"智能组卷"},{rw:"H",desc:"手动组卷"}],topicStore:[{rw:"S",desc:"单选题"},{rw:"M",desc:"多选题"},{rw:"B",desc:"填空题"}],ClassRangeColumn:[{prop:"g",label:"出卷范围",width:300},{prop:"a",label:"答题方式",width:120},{prop:"c",label:"备题数",width:80},{prop:"d",label:"抽题数",width:80},{prop:"e",label:"分值",width:80},{prop:"f",label:"汇总",width:80}],ClassQuesTypeStore:[],StudentClassStore:[],StudentTeacherStore:[],TeacherStudentStore:[],ModeStore:[{rw:"T",desc:"理论"},{rw:"O",desc:"技操"}],ResultQuesTypeStore:[],ResultOperationStore:[],teaTypeStore:[],ResultQuesRangeColumn:[{prop:"g",label:"出卷范围",width:300},{prop:"a",label:"答题方式",width:120},{prop:"c",label:"备题数",width:80},{prop:"d",label:"抽题数",width:80},{prop:"e",label:"分值",width:80},{prop:"f",label:"汇总",width:80}],theoryTypeStore:[],dialogExamineeVisible:!1,ExamineeTitle:"考生管理",Userlist:[],markIndex:"",winFlag:0}},watch:{"editForm.ReleaseWay":function(e){"D"==this.editForm.ReleaseWay?(this.stepStore=["课程信息","课程考勤","随堂练习","问卷调查","结课考核","课后作业"],this.finishStandStore=[{rw:"1",desc:"签到、签退"},{rw:"4",desc:"完成课后练习"},{rw:"5",desc:"完成问卷调查"},{rw:"6",desc:"完成结课考核"},{rw:"7",desc:"完成课后作业"}],this.passStandStore=[{rw:"1",desc:"签到、签退"},{rw:"4",desc:"完成课后练习且分数及格"},{rw:"5",desc:"完成问卷调查"},{rw:"6",desc:"完成结课考核且分数及格"},{rw:"7",desc:"完成课后作业且分数及格"}]):(this.stepStore=["添加课件","视频插题","随堂练习","问卷调查","结课考核","课后作业"],this.finishStandStore=[{rw:"2",desc:"课件学习进度超过90%"},{rw:"3",desc:"完成视频插题"},{rw:"4",desc:"完成课后练习"},{rw:"5",desc:"完成问卷调查"},{rw:"6",desc:"完成结课考核"},{rw:"7",desc:"完成课后作业"}],this.passStandStore=[{rw:"2",desc:"课件学习进度超过95%"},{rw:"3",desc:"完成视频插题且合格"},{rw:"4",desc:"完成课后练习且分数及格"},{rw:"5",desc:"完成问卷调查"},{rw:"6",desc:"完成结课考核且分数及格"},{rw:"7",desc:"完成课后作业且分数及格"}])}},methods:{LoadAssessFormStore:function(){var e=this,t=e.axiosConfig("web.INMDBComm","FindSurveyFormByRe","RecQuery","parr$DrillStudentClass","input$","role$"+sessionStorage.getItem("loginRoleCodes"),"nurseid$"+sessionStorage.getItem("loginID")),a=e.axiosConfig("web.INMDBComm","FindSurveyFormByRe","RecQuery","parr$DrillStudentTeacher","input$","role$"+sessionStorage.getItem("loginRoleCodes"),"nurseid$"+sessionStorage.getItem("loginID")),i=e.axiosConfig("web.INMDBComm","FindSurveyFormByRe","RecQuery","parr$DrillTeacherStudent","input$","role$"+sessionStorage.getItem("loginRoleCodes"),"nurseid$"+sessionStorage.getItem("loginID"));e.$ajax.all([e.$ajax.request(t),e.$ajax.request(a),e.$ajax.request(i)]).then(this.$ajax.spread(function(t,a,i){e.StudentClassStore=t.data.rows,e.StudentTeacherStore=a.data.rows,e.TeacherStudentStore=i.data.rows})).catch(function(e){})},LoadTheoryStore:function(e){var t=this,a=this.axiosConfig("web.INMDBComm","FindTeachTheorySubList","RecQuery","parr$"+e);this.$ajax.request(a).then(function(e){t.TheorySubStore=e.data.rows}).catch(function(e){})},GetVideoQuest:function(e,t){var a=this.editForm.videoQuestion[e].b;if(t&&(this.editForm.videoQuestion[e].c="",this.editForm.videoQuestion[e].d="",this.editForm.videoQuestion[e].e=""),this.TheorySubStore=new Array,a&&0!=a.length){var i=a[a.length-1]+"^^^^^1^1";this.LoadTheoryStore(i)}},GetVideoQuestInfo:function(e,t){var a=this,i=a.editForm.videoQuestion[e].c;if(i){var l=a.axiosConfig("web.INMDBComm","GetTeachTheorySub","RecMethod","rw$"+i);a.$ajax.request(l).then(function(t){t.data instanceof Object&&(a.editForm.videoQuestion[e].d=t.data.SubModeDesc,a.editForm.videoQuestion[e].e=t.data.SubTypeDRDesc)}).catch(function(e){})}else t&&(a.editForm.videoQuestion[e].d="",a.editForm.videoQuestion[e].e="")},AddVideoQuesClick:function(){0==this.editForm.videoQuestion.length&&this.LoadTheoryTypeStore("T","","VideoQuesTypeStore"),this.editForm.videoQuestion.push({a:"",b:new Array,c:"",d:"",e:""})},DeleteVideoQuesClick:function(e){this.editForm.videoQuestion.splice(e,1)},UploadClick:function(){this.$refs.imFile.click()},ImportFile:function(e){var t=e.target.files||e.dataTransfer.files;if(0==t.length)return!1;this.editForm.fileName=t[0].name,this.editForm.dirllFileSubDR=""},SaveFileClick:function(e){this.fileVisiable=!1,this.$refs.imFile.value="",this.editForm.dirllFileSubDR=e.rw,this.editForm.fileName=e.SubDesc,this.editForm.filesUrl=e.FileUrl},LoadTreeData:function(){var e=this;this.$ajax.request(this.axiosConfig("web.INMTeaComm","FindDrillFile","Method","noStop$1")).then(function(t){e.fileTreeData=t.data,e.treedata[0].children=t.data})},nextStep:function(e){this.editForm.Step<=0&&e<0||this.editForm.Step>=this.stepStore.length&&e>0||(this.editForm.Step+=e)},InitFormData:function(){this.editForm.Step=0,this.editForm.fileName="",this.editForm.dirllFileSubDR="",this.editForm.fileDownFlag="N",this.editForm.filesOfFile=new Array,this.editForm.filesUrl="",this.editForm.DrillScore=0,this.editForm.AutoScoreType="Y",this.editForm.finishStand=new Array,this.editForm.passStand=new Array,this.editForm.CheckWork=new Array,this.editForm.QRCode="S",this.editForm.videoPass=0,this.editForm.videoQuestion=new Array,this.editForm.ClassType="",this.editForm.ClassDuration=0,this.editForm.ClassPass=0,this.editForm.ClassResit="Y",this.editForm.ClassResitNum=0,this.editForm.ClassPaperType="I",this.editForm.ClassDraw="Y",this.editForm.ClassScore=0,this.editForm.ClassQuesRange=new Array,this.editForm.StudentClassDR="",this.editForm.StudentTeacherDR="",this.editForm.TeacherStudentDR="",this.editForm.HomeworkDesc="",this.editForm.HomeworkScore=0,this.editForm.HomeworkPass=0,this.editForm.HomeworkDateTime=(new Date).addDate(1),this.editForm.ResultMode="T",this.editForm.ResultResit="Y",this.editForm.ResultResitNum="0",this.editForm.ResultType="",this.editForm.ResultDuration=0,this.editForm.ResultExaminer=new Array,this.editForm.ResultTimeList=new Array,this.editForm.ResultPaperType="",this.editForm.ResultDraw="Y",this.editForm.ResultScore=0,this.editForm.ResultPass=0,this.editForm.ResultQuesRange=new Array,this.editForm.ReulstOperationRange=new Array,this.editForm.TimeList=[{startTime:"",endTime:"",TimeOrder:"",TimePlace:"",TimeOnline:""}],this.editForm.Status="N",this.editForm.rw=""},HandleCurrentChange:function(e){this.currentPage=e.currentPage,this.LoadTableData()},HandleSizeChange:function(e){this.pageSize=e,this.LoadTableData()},LoadTableData:function(){var e=this,t=e.finds,a=t.startDate,i=t.endDate,l=t.type,s=t.input;(a=a||"")instanceof Date&&(a=a.Format("YYYY-MM-dd")),(i=i||"")instanceof Date&&(i=i.Format("YYYY-MM-dd")),l=l||"",s=s||"";var r=a+"^"+i+"^"+l,o=sessionStorage.getItem("loginID"),n=(e.currentPage-1)*e.pageSize,d=e.pageSize,c=e.axiosConfig("web.INMTeaComm","FindDrillReleaseList","RecQuery","parr$"+r,"input$"+s,"loginID$"+o,"start$"+n,"limit$"+d);e.$ajax.request(c).then(function(t){e.tableData=t.data.rows,e.totalCount=parseInt(t.data.results),e.selRow=""}).catch(function(e){})},RowDblClick:function(e){var t=this;if(t.winFlag=1,this.selRow=e,t.selRow&&t.selRow.rw){t.selRow.rw;var a=t.axiosConfig("web.INMTeaComm","GetDrillRelease","RecMethod","rw$"+t.selRow.rw);t.$ajax.request(a).then(function(e){t.dialogVisible=!0,t.DBClickFlag=!0,t.$nextTick(function(){for(var a in t.$refs.editForm.resetFields(),t.InitFormData(),"O"==e.data.ReleaseWay&&t.LoadTheoryTypeStore("T","","VideoQuesTypeStore"),e.data.ResultType&&t.LoadTheoryTypeStore("T",e.data.ResultType,"ResultQuesTypeStore"),e.data.ClassType&&t.LoadTheoryTypeStore("T",e.data.ClassType,"ClassQuesTypeStore"),t.editForm)if(void 0!=e.data[a])if("ExamineeList"==a||"ExamineeWard"==a||"CheckWork"==a||"filesOfFile"==a||"ResultExaminer"==a||"ReulstOperationRange"==a||"finishStand"==a||"passStand"==a)e.data[a]?t.editForm[a]=e.data[a].split(","):t.editForm[a]=new Array;else if("TimeList"==a){for(var i=new Array,l=e.data[a].split("「"),s=0;s<l.length;s++)if(l[s]){var r=l[s].split("」");i.push({startTime:r[0],endTime:r[1],TimeOrder:r[2],TimePlace:r[3],TimeOnline:r[4]})}t.editForm[a]=i}else if("ResultTimeList"==a){for(var o=new Array,n=e.data[a].split("「"),d=0;d<n.length;d++)if(n[d]){var c=n[d].split("」");o.push({startTime:c[0],endTime:c[1],TimePlace:c[2]})}t.editForm[a]=o}else if("videoQuestion"==a)if(e.data[a]){for(var u=new Array,p=e.data[a].split("「"),m=0;m<p.length;m++){var h=p[m].split("」");u.push({a:new Date((new Date).Format("yyyy-MM-dd ")+h[0]),b:h[1].split(","),c:h[2],d:"",e:""})}t.editForm[a]=u;for(var g=0;g<u.length;g++)t.GetVideoQuest(g,!1),t.GetVideoQuestInfo(g,!1)}else t.editForm[a]=new Array;else if("ClassQuesRange"==a||"ResultQuesRange"==a)if(e.data[a]){var f=new Array,v=e.data[a].split("「"),b=e.data.ClassPaperType,w="ClassScore";"ResultQuesRange"==a&&(b=e.data.ResultPaperType,w="ResultScore");for(var y=0;y<v.length;y++){var C=v[y].split("」");"I"==b?f.push({a:C[0],b:C[1],d:C[2],e:C[3],c:"",f:C[4],g:C[5].split(",")}):f.push({a:C[0].split(","),b:C[1],g:C[2],c:"",d:"",e:"",f:""})}t.editForm[a]=f;for(var S=0;S<f.length;S++)"I"==b?t.GetSpareNum(S,!1,a):(t.GetHandleQuest(S,!1,a),t.GetHandleQuestInfo(S,!1,b,a,w))}else t.editForm[a]=new Array;else t.editForm[a]=e.data[a];t.$nextTick(function(){"O"==e.data.ResultMode&&t.LoadResultOperationStore(),t.DBClickFlag=!1})})}).catch(function(e){t.$message({type:"warning",message:"操作失败！",showClose:!0,customClass:"warning_class"})})}else this.$message({type:"warning",message:"请先选择记录",showClose:!0,customClass:"warning_class"})},RowClick:function(e){this.selRow=e},DeleteClick:function(){var e=this;if(e.selRow&&e.selRow.rw){var t=e.axiosConfig("web.INMTeaComm","DeleteDrillRelease","Method","rw$"+e.selRow.rw,"loginID$"+sessionStorage.getItem("loginID"));e.$confirm("此操作将删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"关闭",type:"warning"}).then(function(){e.$ajax.request(t).then(function(t){1==t.data?(e.$message({message:"删除成功！",type:"success",showClose:!0,customClass:"success_class"}),e.LoadTableData()):t.data.length<100?e.$message({type:"warning",message:t.data,showClose:!0,customClass:"warning_class"}):e.$message({type:"warning",message:"后台方法错了^_^",showClose:!0,customClass:"warning_class"})}).catch(function(t){e.$message({type:"warning",message:"操作失败！",showClose:!0,customClass:"warning_class"})})})}else this.$message({type:"warning",message:"请先选择记录",showClose:!0,customClass:"warning_class"})},ReleaseClick:function(){if(this.selRow&&this.selRow.rw)if("Y"!=this.selRow.Status){var e=sessionStorage.getItem("loginID");this.selRow.Creator==e?(this.ExamineeTitle="发布",this.dialogExamineeVisible=!0):this.$message({type:"warning",message:"非创建者不可发布",showClose:!0,customClass:"warning_class"})}else this.$message({type:"warning",message:"已发布,不可重复发布",showClose:!0,customClass:"warning_class"});else this.$message({type:"warning",message:"请先选择记录",showClose:!0,customClass:"warning_class"})},CancelClick:function(){var e=this;if(e.selRow&&e.selRow.rw){var t=e.axiosConfig("web.INMTeaComm","CanselDrillReleasePublish","Method","rw$"+e.selRow.rw,"loginID$"+sessionStorage.getItem("loginID"));e.$ajax.request(t).then(function(t){1==t.data?(e.$message({message:"操作成功！",type:"success",showClose:!0,customClass:"success_class"}),e.LoadTableData()):t.data.length<100?e.$message({type:"warning",message:t.data,showClose:!0,customClass:"warning_class"}):e.$message({type:"warning",message:"后台方法错了^_^",showClose:!0,customClass:"warning_class"})}).catch(function(t){e.$message({type:"warning",message:"操作失败！",showClose:!0,customClass:"warning_class"})})}else this.$message({type:"warning",message:"请先选择记录",showClose:!0,customClass:"warning_class"})},ExamineeClick:function(){if(this.selRow&&this.selRow.rw)if("Y"==this.selRow.Status){var e=sessionStorage.getItem("loginID");this.selRow.Creator==e?(this.ExamineeTitle="考生管理",this.dialogExamineeVisible=!0):this.$message({type:"warning",message:"非创建者不可进行考生调整",showClose:!0,customClass:"warning_class"})}else this.$message({type:"warning",message:"请先发布",showClose:!0,customClass:"warning_class"});else this.$message({type:"warning",message:"请先选择记录",showClose:!0,customClass:"warning_class"})},CloseClick:function(){this.dialogExamineeVisible=!1,this.LoadTableData()},AddClick:function(){var e=this;e.winFlag=0,e.dialogVisible=!0,e.$nextTick(function(){e.$refs.editForm.resetFields(),e.InitFormData(),e.DBClickFlag=!1})},changeReleaseWay:function(){"O"==this.editForm.ReleaseWay?(this.editForm.TimeList=new Array,this.editForm.CheckWork=""):(this.editForm.fileName="",this.editForm.filesOfFile=new Array,this.editForm.videoPass=0,this.editForm.videoQuestion=new Array)},SaveData:function(){var e=this,t="";this.changeReleaseWay(),"O"!=this.editForm.ReleaseWay||this.editForm.fileName?this.$refs.editForm.validate(function(a){if(!a)return!1;for(var i in e.editForm){var l=e.editForm[i];l&&0!=l.length?function(){l instanceof Date&&(l="HomeworkDateTime"==i?l.Format("yyyy-MM-dd HH:mm"):l.Format("yyyy-MM-dd"));var t="";if("TimeList"==i)l.forEach(function(e){var a=e.startTime,i=e.endTime,l=e.TimeOrder,s=e.TimePlace,r=e.TimeOnline;a instanceof Date&&(a=a.Format("yyyy-MM-dd HH:mm")),i instanceof Date&&(i=i.Format("yyyy-MM-dd HH:mm")),l instanceof Date&&(l=l.Format("yyyy-MM-dd HH:mm")),t=t?t+"「"+a+"」"+i+"」"+l+"」"+s+"」"+r:a+"」"+i+"」"+l+"」"+s+"」"+r}),l=t;else if("ResultTimeList"==i)l.forEach(function(e){var a=e.startTime,i=e.endTime,l=e.TimePlace;a instanceof Date&&(a=a.Format("yyyy-MM-dd HH:mm")),i instanceof Date&&(i=i.Format("yyyy-MM-dd HH:mm")),t=t?t+"「"+a+"」"+i+"」"+l:a+"」"+i+"」"+l}),l=t;else if("videoQuestion"==i)l.forEach(function(e){var a=e.a;a instanceof Date&&(a=a.Format("HH:mm:ss"));var i=a+"」"+e.b.toString()+"」"+e.c;t=t?t+"「"+i:i}),l=t;else if("ClassQuesRange"==i||"ResultQuesRange"==i){t="";var a=e.editForm.ClassPaperType;"ResultQuesRange"==a&&(a=e.editForm.ResultPaperType),l.forEach(function(e){var i="";i="I"==a?e.a+"」"+e.b+"」"+e.d+"」"+e.e+"」"+e.f+"」"+e.g.toString():e.a.toString()+"」"+e.b+"」"+e.g,t=t?t+"「"+i:i}),l=t}else l=l.toString()}():l="",t=t?t+"^"+i+"|"+l:i+"|"+l}t=t+"^Creator|"+sessionStorage.getItem("loginID");var s=e.axiosConfig("web.INMTeaComm","SaveDrillRelease","Method","parr$"+t);e.$ajax.request(s).then(function(t){isNaN(t.data)?t.data.length<100?e.$message({type:"warning",message:t.data,showClose:!0,customClass:"warning_class"}):e.$message({type:"warning",message:"后台方法错了^_^",showClose:!0,customClass:"warning_class"}):(e.$message({message:"保存成功！",type:"success",showClose:!0,customClass:"success_class"}),e.dialogVisible=!1,e.LoadTableData())}).catch(function(t){e.$message({type:"warning",message:"保存失败！",showClose:!0,customClass:"warning_class"})})}):e.$message({message:"无多媒体文件，请引用/上传课件",type:"warning",showClose:!0,customClass:"warning_class"})},LoadExamineeStore:function(){sessionStorage.getItem("loginID");var e=this.editForm.Examinee;e?"病区"!=e&&this.loadSysParamSubData(e,"ExamineeStore"):this.$message({type:"warning",message:"请选择考核群体类别",showClose:!0,customClass:"warning_class"})},AddTimeClick:function(){this.editForm.TimeList.push({startTime:"",endTime:"",TimeOrder:"",TimePlace:"",TimeOnline:""})},AddReusltTimeClick:function(){this.editForm.ResultTimeList.push({startTime:"",endTime:"",TimePlace:""})},DeleteSubRowClick:function(e,t){1!=this.editForm[e].length?this.editForm[e].splice(t,1):this.$message({type:"warning",message:"必须存在一条数据",showClose:!0,customClass:"warning_class"})},ChangeRangeColumn:function(e,t){var a=this.editForm[e];this[t]="I"==a?[{prop:"g",label:"出卷范围",width:300},{prop:"a",label:"答题方式",width:120},{prop:"c",label:"备题数",width:80},{prop:"d",label:"抽题数",width:80},{prop:"e",label:"分值",width:80},{prop:"f",label:"汇总",width:80}]:[{prop:"a",label:"出卷范围",width:300},{prop:"b",label:"考题题目",width:150},{prop:"c",label:"答题方式",width:70},{prop:"d",label:"题型",width:60},{prop:"e",label:"做答次数",Width:70},{prop:"f",label:"正确率",width:60},{prop:"g",label:"分值",width:60}]},AddRangeClick:function(e,t,a,i){e?t?(0==this.editForm[a].length&&this.LoadTheoryTypeStore("T",e,i),"I"==t?this.editForm[a].push({a:"",b:"",c:"",d:0,e:0,f:"",g:[]}):this.editForm[a].push({a:[],b:"",c:"",d:"",e:"",f:"",g:0})):this.$message({type:"warning",message:"请先选择出卷方式",showClose:!0,customClass:"warning_class"}):this.$message({type:"warning",message:"请先选择隶属项目",showClose:!0,customClass:"warning_class"})},LoadTheoryTypeStore:function(e,t,a){var i=this,l=i.axiosConfig("web.INMDBComm","FindTeachTheoryTree","Method","par$0","selectMode$"+e,"selectType$"+t,"dateFlag$1");i.$ajax.request(l).then(function(e){i[a]=e.data})},DeleteRangeClick:function(e,t,a,i){this.editForm[a].splice(e,1),this.ComputeScore(t,a,i)},LoadLevelStore:function(){var e=this,t=sessionStorage.getItem("loginID"),a=e.axiosConfig("web.INMLoginComm","IsNurInRoleForCode","Method","id$"+t,"date$","parr$hlb,hlbzr,manager,admin"),i=e.axiosConfig("web.INMLoginComm","IsNurInRoleForCode","Method","id$"+t,"date$","parr$znurhead"),l=e.axiosConfig("web.INMLoginComm","IsNurInRoleForCode","Method","id$"+t,"date$","parr$nurhead");e.levelStore=new Array,e.$ajax.all([e.$ajax.request(a),e.$ajax.request(i),e.$ajax.request(l)]).then(e.$ajax.spread(function(t,a,i){1==t.data?e.levelStore=[{rw:"H",desc:"院级"},{rw:"L",desc:"科级"},{rw:"W",desc:"病区"}]:1==a.data?e.levelStore=[{rw:"L",desc:"科级"},{rw:"W",desc:"病区"}]:1==i.data&&(e.levelStore=[{rw:"W",desc:"病区"}])}))},LoadExaminerStore:function(){var e=this,t=sessionStorage.getItem("loginID"),a=e.axiosConfig("web.INMTeaComm","FindExaminer","RecQuery","loginID$"+t);e.$ajax.request(a).then(function(t){e.ExaminerStore=t.data.rows})},GetSpareNum:function(e,t,a){var i=this,l=i.editForm[a][e].a,s=i.editForm[a][e].g;if(t&&(i.editForm[a][e].d=0,i.editForm[a][e].e=0),l&&s&&0!=s.length){var r=s[s.length-1],o=i.axiosConfig("web.INMDBComm","GetSpareNumNew","Method","SubMode$"+l,"ParID$"+r);i.$ajax.request(o).then(function(t){i.editForm[a][e].c=t.data})}},ChangeNum:function(e,t,a,i,l,s){if(a<=0)this.$message({type:"warning",message:"不能小于0",showClose:!0,customClass:"warning_class"});else{var r=this.editForm[l][e].c;r="number"==typeof(r=""==r?0:r)?r:parseInt(r),"d"==t&&a>r&&(a=r),this.editForm[l][e][t]=a;var o=this.editForm[l][e].d,n=this.editForm[l][e].e;""!=o&&""!=n?(o="number"==typeof o?o:parseInt(o),n="number"==typeof n?n:parseInt(n),this.editForm[l][e].f=o*n):this.editForm[l][e].f="",this.ComputeScore(i,l,s)}},ComputeScore:function(e,t,a){var i=0,l="f";"H"==e&&(l="g"),this.editForm[t].forEach(function(e){var t=e[l];t="number"==typeof(t=t||0)?t:parseInt(t),isNaN(t)||(i+=t)}),this.editForm[a]=i},GetHandleQuest:function(e,t,a){var i=this.editForm[a][e].a;if(t&&(this.editForm[a][e].b="",this.editForm[a][e].c="",this.editForm[a][e].d="",this.editForm[a][e].e="",this.editForm[a][e].f="",this.editForm[a][e].g=""),this.TheorySubStore=new Array,i&&0!=i.length){var l=i[i.length-1]+"^^^^^1^1";this.LoadTheoryStore(l)}},GetHandleQuestInfo:function(e,t,a,i,l){var s=this,r=s.editForm[i][e].b;if(r){var o=s.axiosConfig("web.INMDBComm","GetTeachTheorySub","RecMethod","rw$"+r);s.$ajax.request(o).then(function(r){r.data instanceof Object&&(s.editForm[i][e].c=r.data.SubModeDesc,s.editForm[i][e].d=r.data.SubTypeDRDesc,s.editForm[i][e].e=r.data.AnswerNum,s.editForm[i][e].f=r.data.AnswerRate,t&&(s.editForm[i][e].g="")),s.ComputeScore(a,i,l)}).catch(function(e){s.ComputeScore(a,i,l)})}else t&&(s.editForm[i][e].c="",s.editForm[i][e].d="",s.editForm[i][e].e="",s.editForm[i][e].f="",s.editForm[i][e].g="")},GetDescByCode:function(e,t,a,i){var l="";return this[e].forEach(function(e){e[a]==t&&(l=e[i])}),l},LoadResultOperationStore:function(){var e=this,t=e.editForm.ResultType;if(e.ResultOperationStore=new Array,t){var a=t+"^^0^",i=e.axiosConfig("web.INMDBComm","FindTeaOperaList","RecQuery","parr$"+a);e.$ajax.request(i).then(function(t){e.ResultOperationStore=t.data.rows}).catch(function(e){})}},loadWardData:function(){var e=this,t=this.axiosConfig("web.INMDataLimit","FindRoleWardList","RecQuery","nurseid$0");this.$ajax.request(t).then(function(t){e.wardStore=t.data.rows})}},created:function(){this.LoadTreeData(),this.loadSysParamSubData("护士培训类型","DrilTypeStore"),this.loadSysParamSubData("护理教学类型","teachingStore"),this.loadSysParamSubData("教学题型","teaTypeStore"),this.LoadExaminerStore(),this.LoadLevelStore(),this.LoadExamineeStore(),this.loadWardData(),this.LoadAssessFormStore()}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"drill-release-panel",attrs:{id:"DrillRelease"}},[a("div",{staticClass:"top-tool-inputDiv"},[a("el-form",{ref:"finds",attrs:{model:e.finds,inline:!0},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"开始日期"}},[a("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"date",format:this.$store.state.mainframe.DateFormat,placeholder:"开始日期",size:"mini"},model:{value:e.finds.startDate,callback:function(t){e.$set(e.finds,"startDate",t)},expression:"finds.startDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束日期"}},[a("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"date",format:this.$store.state.mainframe.DateFormat,placeholder:"结束日期",size:"mini"},model:{value:e.finds.endDate,callback:function(t){e.$set(e.finds,"endDate",t)},expression:"finds.endDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"关键字查询"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{clearable:"",size:"mini",placeholder:"请选择"},model:{value:e.finds.type,callback:function(t){e.$set(e.finds,"type",t)},expression:"finds.type"}},e._l(e.findTypeStore,function(e){return a("el-option",{key:e.rw,attrs:{label:e.desc,value:e.rw}})}),1)],1),e._v(" "),a("el-form-item",[a("el-input",{staticStyle:{width:"150px"},attrs:{clearable:"",size:"mini",placeholder:"请输入关键字"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.LoadTableData(t)}},model:{value:e.finds.input,callback:function(t){e.$set(e.finds,"input",t)},expression:"finds.input"}})],1),e._v(" "),a("el-form-item",[a("hgbutton",{attrs:{type:"default",styleCode:e.styleCode,icon:"nm-icon-w-find"},on:{click:e.LoadTableData}},[e._v("查询")])],1)],1)],1),e._v(" "),a("div",{staticClass:"top-tool-button"},[a("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-add":"nm-icon-lite-add"},on:{click:e.AddClick}},[e._v("新增")]),e._v(" "),a("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-cancel":"nm-icon-lite-cancel"},on:{click:e.DeleteClick}},[e._v("删除")]),e._v(" "),a("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-paper-plane":"nm-icon-lite-plane"},on:{click:e.ReleaseClick}},[e._v("发布")]),e._v(" "),a("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-chexiao":"nm-icon-lite-chexiao"},on:{click:e.CancelClick}},[e._v("撤销发布")]),e._v(" "),a("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-persons":"nm-icon-lite-person"},on:{click:e.ExamineeClick}},[e._v("培训人群管理")])],1),e._v(" "),a("div",{staticClass:"top-tool-table"},[a("el-table",{ref:"menulist",attrs:{data:e.tableData,height:e.styleCode?e.Height-130:e.Height-124,border:e.styleCode,"header-cell-style":e.headerCellFontWeight,"highlight-current-row":"",align:"left"},on:{"row-dblclick":e.RowDblClick,"row-click":e.RowClick}},[a("el-table-column",{attrs:{prop:"ReleaseDesc",label:"培训主题","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"ReleaseLevel",label:"培训级别",width:"100px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.GetDescByCode("levelStore",t.row.ReleaseLevel,"rw","desc"))+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ReleaseDrillType",label:"培训类型",width:"100px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.GetDescByCode("DrilTypeStore",t.row.ReleaseDrillType,"SubValue","SubDesc"))+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ReleaseWay",label:"培训方式",width:"100px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.GetDescByCode("DrillWay",t.row.ReleaseWay,"rw","desc"))+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"DrillCredit",label:"学分",width:"80px","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"StartDate",label:"开始日期",width:"120px","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"EndDate",label:"结束日期",width:"120px","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Examiner",label:"讲师",width:"90px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.GetDescByCode("ExaminerStore",t.row.Examiner,"rw","desc"))+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"DrillCharge",label:"负责人",width:"90px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.GetDescByCode("ExaminerStore",t.row.DrillCharge,"rw","desc"))+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"CoursesType",label:"培训分类",width:"100px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s("Y"==t.row.CoursesType?"必修":"选修")+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"CreatDate",label:"创建日期",width:"120px","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"Status",label:"状态",width:"70px","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s("N"==t.row.Status?"未发布":"已发布")+"\n                ")]}}])})],1),e._v(" "),a("hgpagination",{attrs:{styleCode:e.styleCode,sizes:[20,40,50,100],totalCount:e.totalCount,pageNumber:e.currentPage,pageSize:e.pageSize},on:{changePage:e.HandleCurrentChange,getPageSize:e.HandleSizeChange}})],1),e._v(" "),a("div",[a("el-dialog",{attrs:{title:0==e.winFlag?"新增":"修改",visible:e.dialogVisible,"close-on-click-modal":!1,width:"1240px","custom-class":"drill-release-dialog"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"dialog-header-title",attrs:{slot:"title"},slot:"title"},[e.styleCode?a("i",{class:[0==e.winFlag?"nm-icon-w-plus":"nm-icon-w-edit"]}):e._e(),e._v(" "),0==e.winFlag?a("span",[e._v(e._s("新增"))]):1==e.winFlag?a("span",[e._v(e._s("修改"))]):e._e()]),e._v(" "),a("el-form",{ref:"editForm",attrs:{disabled:"N"!=e.editForm.Status,model:e.editForm,rules:e.rules,"label-position":"right","label-width":"90px",inline:"",align:"left"}},[a("el-form-item",{attrs:{label:"培训方式",prop:"ReleaseWay"}},[a("el-select",{staticStyle:{width:"140px"},attrs:{clearable:!1,placeholder:"培训方式",size:"mini"},model:{value:e.editForm.ReleaseWay,callback:function(t){e.$set(e.editForm,"ReleaseWay",t)},expression:"editForm.ReleaseWay"}},e._l(e.DrillWay,function(e){return a("el-option",{key:e.rw,attrs:{label:e.desc,value:e.rw}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"培训级别",prop:"ReleaseLevel"}},[a("el-select",{staticStyle:{width:"140px"},attrs:{clearable:"",filterable:"",size:"mini",placeholder:"培训级别"},model:{value:e.editForm.ReleaseLevel,callback:function(t){e.$set(e.editForm,"ReleaseLevel",t)},expression:"editForm.ReleaseLevel"}},e._l(e.levelStore,function(e){return a("el-option",{key:e.rw,attrs:{value:e.rw,label:e.desc}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"培训类型",prop:"ReleaseDrillType"}},[a("el-select",{staticStyle:{width:"140px"},attrs:{clearable:!1,placeholder:"培训类型",size:"mini"},model:{value:e.editForm.ReleaseDrillType,callback:function(t){e.$set(e.editForm,"ReleaseDrillType",t)},expression:"editForm.ReleaseDrillType"}},e._l(e.DrilTypeStore,function(e){return a("el-option",{key:e.SubValue,attrs:{label:e.SubDesc,value:e.SubValue}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"开始日期",prop:"StartDate"}},[a("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",clearable:!1,size:"mini"},model:{value:e.editForm.StartDate,callback:function(t){e.$set(e.editForm,"StartDate",t)},expression:"editForm.StartDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"结束日期",prop:"EndDate"}},[a("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",clearable:!1,size:"mini"},model:{value:e.editForm.EndDate,callback:function(t){e.$set(e.editForm,"EndDate",t)},expression:"editForm.EndDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"负责人",prop:"DrillCharge"}},[a("el-select",{staticStyle:{width:"140px"},attrs:{clearable:"",filterable:"",size:"mini",placeholder:"负责人"},model:{value:e.editForm.DrillCharge,callback:function(t){e.$set(e.editForm,"DrillCharge",t)},expression:"editForm.DrillCharge"}},e._l(e.ExaminerStore,function(e){return a("el-option",{key:e.rw,attrs:{value:e.rw,label:e.desc}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"讲师",prop:"Examiner"}},[a("el-select",{staticStyle:{width:"140px"},attrs:{clearable:"",filterable:"",size:"mini",placeholder:"讲师"},model:{value:e.editForm.Examiner,callback:function(t){e.$set(e.editForm,"Examiner",t)},expression:"editForm.Examiner"}},e._l(e.ExaminerStore,function(e){return a("el-option",{key:e.rw,attrs:{value:e.rw,label:e.desc}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"培训主题",prop:"ReleaseDesc"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{placeholder:"请输入",size:"mini"},model:{value:e.editForm.ReleaseDesc,callback:function(t){e.$set(e.editForm,"ReleaseDesc",t)},expression:"editForm.ReleaseDesc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"学分",prop:"DrillCreditType"}},[a("el-select",{staticStyle:{width:"90px"},attrs:{clearable:"",filterable:"",size:"mini",placeholder:"方式"},model:{value:e.editForm.DrillCreditType,callback:function(t){e.$set(e.editForm,"DrillCreditType",t)},expression:"editForm.DrillCreditType"}},e._l(e.CreditType,function(e){return a("el-option",{key:e.rw,attrs:{value:e.rw,label:e.desc}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"",prop:"DrillCredit"}},[a("el-input",{staticStyle:{width:"40px"},attrs:{type:"number",placeholder:"请输入",size:"mini"},model:{value:e.editForm.DrillCredit,callback:function(t){e.$set(e.editForm,"DrillCredit",t)},expression:"editForm.DrillCredit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"必修",prop:"CoursesType"}},[a("hgswitch",{staticStyle:{width:"140px"},attrs:{"active-text":"是","inactive-text":"否","active-value":"Y","inactive-value":"N"},model:{value:e.editForm.CoursesType,callback:function(t){e.$set(e.editForm,"CoursesType",t)},expression:"editForm.CoursesType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"培训病区",prop:"ExamineeWard"}},[a("el-select",{staticStyle:{width:"620px"},attrs:{multiple:"","collapse-tags":"",clearable:"",size:"mini",placeholder:"空为全部"},model:{value:e.editForm.ExamineeWard,callback:function(t){e.$set(e.editForm,"ExamineeWard",t)},expression:"editForm.ExamineeWard"}},e._l(e.wardStore,function(e){return a("el-option",{key:e.rw,attrs:{value:e.rw,label:e.WardDesc}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"培训人群",prop:"Examinee"}},[a("el-form-item",{attrs:{prop:"Examinee"}},[a("el-radio-group",{attrs:{size:"mini"},on:{change:e.LoadExamineeStore},model:{value:e.editForm.Examinee,callback:function(t){e.$set(e.editForm,"Examinee",t)},expression:"editForm.Examinee"}},[a("el-radio-button",{attrs:{label:"护士层级"}},[e._v("层级")]),e._v(" "),a("el-radio-button",{attrs:{label:"聘任职称"}},[e._v("职称")]),e._v(" "),a("el-radio-button",{attrs:{label:"职务"}},[e._v("职务")])],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"ExamineeList"}},[a("el-select",{staticStyle:{width:"684px"},attrs:{multiple:"",clearable:"",size:"mini",placeholder:""},model:{value:e.editForm.ExamineeList,callback:function(t){e.$set(e.editForm,"ExamineeList",t)},expression:"editForm.ExamineeList"}},e._l(e.ExamineeStore,function(e){return a("el-option",{key:e.SubValue,attrs:{value:e.SubValue,label:e.SubDesc}})}),1)],1)],1)],1),e._v(" "),a("el-scrollbar",{staticStyle:{"overflow-y":"auto","overflow-x":"hidden"},style:{height:"450px"}},[a("hgpanel",{attrs:{title:"培训流程",styleCode:e.styleCode,icon:"#nm-icon-paper",panelWidth:1218,panelHeight:328}},[a("div",{staticStyle:{"padding-top":"10px","padding-bottom":"10px"},attrs:{slot:"tool"},slot:"tool"},[a("el-row",[a("el-col",{attrs:{span:20}},[a("el-steps",{attrs:{active:e.editForm.Step,"finish-status":"success","align-center":""}},e._l(e.stepStore,function(e,t){return a("el-step",{key:t,attrs:{title:e}})}),1)],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"left","font-size":"0"},attrs:{span:4}},[a("hgbutton",{attrs:{type:"default",styleCode:e.styleCode},on:{click:function(t){return e.nextStep(-1)}}},[e._v("上一步")]),e._v(" "),a("hgbutton",{attrs:{type:"default",styleCode:e.styleCode},on:{click:function(t){return e.nextStep(1)}}},[e._v("下一步")])],1)],1)],1),e._v(" "),a("div",{staticClass:"drill-release-train-process"},[a("el-form",{ref:"editForm",attrs:{disabled:"N"!=e.editForm.Status,model:e.editForm,rules:e.rules,"label-position":"right","label-width":"90px",inline:"",align:"left"}},[a("input",{ref:"imFile",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.ImportFile}}),e._v(" "),"O"==e.editForm.ReleaseWay?[0==e.editForm.Step?a("div",{staticStyle:{"padding-top":"10px"}},[a("el-form-item",{attrs:{prop:"fileName",label:"课件名称","label-width":"80px"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:!0,placeholder:"请输入",size:"mini"},model:{value:e.editForm.fileName,callback:function(t){e.$set(e.editForm,"fileName",t)},expression:"editForm.fileName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("hgbutton",{attrs:{type:"default",styleCode:e.styleCode},on:{click:function(t){e.fileVisiable=!0}}},[e._v("课件库")])],1),e._v(" "),a("el-form-item",{attrs:{prop:"fileDownFlag",label:"课件是否允许下载","label-width":"140px"}},[a("hgswitch",{attrs:{"active-text":"是","inactive-text":"否","active-value":"Y","inactive-value":"N"},model:{value:e.editForm.fileDownFlag,callback:function(t){e.$set(e.editForm,"fileDownFlag",t)},expression:"editForm.fileDownFlag"}})],1)],1):1==e.editForm.Step?a("div",{staticStyle:{"padding-left":"10px","padding-right":"10px"}},[a("div",{staticStyle:{color:"#FF0000",margin:"4px 0"}},[e._v("注意：请先添加视频课件")]),e._v(" "),a("div",{staticClass:"top-tool-table-dialog-top dialog-div-top-radius",staticStyle:{"padding-left":"2px",height:"50px","line-height":"50px","font-size":"0"}},[a("el-form-item",{attrs:{label:""}},["N"==e.editForm.Status?a("hgbutton",{staticStyle:{cursor:"pointer"},attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-add":"nm-icon-lite-add"},on:{click:e.AddVideoQuesClick}},[e._v("新增")]):e._e()],1),e._v(" "),a("el-form-item",[a("span",[e._v("总题数"),a("font",{staticStyle:{"text-decoration":"underline"}},[e._v(" "+e._s(e.editForm.videoQuestion.length)+" ")])],1)]),e._v(" "),a("el-form-item",{attrs:{label:"合格题数",prop:"videoPass","label-width":"80px"}},[a("el-input",{staticStyle:{width:"90px"},attrs:{type:"number",placeholder:"请输入",size:"mini"},model:{value:e.editForm.videoPass,callback:function(t){e.$set(e.editForm,"videoPass",t)},expression:"editForm.videoPass"}})],1)],1),e._v(" "),a("el-scrollbar",{staticClass:"drill-release-dialog-video dialog-table-bottom-radius",staticStyle:{height:"126px"}},[a("table",{staticClass:"timeTableClass",attrs:{cellspacing:"0",cellpadding:"1",border:"0"}},[a("tr",[a("th",{attrs:{width:"40"}},[e._v("序号")]),e._v(" "),e._l(e.videoQuestionColumn,function(t,i){return a("th",{key:i,attrs:{width:t.width}},[e._v(e._s(t.label))])}),e._v(" "),"N"==e.editForm.Status?a("th",{attrs:{width:"160"}},[e._v("操作")]):e._e()],2),e._v(" "),e._l(e.editForm.videoQuestion,function(t,i){return a("tr",{key:i},[a("td",[e._v(e._s(i+1))]),e._v(" "),e._l(e.videoQuestionColumn,function(l,s){return a("td",{key:s},[a("div",["a"==l.prop?a("el-form-item",{attrs:{prop:"videoQuestion."+i+"."+l.prop,rules:e.rules.videoQuestion}},[a("el-time-picker",{staticStyle:{width:"100%"},attrs:{placeholder:"选择时间","picker-options":{selectableRange:"00:00:00 - 02:0:00"},size:"mini"},model:{value:t[l.prop],callback:function(a){e.$set(t,l.prop,a)},expression:"item[column.prop]"}})],1):"b"==l.prop?a("el-form-item",{attrs:{prop:"videoQuestion."+i+"."+l.prop,rules:e.rules.videoQuestion}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.VideoQuesTypeStore,props:{value:"id",expandTrigger:"hover"},filterable:"",size:"mini"},on:{change:function(t){return e.GetVideoQuest(i,!0)}},model:{value:t[l.prop],callback:function(a){e.$set(t,l.prop,a)},expression:"item[column.prop]"}})],1):"c"==l.prop?a("el-form-item",{attrs:{prop:"videoQuestion."+i+"."+l.prop,rules:e.rules.videoQuestion}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"mini",placeholder:""},on:{change:function(t){return e.GetVideoQuestInfo(i,!0)}},model:{value:t[l.prop],callback:function(a){e.$set(t,l.prop,a)},expression:"item[column.prop]"}},e._l(e.TheorySubStore,function(e){return a("el-option",{key:e.rw,attrs:{value:e.rw,label:e.SubDesc}})}),1)],1):a("span",{staticStyle:{"padding-left":"10px"}},[e._v(e._s(t[l.prop]))])],1)])}),e._v(" "),"N"==e.editForm.Status?a("td",[a("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-cancel":"nm-icon-lite-cancel"},on:{click:function(t){return e.DeleteVideoQuesClick(i)}}})],1):e._e()],2)})],2)])],1):e._e()]:[0==e.editForm.Step?a("div",{staticStyle:{"padding-left":"10px"}},[a("el-form-item",{attrs:{label:"",prop:"TimeListFather"}},["N"==e.editForm.Status?a("div",{staticClass:"per-top-tool-button dialog-div-top-radius",staticStyle:{"margin-top":"10px"}},[a("hgbutton",{staticStyle:{cursor:"pointer"},attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-add":"nm-icon-lite-add"},on:{click:e.AddTimeClick}},[e._v("新增课程批次")])],1):e._e(),e._v(" "),a("el-scrollbar",{staticClass:"drill-release-dialog-video dialog-table-bottom-radius",staticStyle:{height:"166px"}},[a("table",{staticClass:"timeTableClass",attrs:{cellspacing:"0",cellpadding:"1",border:"0"}},[a("tr",[a("th",{attrs:{width:"50"}},[e._v("批次")]),e._v(" "),a("th",{attrs:{width:"174"}},[e._v("开始时间")]),e._v(" "),a("th",{attrs:{width:"174"}},[e._v("结束时间")]),e._v(" "),a("th",{attrs:{width:"174"}},[e._v("预约截至时间")]),e._v(" "),a("th",{attrs:{width:"142"}},[e._v("考核地点")]),e._v(" "),a("th",{attrs:{width:"82"}},[e._v("人数上线")]),e._v(" "),a("th",{attrs:{width:"50"}},[e._v("操作")])]),e._v(" "),e._l(e.editForm.TimeList,function(t,i){return a("tr",{key:i},[a("td",[e._v(e._s(i+1))]),e._v(" "),a("td",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",size:"mini",placeholder:"选择日期时间"},model:{value:t.startTime,callback:function(a){e.$set(t,"startTime",a)},expression:"item.startTime"}})],1),e._v(" "),a("td",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",size:"mini",placeholder:"选择日期时间"},model:{value:t.endTime,callback:function(a){e.$set(t,"endTime",a)},expression:"item.endTime"}})],1),e._v(" "),a("td",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",size:"mini",placeholder:"选择日期时间"},model:{value:t.TimeOrder,callback:function(a){e.$set(t,"TimeOrder",a)},expression:"item.TimeOrder"}})],1),e._v(" "),a("td",[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.TimePlace,callback:function(a){e.$set(t,"TimePlace",a)},expression:"item.TimePlace"}})],1),e._v(" "),a("td",[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"number",placeholder:"请输入",size:"mini"},model:{value:t.TimeOnline,callback:function(a){e.$set(t,"TimeOnline",a)},expression:"item.TimeOnline"}})],1),e._v(" "),a("td",[i>0?a("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-cancel":"nm-icon-lite-cancel"},on:{click:function(t){return e.DeleteSubRowClick("TimeList",i)}}}):e._e()],1)])})],2)])],1)],1):1==e.editForm.Step?a("div",[a("div",[a("el-form-item",{attrs:{prop:"CheckWork",label:"考勤"}},[a("el-checkbox-group",{attrs:{size:"mini"},model:{value:e.editForm.CheckWork,callback:function(t){e.$set(e.editForm,"CheckWork",t)},expression:"editForm.CheckWork"}},[a("el-checkbox",{attrs:{label:"R"}},[e._v("签到")]),e._v(" "),a("el-checkbox",{attrs:{label:"O"}},[e._v("签退")])],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"QRCode",label:"考勤二维码"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.editForm.QRCode,callback:function(t){e.$set(e.editForm,"QRCode",t)},expression:"editForm.QRCode"}},[a("el-radio",{attrs:{label:"S"}},[e._v("静态码")]),e._v(" "),a("el-radio",{attrs:{label:"T"}},[e._v("动态码")])],1)],1)],1):e._e()],e._v(" "),2==e.editForm.Step?a("div",{staticStyle:{"margin-top":"10px","font-size":"0"}},[a("el-form-item",{attrs:{label:"隶属项目",prop:"ClassType","label-width":"76px"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{disabled:e.editForm.ClassQuesRange.length>0,clearable:"",filterable:"",size:"mini",placeholder:"隶属项目"},model:{value:e.editForm.ClassType,callback:function(t){e.$set(e.editForm,"ClassType",t)},expression:"editForm.ClassType"}},e._l(e.teachingStore,function(e){return a("el-option",{key:e.SubValue,attrs:{value:e.SubValue,label:e.SubDesc}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"考核时长",prop:"ClassDuration","label-width":"76px"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{type:"number",min:"0",placeholder:"请输入",size:"mini",onkeyup:"value=value.replace(/[^\\d.]/g,'')"},model:{value:e.editForm.ClassDuration,callback:function(t){e.$set(e.editForm,"ClassDuration",t)},expression:"editForm.ClassDuration"}}),e._v("分\n                            ")],1),e._v(" "),a("el-form-item",{attrs:{label:"及格成绩",prop:"ClassPass","label-width":"76px"}},[a("el-input",{staticStyle:{width:"100px"},attrs:{type:"number",placeholder:"请输入",min:"0",size:"mini",onkeyup:"value=value.replace(/[^\\d.]/g,'')"},model:{value:e.editForm.ClassPass,callback:function(t){e.$set(e.editForm,"ClassPass",t)},expression:"editForm.ClassPass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"重考设置",prop:"ClassResitFather","label-width":"76px"}},[a("el-form-item",{attrs:{prop:"ClassResit",rules:e.rules.ClassResit}},[a("hgswitch",{attrs:{"active-text":"允许","inactive-text":"不允许","active-value":"Y","inactive-value":"N"},model:{value:e.editForm.ClassResit,callback:function(t){e.$set(e.editForm,"ClassResit",t)},expression:"editForm.ClassResit"}})],1),e._v(" "),"Y"==e.editForm.ClassResit?a("el-form-item",{attrs:{prop:"ClassResitNum",rules:e.rules.ResitNum}},[a("el-select",{staticStyle:{width:"100px"},attrs:{clearable:"",size:"mini",placeholder:"重考次数"},model:{value:e.editForm.ClassResitNum,callback:function(t){e.$set(e.editForm,"ClassResitNum",t)},expression:"editForm.ClassResitNum"}},e._l(e.ResitNumStore,function(e){return a("el-option",{key:e.rw,attrs:{value:e.rw,label:e.desc}})}),1)],1):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"出卷方式",prop:"ClassPaperType","label-width":"76px"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{disabled:e.editForm.ClassQuesRange.length>0,clearable:!1,filterable:"",size:"mini",placeholder:"出卷方式"},on:{change:function(t){return e.ChangeRangeColumn("ClassPaperType","ClassRangeColumn")}},model:{value:e.editForm.ClassPaperType,callback:function(t){e.$set(e.editForm,"ClassPaperType",t)},expression:"editForm.ClassPaperType"}},e._l(e.PaperTypeStore,function(e){return a("el-option",{key:e.rw,attrs:{value:e.rw,label:e.desc}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"固定组卷",prop:"ClassDraw","label-width":"76px"}},[a("hgswitch",{attrs:{"active-text":"是","inactive-text":"否","active-value":"Y","inactive-value":"N"},model:{value:e.editForm.ClassDraw,callback:function(t){e.$set(e.editForm,"ClassDraw",t)},expression:"editForm.ClassDraw"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"考核范围",prop:"ClassRangeFather","label-width":"76px"}},[a("div",{staticClass:"per-top-tool-button dialog-div-top-radius"},["N"==e.editForm.Status?a("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-add":"nm-icon-lite-add"},on:{click:function(t){return e.AddRangeClick(e.editForm.ClassType,e.editForm.ClassPaperType,"ClassQuesRange","ClassQuesTypeStore")}}},[e._v("新增")]):e._e(),e._v(" "),a("span",{staticStyle:{height:"22px","line-height":"22px",display:"inline-block","vertical-align":"middle"}},[e._v("总分:"),a("font",{staticStyle:{"text-decoration":"underline"}},[e._v(" "+e._s(e.editForm.ClassScore)+" ")])],1)],1),e._v(" "),a("el-scrollbar",{staticClass:"drill-release-dialog-video dialog-table-bottom-radius",staticStyle:{height:"110px"}},[a("table",{staticClass:"timeTableClass",attrs:{cellspacing:"0",cellpadding:"1",border:"0"}},[a("tr",{staticStyle:{"background-color":"#F4F6F5"}},[a("th",{attrs:{width:"40"}},[e._v("序号")]),e._v(" "),e._l(e.ClassRangeColumn,function(t,i){return a("th",{key:i,attrs:{width:t.width}},[e._v(e._s(t.label))])}),e._v(" "),"N"==e.editForm.Status?a("th",{attrs:{width:"80"}},[e._v("操作")]):e._e()],2),e._v(" "),e._l(e.editForm.ClassQuesRange,function(t,i){return a("tr",{key:i},[a("td",[e._v(e._s(i+1))]),e._v(" "),e._l(e.ClassRangeColumn,function(l,s){return a("td",{key:s},["I"==e.editForm.ClassPaperType?a("div",["a"==l.prop?a("el-form-item",{attrs:{prop:"ClassQuesRange."+i+"."+l.prop,rules:e.rules.ClassQuesRange}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",size:"mini",placeholder:""},on:{change:function(t){return e.GetSpareNum(i,!0,"ClassQuesRange")}},model:{value:t[l.prop],callback:function(a){e.$set(t,l.prop,a)},expression:"item[column.prop]"}},e._l(e.topicStore,function(e){return a("el-option",{key:e.rw,attrs:{value:e.rw,label:e.desc}})}),1)],1):"d"==l.prop||"e"==l.prop?a("el-form-item",{attrs:{prop:"ClassQuesRange."+i+"."+l.prop,rules:e.rules.ClassQuesRangeInput}},[a("el-input",{staticStyle:{width:"100%"},attrs:{value:t[l.prop],type:"number",placeholder:"请输入",size:"mini"},on:{input:function(t){return e.ChangeNum(i,l.prop,t,"ClassPaperType","ClassQuesRange","ClassScore")}}})],1):"g"==l.prop?a("el-form-item",{attrs:{prop:"ClassQuesRange."+i+"."+l.prop,rules:e.rules.ClassQuesRange}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.ClassQuesTypeStore,props:{value:"id",expandTrigger:"hover"},filterable:"",size:"mini"},on:{change:function(t){return e.GetSpareNum(i,!0,"ClassQuesRange")}},model:{value:t[l.prop],callback:function(a){e.$set(t,l.prop,a)},expression:"item[column.prop]"}})],1):a("span",{staticStyle:{"padding-left":"10px"}},[e._v(e._s(t[l.prop]))])],1):a("div",["a"==l.prop?a("el-form-item",{attrs:{prop:"ClassQuesRange."+i+"."+l.prop,rules:e.rules.ClassQuesRange}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.ClassQuesTypeStore,props:{value:"id",expandTrigger:"hover"},filterable:"",size:"mini"},on:{change:function(t){return e.GetHandleQuest(i,!0,"ClassQuesRange")}},model:{value:t[l.prop],callback:function(a){e.$set(t,l.prop,a)},expression:"item[column.prop]"}})],1):"b"==l.prop?a("el-form-item",{attrs:{prop:"ClassQuesRange."+i+"."+l.prop,rules:e.rules.ClassQuesRange}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"mini",placeholder:""},on:{change:function(t){return e.GetHandleQuestInfo(i,!0,"ClassPaperType","ClassQuesRange","ClassScore")}},model:{value:t[l.prop],callback:function(a){e.$set(t,l.prop,a)},expression:"item[column.prop]"}},e._l(e.TheorySubStore,function(e){return a("el-option",{key:e.rw,attrs:{value:e.rw,label:e.SubDesc}})}),1)],1):"g"==l.prop?a("el-form-item",{attrs:{prop:"ClassQuesRange."+i+"."+l.prop,rules:e.rules.ClassQuesRangeInput}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"number",placeholder:"请输入",size:"mini"},on:{change:function(t){return e.ComputeScore("ClassPaperType","ClassQuesRange","ClassScore")}},model:{value:t[l.prop],callback:function(a){e.$set(t,l.prop,a)},expression:"item[column.prop]"}})],1):a("span",{staticStyle:{"padding-left":"10px"}},[e._v(e._s(t[l.prop]))])],1)])}),e._v(" "),"N"==e.editForm.Status?a("td",[a("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-cancel":"nm-icon-lite-cancel"},on:{click:function(t){return e.DeleteRangeClick(i,"ClassPaperType","ClassQuesRange","ClassScore")}}})],1):e._e()],2)})],2)])],1)],1):3==e.editForm.Step?a("div",{staticStyle:{"padding-top":"10px"}},[a("el-form-item",{attrs:{label:"学员对课程的评价内容",prop:"StudentClassDR","label-width":"200px"}},[a("el-select",{attrs:{clearable:"",size:"mini",placeholder:""},model:{value:e.editForm.StudentClassDR,callback:function(t){e.$set(e.editForm,"StudentClassDR",t)},expression:"editForm.StudentClassDR"}},e._l(e.StudentClassStore,function(e){return a("el-option",{key:e.RowId,attrs:{value:e.RowId,label:e.Desc}})}),1)],1),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"学员对讲师的评价内容",prop:"StudentTeacherDR","label-width":"200px"}},[a("el-select",{attrs:{clearable:"",size:"mini",placeholder:""},model:{value:e.editForm.StudentTeacherDR,callback:function(t){e.$set(e.editForm,"StudentTeacherDR",t)},expression:"editForm.StudentTeacherDR"}},e._l(e.StudentTeacherStore,function(e){return a("el-option",{key:e.RowId,attrs:{value:e.RowId,label:e.Desc}})}),1)],1),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"讲师对学员的评价内容",prop:"TeacherStudentDR","label-width":"200px"}},[a("el-select",{attrs:{clearable:"",size:"mini",placeholder:""},model:{value:e.editForm.TeacherStudentDR,callback:function(t){e.$set(e.editForm,"TeacherStudentDR",t)},expression:"editForm.TeacherStudentDR"}},e._l(e.TeacherStudentStore,function(e){return a("el-option",{key:e.RowId,attrs:{value:e.RowId,label:e.Desc}})}),1)],1)],1):4==e.editForm.Step?a("div",{staticStyle:{"padding-top":"10px"}},[a("el-form-item",{attrs:{label:"隶属项目",prop:"ResultType","label-width":"74px"}},[a("el-select",{staticStyle:{width:"90px"},attrs:{disabled:e.editForm.ResultQuesRange.length>0||e.editForm.ReulstOperationRange.length>1,clearable:!1,filterable:"",size:"mini",placeholder:"项目"},on:{change:e.LoadResultOperationStore},model:{value:e.editForm.ResultType,callback:function(t){e.$set(e.editForm,"ResultType",t)},expression:"editForm.ResultType"}},e._l(e.teachingStore,function(e){return a("el-option",{key:e.SubValue,attrs:{value:e.SubValue,label:e.SubDesc}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"考核时长",prop:"ResultDuration","label-width":"66px"}},[a("el-input",{staticStyle:{width:"50px"},attrs:{type:"number",min:"0",placeholder:"请输入",size:"mini",onkeyup:"value=value.replace(/[^\\d.]/g,'')"},model:{value:e.editForm.ResultDuration,callback:function(t){e.$set(e.editForm,"ResultDuration",t)},expression:"editForm.ResultDuration"}}),e._v("分\n                            ")],1),e._v(" "),a("el-form-item",{attrs:{label:"及格成绩",prop:"ResultPass","label-width":"66px"}},[a("el-input",{staticStyle:{width:"50px"},attrs:{type:"number",placeholder:"请输入",min:"0",size:"mini",onkeyup:"value=value.replace(/[^\\d.]/g,'')"},model:{value:e.editForm.ResultPass,callback:function(t){e.$set(e.editForm,"ResultPass",t)},expression:"editForm.ResultPass"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"重考",prop:"ResultResitFather","label-width":"38px"}},[a("el-form-item",{attrs:{prop:"ResultResit",rules:e.rules.ResultResit}},[a("hgswitch",{attrs:{"active-text":"允许","inactive-text":"不允许","active-value":"Y","inactive-value":"N"},model:{value:e.editForm.ResultResit,callback:function(t){e.$set(e.editForm,"ResultResit",t)},expression:"editForm.ResultResit"}})],1),e._v(" "),"Y"==e.editForm.ResultResit?a("el-form-item",{staticStyle:{"margin-right":"0"},attrs:{prop:"ResultResitNum",rules:e.rules.ResitNum}},[a("el-select",{staticStyle:{width:"90px"},attrs:{clearable:"",size:"mini",placeholder:"重考次数"},model:{value:e.editForm.ResultResitNum,callback:function(t){e.$set(e.editForm,"ResultResitNum",t)},expression:"editForm.ResultResitNum"}},e._l(e.ResitNumStore,function(e){return a("el-option",{key:e.rw,attrs:{value:e.rw,label:e.desc}})}),1)],1):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"考官",prop:"ResultExaminer",rules:{required:"O"==e.editForm.ResultMode,message:"请选择考官",trigger:"change"},"label-width":"38px"}},[a("el-select",{staticStyle:{width:"166px"},attrs:{multiple:"","collapse-tags":"",clearable:"",filterable:"",size:"mini",placeholder:"考官"},model:{value:e.editForm.ResultExaminer,callback:function(t){e.$set(e.editForm,"ResultExaminer",t)},expression:"editForm.ResultExaminer"}},e._l(e.ExaminerStore,function(e){return a("el-option",{key:e.rw,attrs:{value:e.rw,label:e.desc}})}),1)],1),e._v(" "),"O"==e.editForm.ResultMode?a("el-form-item",{attrs:{label:"考核时间",prop:"ResultTimeListFather","label-width":"66px"}},["N"==e.editForm.Status?a("div",[a("span",{staticStyle:{cursor:"pointer"},on:{click:e.AddReusltTimeClick}},[a("i",{staticClass:"el-icon-circle-plus",staticStyle:{color:"#15B398"}}),e._v("新增")])]):e._e(),e._v(" "),a("table",{staticClass:"timeTableClass",attrs:{cellspacing:"0",cellpadding:"1",border:"1"}},[a("tr",{staticStyle:{"background-color":"#F4F6F5"}},[a("th",{attrs:{width:"50"}},[e._v("批次")]),e._v(" "),a("th",{attrs:{width:"232"}},[e._v("开始时间")]),e._v(" "),a("th",{attrs:{width:"232"}},[e._v("结束时间")]),e._v(" "),a("th",{attrs:{width:"142"}},[e._v("考核地点")]),e._v(" "),a("th",{attrs:{width:"50"}},[e._v("操作")])]),e._v(" "),e._l(e.editForm.ResultTimeList,function(t,i){return a("tr",{key:i},[a("td",[e._v(e._s(i+1))]),e._v(" "),a("td",[a("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",size:"mini",placeholder:"选择日期时间"},model:{value:t.startTime,callback:function(a){e.$set(t,"startTime",a)},expression:"item.startTime"}})],1),e._v(" "),a("td",[a("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",size:"mini",placeholder:"选择日期时间"},model:{value:t.endTime,callback:function(a){e.$set(t,"endTime",a)},expression:"item.endTime"}})],1),e._v(" "),a("td",[a("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.TimePlace,callback:function(a){e.$set(t,"TimePlace",a)},expression:"item.TimePlace"}})],1),e._v(" "),a("td",[i>0?a("i",{staticClass:"el-icon-close",staticStyle:{color:"#FF0000",cursor:"pointer"},on:{click:function(t){return e.DeleteSubRowClick("ResultTimeList",i)}}}):e._e()])])})],2)]):a("el-form-item",{attrs:{label:"出卷方式",prop:"ResultPaperType","label-width":"66px"}},[a("el-select",{staticStyle:{width:"90px"},attrs:{disabled:e.editForm.ResultQuesRange.length>0,clearable:!1,filterable:"",size:"mini",placeholder:"出卷方式"},on:{change:function(t){return e.ChangeRangeColumn("ResultPaperType","ResultQuesRangeColumn")}},model:{value:e.editForm.ResultPaperType,callback:function(t){e.$set(e.editForm,"ResultPaperType",t)},expression:"editForm.ResultPaperType"}},e._l(e.PaperTypeStore,function(e){return a("el-option",{key:e.rw,attrs:{value:e.rw,label:e.desc}})}),1)],1),e._v(" "),"I"==e.editForm.ResultPaperType&&"O"!=e.editForm.ResultMode?a("el-form-item",{attrs:{label:"固定组卷",prop:"ResultDraw","label-width":"66px"}},[a("hgswitch",{attrs:{"active-text":"是","inactive-text":"否","active-value":"Y","inactive-value":"N"},model:{value:e.editForm.ResultDraw,callback:function(t){e.$set(e.editForm,"ResultDraw",t)},expression:"editForm.ResultDraw"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"考核范围",prop:"ResultQuesRangeFather","label-width":"74px"}},["O"!=e.editForm.ResultMode?a("div",[a("div",[a("div",{staticClass:"per-top-tool-button dialog-div-top-radius"},["N"==e.editForm.Status?a("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-add":"nm-icon-lite-add"},on:{click:function(t){return e.AddRangeClick(e.editForm.ResultType,e.editForm.ResultPaperType,"ResultQuesRange","ResultQuesTypeStore")}}},[e._v("新增")]):e._e(),e._v(" "),a("span",{staticStyle:{height:"22px","line-height":"22px",display:"inline-block","vertical-align":"middle"}},[e._v("总分:"),a("font",{staticStyle:{"text-decoration":"underline"}},[e._v(" "+e._s(e.editForm.ResultScore)+" ")])],1)],1),e._v(" "),a("el-scrollbar",{staticClass:"drill-release-dialog-video dialog-table-bottom-radius",staticStyle:{height:"110px"}},[a("table",{staticClass:"timeTableClass",attrs:{cellspacing:"0",cellpadding:"1",border:"0"}},[a("tr",[a("th",{attrs:{width:"40"}},[e._v("序号")]),e._v(" "),e._l(e.ResultQuesRangeColumn,function(t,i){return a("th",{key:i,attrs:{width:t.width}},[e._v(e._s(t.label))])}),e._v(" "),"N"==e.editForm.Status?a("th",{attrs:{width:"80"}},[e._v("操作")]):e._e()],2),e._v(" "),e._l(e.editForm.ResultQuesRange,function(t,i){return a("tr",{key:i},[a("td",[e._v(e._s(i+1))]),e._v(" "),e._l(e.ResultQuesRangeColumn,function(l,s){return a("td",{key:s},["I"==e.editForm.ResultPaperType?a("div",["a"==l.prop?a("el-form-item",{attrs:{prop:"ResultQuesRange."+i+"."+l.prop,rules:e.rules.ResultQuesRange}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",size:"mini",placeholder:""},on:{change:function(t){return e.GetSpareNum(i,!0,"ResultQuesRange")}},model:{value:t[l.prop],callback:function(a){e.$set(t,l.prop,a)},expression:"item[column.prop]"}},e._l(e.topicStore,function(e){return a("el-option",{key:e.rw,attrs:{value:e.rw,label:e.desc}})}),1)],1):"d"==l.prop||"e"==l.prop?a("el-form-item",{attrs:{prop:"ResultQuesRange."+i+"."+l.prop,rules:e.rules.ResultQuesRangeInput}},[a("el-input",{staticStyle:{width:"100%"},attrs:{value:t[l.prop],type:"number",placeholder:"请输入",size:"mini"},on:{input:function(t){return e.ChangeNum(i,l.prop,t,"ResultPaperType","ResultQuesRange","ResultScore")}}})],1):"g"==l.prop?a("el-form-item",{attrs:{prop:"ResultQuesRange."+i+"."+l.prop,rules:e.rules.ResultQuesRange}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.ResultQuesTypeStore,props:{value:"id",expandTrigger:"hover"},filterable:"",size:"mini"},on:{change:function(t){return e.GetSpareNum(i,!0,"ResultQuesRange")}},model:{value:t[l.prop],callback:function(a){e.$set(t,l.prop,a)},expression:"item[column.prop]"}})],1):a("span",{staticStyle:{"padding-left":"10px"}},[e._v(e._s(t[l.prop]))])],1):a("div",["a"==l.prop?a("el-form-item",{attrs:{prop:"ResultQuesRange."+i+"."+l.prop,rules:e.rules.ResultQuesRange}},[a("el-cascader",{staticStyle:{width:"100%"},attrs:{options:e.ResultQuesTypeStore,props:{value:"id",expandTrigger:"hover"},filterable:"",size:"mini"},on:{change:function(t){return e.GetHandleQuest(i,!0,"ResultQuesRange")}},model:{value:t[l.prop],callback:function(a){e.$set(t,l.prop,a)},expression:"item[column.prop]"}})],1):"b"==l.prop?a("el-form-item",{attrs:{prop:"ResultQuesRange."+i+"."+l.prop,rules:e.rules.ResultQuesRange}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",size:"mini",placeholder:""},on:{change:function(t){return e.GetHandleQuestInfo(i,!0,"ResultPaperType","ResultQuesRange","ResultScore")}},model:{value:t[l.prop],callback:function(a){e.$set(t,l.prop,a)},expression:"item[column.prop]"}},e._l(e.TheorySubStore,function(e){return a("el-option",{key:e.rw,attrs:{value:e.rw,label:e.SubDesc}})}),1)],1):"g"==l.prop?a("el-form-item",{attrs:{prop:"ResultQuesRange."+i+"."+l.prop,rules:e.rules.ReusltQuesRangeInput}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"number",placeholder:"请输入",size:"mini"},on:{change:function(t){return e.ComputeScore("ResultPaperType","ResultQuesRange","ResultScore")}},model:{value:t[l.prop],callback:function(a){e.$set(t,l.prop,a)},expression:"item[column.prop]"}})],1):a("span",{staticStyle:{"padding-left":"10px"}},[e._v(e._s(t[l.prop]))])],1)])}),e._v(" "),"N"==e.editForm.Status?a("td",[a("i",{staticClass:"el-icon-close",staticStyle:{color:"#FF0000",cursor:"pointer"},on:{click:function(t){return e.DeleteRangeClick(i,"ResultPaperType","ResultQuesRange","ResultScore")}}})]):e._e()],2)})],2)])],1)]):a("div",[a("el-select",{staticClass:"ThreeWidthClass",attrs:{multiple:"",filterable:"",size:"mini",placeholder:"考核范围"},model:{value:e.editForm.ReulstOperationRange,callback:function(t){e.$set(e.editForm,"ReulstOperationRange",t)},expression:"editForm.ReulstOperationRange"}},e._l(e.ResultOperationStore,function(e){return a("el-option",{key:e.rw,attrs:{value:e.rw,label:e.OperaDesc}})}),1)],1)])],1):5==e.editForm.Step?a("div",{staticStyle:{"padding-top":"10px"}},[a("el-form-item",{attrs:{label:"课后作业描述",prop:"HomeworkDesc","label-width":"110px"}},[a("el-input",{staticStyle:{width:"444px"},attrs:{type:"textarea",rows:3,placeholder:"请输入",size:"mini"},model:{value:e.editForm.HomeworkDesc,callback:function(t){e.$set(e.editForm,"HomeworkDesc",t)},expression:"editForm.HomeworkDesc"}})],1),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"课后作业总分",prop:"HomeworkScore","label-width":"110px"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{type:"number",min:"0",placeholder:"请输入",size:"mini",onkeyup:"value=value.replace(/[^\\d.]/g,'')"},model:{value:e.editForm.HomeworkScore,callback:function(t){e.$set(e.editForm,"HomeworkScore",t)},expression:"editForm.HomeworkScore"}}),e._v("分\n                            ")],1),e._v(" "),a("el-form-item",{attrs:{label:"课后作业及格分",prop:"HomeworkPass","label-width":"110px"}},[a("el-input",{staticStyle:{width:"160px"},attrs:{type:"number",min:"0",placeholder:"请输入",size:"mini",onkeyup:"value=value.replace(/[^\\d.]/g,'')"},model:{value:e.editForm.HomeworkPass,callback:function(t){e.$set(e.editForm,"HomeworkPass",t)},expression:"editForm.HomeworkPass"}}),e._v("分\n                            ")],1),a("br"),e._v(" "),a("el-form-item",{attrs:{label:"上交截至时间",prop:"HomeworkDateTime","label-width":"110px"}},[a("el-date-picker",{staticStyle:{width:"160px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",size:"mini",placeholder:"选择日期时间"},model:{value:e.editForm.HomeworkDateTime,callback:function(t){e.$set(e.editForm,"HomeworkDateTime",t)},expression:"editForm.HomeworkDateTime"}})],1)],1):e._e()],2)],1)]),e._v(" "),a("hgpanel",{staticStyle:{"margin-top":"10px"},attrs:{title:"结课标准",styleCode:e.styleCode,icon:"#nm-icon-paper",panelWidth:1218,panelHeight:227}},[a("div",[a("el-form",{ref:"editForm",attrs:{disabled:"N"!=e.editForm.Status,model:e.editForm,rules:e.rules,"label-position":"right","label-width":"90px",inline:""}},[a("el-row",{staticStyle:{padding:"10px 10px"},attrs:{gutter:12}},[a("el-col",{attrs:{span:5}},[a("hgpanel",{staticStyle:{width:"100%"},attrs:{title:"课程完成标准",styleCode:e.styleCode,icon:"#nm-icon-paper",panelHeight:170}},[a("div",{staticStyle:{"text-align":"left","padding-left":"10px","padding-top":"10px"}},[a("el-checkbox-group",{model:{value:e.editForm.finishStand,callback:function(t){e.$set(e.editForm,"finishStand",t)},expression:"editForm.finishStand"}},e._l(e.finishStandStore,function(t){return a("el-checkbox",{key:t.rw,attrs:{label:t.rw}},[e._v(e._s(t.desc))])}),1)],1)])],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("hgpanel",{staticStyle:{width:"100%"},attrs:{title:"课程完成标准",styleCode:e.styleCode,icon:"#nm-icon-paper",panelHeight:170}},[a("div",{staticStyle:{"text-align":"left","padding-left":"10px","padding-top":"10px"}},[a("el-checkbox-group",{model:{value:e.editForm.passStand,callback:function(t){e.$set(e.editForm,"passStand",t)},expression:"editForm.passStand"}},e._l(e.passStandStore,function(t){return a("el-checkbox",{key:t.rw,attrs:{label:t.rw}},[e._v(e._s(t.desc))])}),1)],1)])],1),e._v(" "),a("el-col",{attrs:{span:14}},[a("el-form-item",{attrs:{label:"课程完成授予分数",prop:"DrillScore","label-width":"130px"}},[a("el-input",{staticStyle:{width:"100px","margin-right":"10px"},attrs:{type:"number",placeholder:"请输入",size:"mini"},model:{value:e.editForm.DrillScore,callback:function(t){e.$set(e.editForm,"DrillScore",t)},expression:"editForm.DrillScore"}}),e._v("分\n                                ")],1),e._v(" "),a("el-form-item",{attrs:{label:"手动授予分数时自动带入学分",prop:"AutoScoreType","label-width":"200px"}},[a("hgswitch",{staticStyle:{width:"90px"},attrs:{"active-text":"是","inactive-text":"否","active-value":"Y","inactive-value":"N"},model:{value:e.editForm.AutoScoreType,callback:function(t){e.$set(e.editForm,"AutoScoreType",t)},expression:"editForm.AutoScoreType"}})],1)],1)],1)],1)],1)])],1),e._v(" "),a("div",{staticClass:"bottom-button"},["N"==e.editForm.Status?a("hgbutton",{directives:[{name:"intervalclick",rawName:"v-intervalclick",value:{func:e.SaveData,time:500},expression:"{func:SaveData,time:500}"}],attrs:{type:e.styleCode?"default":"success",styleCode:e.styleCode}},[e._v("保存")]):e._e(),e._v(" "),a("hgbutton",{attrs:{type:"default",styleCode:e.styleCode},on:{click:function(t){e.dialogVisible=!1}}},[e._v("关闭")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.ExamineeTitle,visible:e.dialogExamineeVisible,"close-on-click-modal":!1,width:"1200px"},on:{"update:visible":function(t){e.dialogExamineeVisible=t}}},[a("div",{staticClass:"dialog-header-title",attrs:{slot:"title"},slot:"title"},[e.styleCode?a("i",{staticClass:"nm-icon-w-edit"}):e._e(),e._v(" "),a("span",[e._v(e._s(e.ExamineeTitle))])]),e._v(" "),e.dialogExamineeVisible?a("Examinee",{attrs:{ReleaseId:e.selRow.rw,UserType:"D",ExamineeListDesc:e.selRow.ExamineeListDesc,ExamineeWardDesc:e.selRow.ExamineeWardDesc},on:{CloseClick:e.CloseClick}}):e._e()],1),e._v(" "),a("el-dialog",{attrs:{title:"课件",visible:e.fileVisiable,"close-on-click-modal":!1,width:"900px",align:"left"},on:{"update:visible":function(t){e.fileVisiable=t}}},[a("div",{staticClass:"dialog-header-title",attrs:{slot:"title"},slot:"title"},[e.styleCode?a("i",{staticClass:"nm-icon-w-edit"}):e._e(),e._v(" "),a("span",[e._v(e._s("课件"))])]),e._v(" "),e.fileVisiable?a("DrillReleaseFile",{attrs:{treedata:e.treedata},on:{CloseFileClick:function(t){e.fileVisiable=!1},SaveFileClick:e.SaveFileClick}}):e._e()],1)],1)])},staticRenderFns:[]};var h=a("VU/8")(p,m,!1,function(e){a("JOVJ")},null,null);t.default=h.exports},JOVJ:function(e,t){},KRfk:function(e,t){},P5XB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Gu7T"),l=a.n(i),s=a("Dd8w"),r=a.n(s),o=a("XlQt"),n=a("W5Fe"),d=a("NYxO"),c={computed:r()({},Object(d.b)(["styleCode"])),components:{hgbutton:o.default,hgpagination:n.default},props:["ReleaseId","ExamineeListDesc","ExamineeWardDesc","UserType"],data:function(){return{findTypeStore:[{rw:"护士层级",desc:"层级"},{rw:"专科方向",desc:"专科"},{rw:"聘任职称",desc:"职称"},{rw:"职务",desc:"职务"}],bankTableData:[],showTableData:[],tableData:[],currentPage:1,allCheck:!1,totalCount:0,finds:{type:"",input:""},findsRight:{input:""},bankTableDataRight:[],showTableDataRight:[],tableDataRight:[],currentPageRight:1,allCheckRight:!1,totalCountRight:0,selRows:[],selRowsRight:[],rightPageSize:20,rightCurrentPage:1,leftPageSize:20,leftCurrentPage:1,totalCountLeft:0}},created:function(){this.LoadTableData(),this.LoadTableDataRight()},methods:{CloseClick:function(){this.$emit("CloseClick")},SaveClick:function(){var e=this,t="";e.bankTableDataRight.forEach(function(e){var a=e.UserId+"|"+e.wardId;t=""==t?a:t+"^"+a});var a="SaveReleaseExaminee";"D"==this.UserType&&(a="SaveDrillReleaseExaminee");var i=e.axiosConfig("web.INMTeaComm",a,"Method","parr$"+t,"rw$"+e.ReleaseId,"UserType$"+e.UserType);e.$ajax.request(i).then(function(t){1==t.data?(e.$message({message:"操作成功！",type:"success",showClose:!0,customClass:"success_class"}),e.CloseClick()):t.data.length<100?e.$message({type:"warning",message:t.data,showClose:!0,customClass:"warning_class"}):e.$message({type:"warning",message:"后台方法错了^_^",showClose:!0,customClass:"warning_class"})}).catch(function(t){e.$message({type:"warning",message:"操作失败！",showClose:!0,customClass:"warning_class"})})},RowClick:function(e,t,a){1!=e.isSelect&&this.$refs.tableData.toggleRowSelection(e)},GetSelectAble:function(e,t){return 1!=e.isSelect},GetSelectAbleRight:function(e,t){return 1!=e.isUsed},RowClickRight:function(e,t,a){this.$refs.tableDataRight.toggleRowSelection(e)},MoveRight:function(){var e=this;e.allCheck?e.bankTableDataRight=[].concat(l()(e.showTableData)):e.selRows.forEach(function(t){var a=!1;e.bankTableDataRight.forEach(function(e){e.UserId==t.UserId&&(a=!0)}),a||e.bankTableDataRight.push(t)}),e.MoveFilterData()},MoveLeft:function(){var e=new Array,t=new Array;t=this.allCheckRight?[].concat(l()(this.showTableDataRight)):[].concat(l()(this.selRowsRight));for(var a=0;a<this.bankTableDataRight.length;a++)(t.indexOf(this.bankTableDataRight[a])<0||1==this.bankTableDataRight[a].isUsed)&&e.push(this.bankTableDataRight[a]);this.bankTableDataRight=e,this.MoveFilterData()},MoveFilterData:function(){var e=this;e.bankTableData.forEach(function(t,a){var i=!1;e.bankTableDataRight.forEach(function(e){e.UserId!=t.UserId||(i=!0)}),e.bankTableData[a].isSelect=!!i&&1}),e.FilterTableData(""),e.FilterTableData("Right")},FilterTableData:function(e){var t=new Array,a=[].concat(l()(this["bankTableData"+e])),i=this["finds"+e].input;(i=i||"")?(i=i.toLocaleUpperCase(),a.forEach(function(e){(e.UserCode.indexOf(i)>=0||e.UserName.indexOf(i)>=0||e.UserSehll.indexOf(i)>=0)&&t.push(e)})):t=[].concat(l()(a)),this["showTableData"+e]=t,this["totalCount"+e]=t.length,this["currentPage"+e]=1,this["selRows"+e]=new Array,this["allCheck"+e]=!1,this["tableData"+e]=t.slice(0,20)},LoadTableData:function(){var e=this,t=e.finds,a=(t.type,t.input);a=a||"",a="";var i=e.ReleaseId+"^"+e.UserType,l=e.axiosConfig("web.INMTeaComm","FindExamineeList","RecQuery","parr$"+i,"input$"+a,"start$0","limit$10000");e.$ajax.request(l).then(function(t){e.bankTableData=t.data.rows,e.FilterTableData("")}).catch(function(e){})},LoadTableDataRight:function(){var e=this,t=e.finds,a=(t.type,t.input);a=a||"",a="";var i=e.ReleaseId+"^"+e.UserType,l=e.axiosConfig("web.INMTeaComm","FindSelectExamineeList","RecQuery","parr$"+i,"input$"+a,"start$0","limit$10000");e.$ajax.request(l).then(function(t){e.bankTableDataRight=t.data.rows,e.FilterTableData("Right")}).catch(function(e){})},handleSelectionChange:function(e,t){this["selRows"+t]=e},SetSelectAll:function(e){this.$refs["tableData"+e].clearSelection(),this["allCheck"+e]?this.$refs["tableData"+e].toggleAllSelection():this.$refs["tableData"+e].clearSelection()},HandleCurrentChange:function(e,t){this["currentPage"+t]=e;var a=20*(e-1);this["tableData"+t]=this["showTableData"+t].slice(a,a+20),this.SetSelectAll(t)},HandleRightCurrentChange:function(e){this.rightCurrentPage=e.currentPage;var t=(e.currentPage-1)*this.rightPageSize;this.tableDataRight=this.showTableDataRight.slice(t,t+this.rightPageSize),this.SetSelectAll("Right")},HandleRightSizeChange:function(e){this.rightPageSize=e;var t=(this.rightCurrentPage-1)*this.rightPageSize;this.tableDataRight=this.showTableDataRight.slice(t,t+this.rightPageSize),this.SetSelectAll("Right")},HandleLeftCurrentChange:function(e){this.currentPage=e.currentPage;var t=(e.currentPage-1)*this.leftPageSize;this.tableData=this.showTableData.slice(t,t+this.leftPageSize),this.SetSelectAll("")},HandleLeftSizeChange:function(e){this.leftPageSize=e;var t=(this.currentPage-1)*this.leftPageSize;this.tableData=this.showTableData.slice(t,t+this.leftPageSize),this.SetSelectAll("")},GetRowKey:function(e){return e.UserId}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"examinee-panel"},[a("div",{staticClass:"top-tool-button",staticStyle:{"border-bottom":"0",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","font-size":"14px"}},[a("el-tooltip",{attrs:{placement:"top",content:e.ExamineeListDesc+e.$t("menu.Examinee.5ncy6v4b1gc0")+(e.ExamineeWardDesc?e.ExamineeWardDesc:e.$t("menu.Examinee.5nrnc8xl56k0"))}},[a("span",[a("font",{staticStyle:{"margin-right":"10px",color:"#000","margin-left":"10px"}},[e._v(e._s(e.$t("menu.Examinee.5ncy6v4b0mg0")))]),a("span",{staticStyle:{color:"#000"}},[e._v(e._s(e.ExamineeListDesc)+e._s(e.$t("menu.Examinee.5ncy6v4b1gc0"))+e._s(e.ExamineeWardDesc?e.ExamineeWardDesc:e.$t("menu.Examinee.5nrnc8xl56k0")))])],1)])],1),e._v(" "),a("el-row",{staticStyle:{padding:"0px 10px 10px 10px"},attrs:{gutter:12}},[a("el-col",{attrs:{span:11}},[a("div",{staticClass:"top-tool-table-dialog-top dialog-div-top-radius"},[a("el-form",{ref:"finds",attrs:{model:e.finds,inline:!0},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",[a("el-checkbox",{on:{change:function(t){return e.SetSelectAll("")}},model:{value:e.allCheck,callback:function(t){e.allCheck=t},expression:"allCheck"}},[e._v(e._s(e.$t("menu.Examinee.5ncy6v4e7bs0")))])],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{"suffix-icon":"nm-icon-w-find",size:"mini",placeholder:e.$t("menu.Examinee.5nrnc8xnan40")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.FilterTableData("")}},model:{value:e.finds.input,callback:function(t){e.$set(e.finds,"input",t)},expression:"finds.input"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"top-tool-dialog-table dialog-table-bottom-radius"},[a("el-table",{ref:"tableData",attrs:{data:e.tableData,height:380,border:e.styleCode,"header-cell-style":e.headerCellFontWeight,"highlight-current-row":"",align:"left",label:e.$t("menu.Examinee.5nrnc8xob6w0"),"row-key":e.GetRowKey},on:{"row-click":e.RowClick,"selection-change":function(t){return e.handleSelectionChange(t,"")}}},[a("el-table-column",{attrs:{type:"selection",width:"35",selectable:e.GetSelectAble,align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"UserCode",label:e.$t("menu.Examinee.5nrnc8xpt7s0"),width:"80px","show-overflow-tooltip":"",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"UserName",label:e.$t("menu.Examinee.5nrnc8xraxc0"),width:"80px","show-overflow-tooltip":"",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"defaultDesc",label:e.$t("menu.Examinee.5nrnc8xt7yo0"),width:"100px","show-overflow-tooltip":"",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"wardDesc",label:e.$t("menu.Examinee.5nrnc8xuojk0"),width:"","show-overflow-tooltip":"",align:"left"}})],1),e._v(" "),a("hgpagination",{attrs:{styleCode:e.styleCode,sizes:[20,40,50,100],totalCount:e.totalCount,pageNumber:e.currentPage,pageSize:e.leftPageSize},on:{changePage:e.HandleLeftCurrentChange,getPageSize:e.HandleLeftSizeChange}})],1)]),e._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticStyle:{height:"430px",width:"100%"}},[a("div",{staticStyle:{"text-align":"center",width:"100%","padding-top":"200px"}},[a("hgbutton",{staticStyle:{"margin-right":"0"},attrs:{type:"default",disabled:!e.selRows||0==e.selRows.length},on:{click:e.MoveRight}},[e.styleCode?a("i",[e._v("→")]):a("i",{staticClass:"nm-icon-lite-right-arrow"})])],1),e._v(" "),a("div",{staticStyle:{"text-align":"center",width:"100%","margin-top":"20px"}},[a("hgbutton",{staticStyle:{"margin-right":"0"},attrs:{type:"default",disabled:!e.selRowsRight||0==e.selRowsRight.length},on:{click:e.MoveLeft}},[e.styleCode?a("i",[e._v("←")]):a("i",{staticClass:"nm-icon-lite-left-arrow"})])],1)])]),e._v(" "),a("el-col",{attrs:{span:11}},[a("div",{staticClass:"top-tool-table-dialog-top dialog-div-top-radius"},[a("el-form",{ref:"findsRight",attrs:{model:e.findsRight,inline:!0},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:""}},[a("el-checkbox",{on:{change:function(t){return e.SetSelectAll("Right")}},model:{value:e.allCheckRight,callback:function(t){e.allCheckRight=t},expression:"allCheckRight"}},[e._v(e._s(e.$t("menu.Examinee.5ncy6v4e7bs0")))])],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{"suffix-icon":"nm-icon-w-find",size:"mini",placeholder:e.$t("menu.Examinee.5nrnc8xnan40")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.FilterTableData("Right")}},model:{value:e.findsRight.input,callback:function(t){e.$set(e.findsRight,"input",t)},expression:"findsRight.input"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"top-tool-dialog-table dialog-table-bottom-radius"},[a("el-table",{ref:"tableDataRight",attrs:{data:e.tableDataRight,height:380,border:e.styleCode,"highlight-current-row":"",align:"left",label:e.$t("menu.Examinee.5nrnc8xob6w0"),"header-cell-style":e.headerCellFontWeight,"row-key":e.GetRowKey},on:{"row-click":e.RowClickRight,"selection-change":function(t){return e.handleSelectionChange(t,"Right")}}},[a("el-table-column",{attrs:{type:"selection",width:"35",selectable:e.GetSelectAbleRight,align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"UserCode",label:e.$t("menu.Examinee.5nrnc8xpt7s0"),width:"80px","show-overflow-tooltip":"",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"UserName",label:e.$t("menu.Examinee.5nrnc8xraxc0"),width:"80px","show-overflow-tooltip":"",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"defaultDesc",label:e.$t("menu.Examinee.5nrnc8xt7yo0"),width:"100px","show-overflow-tooltip":"",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"wardDesc",label:e.$t("menu.Examinee.5nrnc8xuojk0"),width:"","show-overflow-tooltip":"",align:"left"}})],1),e._v(" "),a("hgpagination",{attrs:{styleCode:e.styleCode,sizes:[20,40,50,100],totalCount:e.totalCountRight,pageNumber:e.rightCurrentPage,pageSize:e.rightPageSize},on:{changePage:e.HandleRightCurrentChange,getPageSize:e.HandleRightSizeChange}})],1)])],1),e._v(" "),a("div",{staticClass:"bottom-button"},[a("hgbutton",{directives:[{name:"intervalclick",rawName:"v-intervalclick",value:{func:e.SaveClick,time:500},expression:"{func:SaveClick,time:500}"}],attrs:{type:"default"}},[e._v(e._s(e.$t("menu.Examinee.5nrnc8y1u0s0")))]),e._v(" "),a("hgbutton",{attrs:{type:"default"},on:{click:e.CloseClick}},[e._v(e._s(e.$t("menu.Examinee.5nrnc8y1v9g0")))])],1)],1)},staticRenderFns:[]};var p=a("VU/8")(c,u,!1,function(e){a("KRfk")},null,null);t.default=p.exports},kzuM:function(e,t){},ty01:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Dd8w"),l=a.n(i),s=(a("zL8q"),a("NYxO")),r=a("z8xk"),o=a("XlQt"),n={props:["treedata"],components:{hgpanel:r.default,hgbutton:o.default},computed:l()({},Object(s.b)(["styleCode"])),data:function(){return{defaultProps:{children:"children",label:"label"},selectNode:{id:"",level:1,stopFlag:!1,endFlag:0},selectSubNode:{id:"",label:""},treeInput:"",tableData:[],subFinds:{input:""},selRow:""}},watch:{},methods:{SaveClick:function(){this.selRow?this.$emit("SaveFileClick",this.selRow):this.$message({type:"warning",message:"请选择文件",showClose:!0,customClass:"warning_class"})},CloseClick:function(){this.$emit("CloseFileClick",this.selRow)},RowClick:function(e){this.selRow=e},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},FilterTreeClick:function(){var e=this.treeInput;e=e||"",this.$refs.treedata.filter(e)},NodeClick:function(e,t,a){e.children&&0!=e.children.length||(this.selectSubNode.id=e.id,this.selectSubNode.label=e.label,this.FindTableData())},FindTableData:function(){var e=this,t=e.selectSubNode.id;t=t||t;var a=e.subFinds.input,i=t+"^"+(a=a||""),l=e.axiosConfig("web.INMTeaComm","FindDrillFileSubList","RecQuery","parr$"+i,"noStop$1");e.$ajax.request(l).then(function(t){e.selRow="",e.tableData=t.data.rows}).catch(function(e){})}},created:function(){}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"drill-release-file-panel",attrs:{id:"DrillFill"}},[a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:6}},[a("hgpanel",{staticStyle:{width:"100%"},attrs:{title:"文件夹",styleCode:e.styleCode,icon:"#nm-icon-paper",panelHeight:500}},[a("div",{staticClass:"panel-button-space",staticStyle:{"text-align":"left"},attrs:{slot:"tool"},slot:"tool"},[a("el-input",{attrs:{placeholder:"请输入描述(Enter)",size:"mini","suffix-icon":e.styleCode?"nm-icon-w-find":"nm-icon-lite-search"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.FilterTreeClick(t)}},model:{value:e.treeInput,callback:function(t){e.treeInput=t},expression:"treeInput"}})],1),e._v(" "),a("div",[a("el-tree",{ref:"treedata",staticClass:"dialog-table-bottom-radius",staticStyle:{"overflow-y":"auto",height:"414px"},attrs:{data:e.treedata,"default-expand-all":"","node-key":"id","filter-node-method":e.filterNode,"highlight-current":"",props:e.defaultProps},on:{"node-click":e.NodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,l=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(i.label))]),e._v(" "),1==l.stopFlag?a("i",{staticClass:"el-icon-remove",staticStyle:{color:"#FF0000"}}):e._e()])}}])})],1)])],1),e._v(" "),a("el-col",{attrs:{span:18}},[a("hgpanel",{staticStyle:{width:"100%"},attrs:{title:"课件",styleCode:e.styleCode,icon:"#nm-icon-paper",panelHeight:500}},[a("div",{staticClass:"panel-button-space",staticStyle:{"text-align":"left"},attrs:{slot:"tool"},slot:"tool"},[a("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"文件名关键字",size:"mini","suffix-icon":e.styleCode?"nm-icon-w-find":"nm-icon-lite-search"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.FindTableData(t)}},model:{value:e.subFinds.input,callback:function(t){e.$set(e.subFinds,"input",t)},expression:"subFinds.input"}})],1),e._v(" "),a("div",{staticClass:"top-tool-table dialog-table-bottom-radius"},[a("el-table",{staticClass:"dialog-table-bottom-radius",attrs:{data:e.tableData,height:"416px",border:e.styleCode,"header-cell-style":e.headerCellFontWeight,"highlight-current-row":"","show-overflow-tooltip":"",align:"left"},on:{"row-click":e.RowClick}},[a("el-table-column",{attrs:{prop:"SubDesc",label:"文件名",width:"","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"CreatorName",label:"上传人",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"CreatDate",label:"上传日期",width:"200"}})],1)],1)])],1)],1),e._v(" "),a("div",{staticClass:"bottom-button"},[a("hgbutton",{attrs:{type:e.styleCode?"default":"success",styleCode:e.styleCode},on:{click:e.SaveClick}},[e._v("保存")]),e._v(" "),a("hgbutton",{attrs:{type:"default",styleCode:e.styleCode},on:{click:e.CloseClick}},[e._v("关闭")])],1)],1)},staticRenderFns:[]};var c=a("VU/8")(n,d,!1,function(e){a("kzuM")},null,null);t.default=c.exports}});