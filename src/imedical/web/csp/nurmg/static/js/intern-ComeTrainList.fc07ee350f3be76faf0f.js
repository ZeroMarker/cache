webpackJsonp([195],{"61KJ":function(e,t){},BynN:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),r=a.n(n),s=a("NYxO"),i=a("XlQt"),o=a("W5Fe"),l=a("z8xk"),c={components:{hgbutton:i.default,hgpagination:o.default,hgpanel:l.default},computed:r()({},Object(s.b)(["Height","SysTomcat","LoginId","DateFormat","styleCode"])),name:"ComeTrainList",data:function(){var e=this;return{pageSize:{width:"",height:""},elrowstyle:{height:"25px"},tableHeight:"",inPageSize:20,inCurrentPage:1,inTotalCount:0,intable:[],TableDataAll:[],inToolForm:{Person:"",Ward:"",Status:"",StDate:new Date((new Date).getFullYear(),(new Date).getMonth(),1),EndDate:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0)},wardstore:[],sexstore:[],acadestore:[],hirejobstore:[],teacherlist:[],isShowFlag:!1,dialogInTrainVisible:!1,inForm:{PerName:"",PerNo:"",PerSexDR:"",PerAge:"",PerCardId:"",PerBirthday:"",PerCurrentAcade:"",PerHireJob:"",PerDepDR:"",PerUnit:"",PerTrainStDate:"",PerTrainEndDate:"",PerTrainFee:"",RowID:"",PerPhone:"",PerRemark:""},inFormRules:{PerName:[{required:!0,message:"请输入姓名",trigger:"blur"}],PerDepDR:[{required:!0,message:"请选择病区",trigger:"change"}],PerNo:[{required:!0,message:"请输入编号",trigger:"blur"}],PerCardId:[{required:!0,message:"请输入身份证号",trigger:"blur"},{validator:function(t,a,n){e.identifyValid(a)?n():n("请输入正确的身份证号！")}}],PerTrainStDate:[{required:!0,message:"请输入开始日期",trigger:"change"}],PerTrainEndDate:[{required:!0,message:"请输入结束日期",trigger:"change"}]},elementlist:[],dialogInTransVisible:!1,transtable:[],transPageSize:20,transCurrentPage:1,transTotalCount:0,dialogTransVisible:!1,inTransForm:{NurseWard:"",NurseName:"",NurseDep:"",TransDate:""},transRules:{NurseWard:[{required:!0,message:"请选择",trigger:"change"}],NurseName:[{required:!0,message:"请选择",trigger:"change"}],NurseDep:[{required:!0,message:"请选择",trigger:"change"}],TransDate:[{required:!0,message:"请选择",trigger:"change",type:"date"}]},statusstore:[{code:"N",desc:"待进修"},{code:"Y",desc:"进修中"},{code:"E",desc:"进修结束"}],wardNurseStore:[],multipleSelection:[],specialstore:[],selectrow:[],transrow:[],selectRw:"",degreestore:[],postdutystore:[],locStore:[],pickerOptions:{disabledDate:function(e){return e.getTime()<Date.parse(new Date)-864e5}},toprole:"",winFlag:0,wardId:""}},methods:{selectionchange:function(e){this.selection=e},TransRowClick:function(e,t){this.transrow=e},TransSave:function(e){var t=this,a="";if(t.selection&&0!=t.selection.length){for(var n=0;n<t.selection.length;n++){if("Y"==t.selection[n].TransStatus&&"N"==e)return void t.$message({type:"warning",message:"已提交记录不能保存",showClose:!0,customClass:"warning_class"});if("Y"==t.selection[n].TransStatus&&"Y"==e)return void t.$message({type:"warning",message:"不能重复提交",showClose:!0,customClass:"warning_class"});if(!t.selection[n].TransStDate||""==t.selection[n].TransStDate)return void t.$message({type:"warning",message:"开始日期不能为空",showClose:!0,customClass:"warning_class"});if(!t.selection[n].Ward||""==t.selection[n].Ward)return void t.$message({type:"warning",message:"病区不能为空",showClose:!0,customClass:"warning_class"});for(var r="",s=0;s<t.selection[n].Teacher.length;s++)r=""==r?t.selection[n].Teacher[s]:r+","+t.selection[n].Teacher[s];var i=t.selection[n].TransEndDate?t.selection[n].TransEndDate.Format("YYYY-MM-dd"):"",o=t.selection[n].TransStDate?t.selection[n].TransStDate.Format("YYYY-MM-dd"):"";a=""==a?"InWard|"+t.selection[n].Ward+"^InTrainDep|"+t.selection[n].RowID+"^WardId|"+t.selectrow.PerDepDR+"^NurseId|"+t.inForm.RowID+"^TransStDate|"+o+"^TransEndDate|"+i+"^Teacher|"+r:a+"「InWard|"+t.selection[n].Ward+"^InTrainDep|"+t.selection[n].RowID+"^WardId|"+t.selectrow.PerDepDR+"^NurseId|"+t.inForm.RowID+"^TransStDate|"+o+"^TransEndDate|"+i+"^Teacher|"+r}"Y"==e?t.$confirm("此操作会将护士调配至其他科室, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$ajax.request(t.axiosConfig("web.INMTrainComm","SaveInTransData","Method","parr$"+a,"flag$"+e)).then(function(e){1==e.data?(t.loadTransTable(),t.$message({type:"success",message:"保存成功！",showClose:!0,customClass:"success_class"})):t.$message({type:"warning",message:e.data,showClose:!0,customClass:"warning_class"})})}):t.$ajax.request(t.axiosConfig("web.INMTrainComm","SaveInTransData","Method","parr$"+a,"flag$"+e)).then(function(e){1==e.data?(t.loadTransTable(),t.$message({type:"success",message:"保存成功！",showClose:!0,customClass:"success_class"})):t.$message({type:"warning",message:e.data,showClose:!0,customClass:"warning_class"})})}else t.$message({type:"warning",message:"请选择记录",showClose:!0,customClass:"warning_class"})},loadTransTable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.inForm.RowID,t=this,a=(t.transCurrentPage-1)*t.transPageSize,n=t.transPageSize;t.$ajax.request(t.axiosConfig("web.INMTrainComm","FindInTransList","RecQuery","nurseid$"+e,"start$"+a,"limit$"+n)).then(function(e){for(var a=0;a<e.data.rows.length;a++){var n=new Array;if(e.data.rows[a].Teacher.split(",").length>0&&""!=e.data.rows[a].Teacher.split(",")[0])for(var r=0;r<e.data.rows[a].Teacher.split(",").length;r++)n.push(e.data.rows[a].Teacher.split(",")[r]);e.data.rows[a].Teacher=n,e.data.rows[a].TransEndDate=new Date(Date.parse(e.data.rows[a].TransEndDate.replace(/-/g,"/"))),e.data.rows[a].TransStDate=new Date(Date.parse(e.data.rows[a].TransStDate.replace(/-/g,"/")))}t.transtable=e.data.rows,t.transTotalCount=parseInt(e.data.results),t.transCurrentPage=1})},TransDelete:function(){var e=this,t="";if(e.selection&&0!=e.selection.length){for(var a=0;a<e.selection.length;a++){if("Y"==e.selection[a].TransStatus)return void e.$message({type:"warning",message:"已提交记录不能删除",showClose:!0,customClass:"warning_class"});if(""!=e.selection[a].RowID)t=""==t?e.selection[a].RowID:t+"^"+e.selection[a].RowID;else for(var n=0;n<e.transtable.length;n++)if(e.transtable[n].TransStDate==e.selection[a].TransStDate&&e.transtable[n].TransEndDate==e.selection[a].TransEndDate){e.transtable.splice(n,1);break}}""!=t&&e.$confirm("此操作将永久删除该记录,是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$ajax.request(e.axiosConfig("web.INMTrainComm","DeleteTransData","Method","parr$"+t)).then(function(t){e.loadTransTable()})})}else e.$message({type:"warning",message:"请选择记录",showClose:!0,customClass:"warning_class"})},focusLoadTeacher:function(e){e?this.LoadTeacher(e):this.$message({type:"warning",message:"请先选择科室",showClose:!0,customClass:"warning_class"})},LoadTeacher:function(e){var t=this,a=t.axiosConfig("web.INMInternComm","FindInternTeacher","RecQuery","parr$","role$","nurseid$"+sessionStorage.getItem("loginID"),"wardId$"+e);t.$ajax.request(a).then(function(e){t.teacherlist=e.data.rows})},TransAdd:function(){if(""!=this.inForm.RowID){for(var e=0;e<this.transtable.length;e++)if(""==this.transtable[e].Ward||""==this.transtable[e].TransStDate)return void this.$message({type:"warning",message:"有未填写的信息",showClose:!0,customClass:"warning_class"});this.transtable.push({Ward:"",TransStDate:"",TransEndDate:"",Teacher:[],RowID:"",disable:"false",TransStatus:""})}else this.$message({type:"warning",message:"请先保存进修人员信息",showClose:!0,customClass:"warning_class"})},trainStDateChange:function(e){e&&(this.inForm.PerTrainEndDate instanceof Date&&new Date(e.toString().replace(/-/g,"/"))>new Date(this.inForm.PerTrainEndDate.Format("YYYY-MM-dd").replace(/-/g,"/"))&&(this.$message({type:"warning",message:"开始日期不能大于结束日期",showClose:!0,customClass:"warning_class"}),this.inForm.PerTrainStDate=""))},trainEndDateChange:function(e){e&&(this.inForm.PerTrainStDate instanceof Date&&new Date(e.toString().replace(/-/g,"/"))<new Date(this.inForm.PerTrainStDate.Format("YYYY-MM-dd").replace(/-/g,"/"))&&(this.$message({type:"warning",message:"结束日期不能小于开始日期",showClose:!0,customClass:"warning_class"}),this.inForm.PerTrainEndDate=""))},transStDateChange:function(e,t){e&&(this.transtable[t].TransEndDate instanceof Date?new Date(e.toString().replace(/-/g,"/"))>new Date(this.transtable[t].TransEndDate.Format("YYYY-MM-dd").toString().replace(/-/g,"/"))&&(this.$message({type:"warning",message:"开始日期不能大于结束日期",showClose:!0,customClass:"warning_class"}),this.transtable[t].TransStDate=""):t>0&&this.transtable[t-1].TransEndDate instanceof Date&&new Date(e.toString().replace(/-/g,"/"))<=new Date(this.transtable[t-1].TransEndDate.Format("YYYY-MM-dd").toString().replace(/-/g,"/"))&&(this.$message({type:"warning",message:"开始日期不能小于上次调科的结束日期",showClose:!0,customClass:"warning_class"}),this.transtable[t].TransStDate=""))},transEndDateChange:function(e,t){e&&(this.transtable[t].TransStDate instanceof Date&&new Date(e.toString().replace(/-/g,"/"))<new Date(this.transtable[t].TransStDate.Format("YYYY-MM-dd").toString().replace(/-/g,"/"))&&(this.$message({type:"warning",message:"结束日期不能小于开始日期",showClose:!0,customClass:"warning_class"}),this.transtable[t].TransEndDate=""))},checkDate:function(e,t){if(void 0==e||void 0==t)return!1;var a=!1;return e instanceof Date&&t instanceof Date&&new Date(e.Format("YYYY-MM-dd").replace(/-/g,"/"))>=new Date(t.Format("YYYY-MM-dd").replace(/-/g,"/"))&&(a=!0),a},saveInTrans:function(){var e,t=this,a=t.inTransForm.TransDate;a instanceof Date&&(a=a.Format("YYYY-MM-dd")),e=t.inTransForm.NurseName+"^"+t.inTransForm.NurseDep+"^"+a,t.$refs.transForm.validate(function(a){a&&t.$ajax.request(t.axiosConfig("web.INMAssistantComm","CheckNurseArg","Method","ids$"+t.inTransForm.NurseName)).then(function(a){a.data?t.$message({type:"warning",message:"此人存在此日期之后的排班，请删除后再调科",showClose:!0,customClass:"warning_class"}):t.$ajax.request(t.axiosConfig("web.INMTrainComm","SaveInTransData","Method","parr$"+e)).then(function(e){t.dialogTransVisible=!1,t.loadTransTable(),t.loadInTrainList()})})})},AddInTrain:function(){var e=this;e.winFlag=0,e.isShowFlag=!1,e.dialogInTrainVisible=!0,e.$nextTick(function(){e.$refs.inForm.resetFields(),e.inForm.RowID="",e.transtable=new Array,e.transTotalCount=0})},loadInTrainList:function(){var e,t=this,a=t.inToolForm.Ward,n=t.inToolForm.Person,r=t.inToolForm.Status,s=t.inToolForm.StDate,i=t.inToolForm.EndDate;if(s instanceof Date&&i instanceof Date&&s>i)t.$message({type:"warning",message:"查询开始日期大于结束日期",showClose:!0,customClass:"warning_class"});else{e=n+"^"+a+"^"+r+"^"+(s=s instanceof Date?s.Format("YYYY-MM-dd"):"")+"^"+(i=i instanceof Date?i.Format("YYYY-MM-dd"):"");var o=(t.inCurrentPage-1)*t.inPageSize,l=t.inPageSize;t.$ajax.request(t.axiosConfig("web.INMTrainComm","FindInTrainList","RecQuery","parr$"+e,"nurseid$"+sessionStorage.getItem("loginID"))).then(function(e){t.intable=e.data.rows.slice(o,o+l),t.TableDataAll=e.data.rows,t.inTotalCount=parseInt(e.data.results),t.selectrow=""})}},saveInTrain:function(){var e=this,t="";for(var a in e.inForm)t=e.inForm[a]instanceof Date?t?t+"^"+a+"|"+e.inForm[a].Format("YYYY-MM-dd"):a+"|"+e.inForm[a].Format("YYYY-MM-dd"):t?t+"^"+a+"|"+e.inForm[a]:a+"|"+e.inForm[a];e.$refs.inForm.validate(function(a){a&&e.$ajax.request(e.axiosConfig("web.INMTrainComm","IsExsitInTrain","Method","parr$"+t)).then(function(a){"0"==a.data?e.$ajax.request(e.axiosConfig("web.INMTrainComm","SaveInTrain","Method","parr$"+t)).then(function(t){e.loadInTrainList(),isNaN(t.data)?t.data.length<100?e.$message({type:"warning",message:a.data,showClose:!0,customClass:"warning_class"}):e.$message({type:"error",message:"后台程序报错了,请联系开发^_^",showClose:!0,customClass:"error_class"}):(e.$message({type:"success",message:"保存成功",showClose:!0,customClass:"success_class"}),e.inForm.RowID=t.data)}):e.$message({type:"warning",message:a.data,showClose:!0,customClass:"warning_class"})})})},GetOtherInfor:function(e){var t=0;if(18==e.length){this.inForm.PerBirthday=e.substring(6,10)+"-"+e.substring(10,12)+"-"+e.substring(12,14),this.GetAge(this.inForm.PerBirthday);var a=e.substring(16,17);this.inForm.PerSexDR=a%2==0?"6||2":"6||1"}else if(15==e.length){t=e.charAt(6)+e.charAt(7),t=parseInt(t)<10?"20"+t:"19"+t,this.inForm.PerBirthday=t+"-"+e.charAt(8)+e.charAt(9)+"-"+e.charAt(10)+e.charAt(11),this.GetAge(this.inForm.PerBirthday);a=e.charAt(14);this.inForm.PerSexDR=a%2==0?"6||2":"6||1"}},GetAge:function(e){var t,a,n=e.split("-"),r=n[0],s=n[1],i=n[2],o=(a=new Date).getFullYear(),l=a.getMonth()+1,c=a.getDate();if(null==n)return!1;if((a=new Date(r,s-1,i)).getFullYear()==r&&a.getMonth()+1==s&&a.getDate()==i){if(o==r)t=0;else{var m=o-r;if(m>0)if(l==s)t=c-i<0?m-1:m;else t=l-s<0?m-1:m;else this.$message({message:"出生日期填写有误！",type:"warning",showClose:!0,customClass:"warning_class"}),this.inForm.PerBirthday=""}this.inForm.PerAge=t}},loadWardStore:function(){var e=this,t=e.axiosConfig("web.INMDataLimit","FindRoleWardList","RecQuery","nurseid$"+sessionStorage.getItem("loginID"));e.$ajax.request(t).then(function(t){e.wardstore=t.data.rows})},handleClick:function(){},transSizeChange:function(e){this.transPageSize=e,this.loadTransTable()},transCurrentChange:function(e){this.transCurrentPage=e.currentPage,this.loadTransTable()},inSizeChange:function(e){this.inPageSize=e,this.loadInTrainList()},inCurrentChange:function(e){this.inCurrentPage=e.currentPage,this.loadInTrainList()},inRowDblClick:function(e,t){this.winFlag=1,this.GetInTrainData(e),this.transtable=new Array,this.loadTransTable(e.RowID)},inRowClick:function(e,t){this.selectrow=e},GetInTrainData:function(e){var t=this;"nurhead"==t.toprole||"znurhead"==t.toprole||"hlb"==t.toprole||"hlbzr"==t.toprole||"DEMO"==t.toprole?t.isShowFlag=!1:t.isShowFlag=!0,t.dialogInTrainVisible=!0,t.$nextTick(function(){t.$ajax.request(t.axiosConfig("web.INMTrainComm","GetTrainData","Method","id$"+e.RowID)).then(function(e){t.setCodeFormVal("inForm",e.data[0])}),t.transtable=new Array,t.loadTransTable(e.RowID)})},EditInTrain:function(){this.winFlag=1,this.selectrow&&this.selectrow.RowID?this.GetInTrainData(this.selectrow):this.$message({type:"warning",message:"请选择记录",showClose:!0,customClass:"warning_class"})},setCodeFormVal:function(e,t){for(var a in this[e]){for(var n=this.$refs[e].$children,r=n.length,s=0;s<r;s++)n[s].$options.propsData.prop==a&&("el-date-picker"==n[s].$children[0].$options._componentTag?t[a]?this[e][a]=new Date(Date.parse(t[a].replace(/-/g,"/"))):this[e][a]="":this[e][a]=t[a]);"RowID"==a&&(this[e][a]=t[a])}},identifyValid:function(e){return this.IdentityCodeValid(e)},loadTopRole:function(){var e=this;e.$ajax.request(e.axiosConfig("web.INMLoginComm","GetTopRoleByLoginId","Method","id$"+sessionStorage.getItem("loginID"))).then(function(t){e.toprole=t.data.split("^")[1]})}},created:function(){this.tableHeight=this.$store.state.mainframe.Height-130,this.loadSysParamSubData("性别","sexstore"),this.loadSysParamSubData("学历","acadestore"),this.loadSysParamSubData("学位","degreestore"),this.loadSysParamSubData("聘任职称","hirejobstore"),this.loadSysParamSubData("专科护士","specialstore"),this.loadSysParamSubData("职务","postdutystore"),this.loadWardStore(),this.LoadTeacher(this.wardId=""),this.loadInTrainList(),this.loadTopRole();var e=this.$router.currentRoute.path.slice(1,this.$router.currentRoute.path.length);this.loadElementsForRouter("elementlist",e)}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"come-train-list-panel"},[a("div",{staticClass:"top-tool-inputDiv"},[a("el-form",{ref:"inToolForm",attrs:{model:e.inToolForm,inline:!0}},[a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblmquk00")}},[a("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"date",format:e.DateFormat,size:"mini"},model:{value:e.inToolForm.StDate,callback:function(t){e.$set(e.inToolForm,"StDate",t)},expression:"inToolForm.StDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblms9pw0")}},[a("el-date-picker",{staticStyle:{width:"120px"},attrs:{type:"date",format:e.DateFormat,size:"mini"},model:{value:e.inToolForm.EndDate,callback:function(t){e.$set(e.inToolForm,"EndDate",t)},expression:"inToolForm.EndDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblmtr0o0")}},[a("el-select",{staticStyle:{width:"100px"},attrs:{"default-first-option":"",filterable:"",clearable:"",placeholder:e.$t("menu.ComeTrainList.5nrnblmvbl80"),size:"mini"},model:{value:e.inToolForm.Status,callback:function(t){e.$set(e.inToolForm,"Status",t)},expression:"inToolForm.Status"}},e._l(e.statusstore,function(e){return a("el-option",{key:e.code,attrs:{label:e.desc,value:e.code}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblmx8i80")}},[a("el-input",{staticStyle:{width:"100px"},attrs:{filterable:"",clearable:"",placeholder:e.$t("menu.ComeTrainList.5nrnblmykzw0"),size:"mini"},model:{value:e.inToolForm.Person,callback:function(t){e.$set(e.inToolForm,"Person",t)},expression:"inToolForm.Person"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblmzp500")}},[a("el-select",{staticStyle:{width:"140px"},attrs:{filterable:"",clearable:"",size:"mini"},model:{value:e.inToolForm.Ward,callback:function(t){e.$set(e.inToolForm,"Ward",t)},expression:"inToolForm.Ward"}},e._l(e.wardstore,function(e){return a("el-option",{key:e.rw,attrs:{label:e.WardDesc,value:e.rw}})}),1)],1),e._v(" "),a("el-form-item",[a("hgbutton",{attrs:{type:"default",styleCode:e.styleCode,icon:"nm-icon-w-find"},on:{click:e.loadInTrainList}},[e._v(e._s(e.$t("menu.ComeTrainList.5nrnblmzr2g0")))])],1)],1)],1),e._v(" "),a("div",{staticClass:"top-tool-button"},[this.elementlist.inFormAdd||0==e.LoginId?a("hgbutton",{ref:"inFormAdd",attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-add":"nm-icon-lite-add"},on:{click:e.AddInTrain}},[e._v(e._s(e.$t("menu.ComeTrainList.5nrnblmzrw00")))]):e._e(),e._v(" "),this.elementlist.inFormEdit||0==e.LoginId?a("hgbutton",{ref:"inFormEdit",attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-edit":"nm-icon-lite-write-order"},on:{click:e.EditInTrain}},[e._v(e._s(e.$t("menu.ComeTrainList.5nrnblmzsdc0")))]):e._e(),e._v(" "),a("hgbutton",{attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-export":"nm-icon-lite-export"},on:{click:function(t){e.exportData("intable",e.TableDataAll,e.$t("menu.ComeTrainList.5ncy6gwx8iw0"))}}},[e._v(e._s(e.$t("menu.ComeTrainList.5nrnblmzsq40")))])],1),e._v(" "),a("div",{staticClass:"top-tool-table"},[a("el-table",{ref:"intable",staticStyle:{width:"100%"},attrs:{data:e.intable,"row-style":e.elrowstyle,"header-cell-style":e.headerCellFontWeight,"highlight-current-row":!0,border:e.styleCode,height:e.styleCode?e.tableHeight:e.tableHeight+6},on:{"row-click":e.inRowClick,"row-dblclick":e.inRowDblClick}},[a("el-table-column",{attrs:{type:"index",width:"40",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.ComeTrainList.5nrnbln2ufg0"),prop:"perNo","show-overflow-tooltip":"",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.ComeTrainList.5nrnbln3wnk0"),prop:"perName","show-overflow-tooltip":"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblmtr0o0"),prop:"perStatus","show-overflow-tooltip":"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.ComeTrainList.5nrnbln624c0"),prop:"perWard","show-overflow-tooltip":"",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.ComeTrainList.5nrnbln7jso0"),prop:"perHireJob","show-overflow-tooltip":"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.ComeTrainList.5nrnbln96s40"),prop:"perAcade","show-overflow-tooltip":"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblna8ds0"),prop:"perUnit","show-overflow-tooltip":"",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblnb96s0"),prop:"perTrainStDate","show-overflow-tooltip":"",width:"130",formatter:e.PTableDateHisShow}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblnc9aw0"),prop:"perTrainEndDate",formatter:e.PTableDateHisShow}}),e._v(" "),e._e()],1),e._v(" "),a("hgpagination",{attrs:{styleCode:e.styleCode,sizes:[20,40,50,100],totalCount:e.inTotalCount,pageNumber:e.inCurrentPage,pageSize:e.inPageSize},on:{changePage:e.inCurrentChange,getPageSize:e.inSizeChange}})],1),e._v(" "),a("div",{staticClass:"cometrainedit"},[a("el-dialog",{attrs:{title:0==e.winFlag?e.$t("menu.ComeTrainList.5nrnblmzrw00"):e.$t("menu.ComeTrainList.5nrnblmzsdc0"),width:"744px",modal:"","close-on-click-modal":!1,visible:e.dialogInTrainVisible},on:{"update:visible":function(t){e.dialogInTrainVisible=t}}},[a("div",{staticClass:"dialog-header-title",attrs:{slot:"title"},slot:"title"},[e.styleCode?a("i",{class:[0==e.winFlag?"nm-icon-w-plus":"nm-icon-w-edit"]}):e._e(),e._v(" "),0==e.winFlag?a("span",[e._v(e._s(e.$t("menu.ComeTrainList.5nrnblmzrw00")))]):1==e.winFlag?a("span",[e._v(e._s(e.$t("menu.ComeTrainList.5nrnblmzsdc0")))]):e._e()]),e._v(" "),a("hgpanel",{staticStyle:{width:"100%"},attrs:{title:e.$t("menu.ComeTrainList.5nrnblnduqo0"),styleCode:e.styleCode,icon:"#nm-icon-paper-table",panelHeight:341}},[a("div",[a("el-form",{ref:"inForm",staticStyle:{"padding-top":"5px"},attrs:{model:e.inForm,rules:e.inFormRules,inline:"","label-position":"right","label-width":"90px",align:"left"}},[a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnbln3wnk0"),prop:"PerName"}},[a("el-input",{staticStyle:{width:"140px"},attrs:{disabled:e.isShowFlag,size:"mini"},model:{value:e.inForm.PerName,callback:function(t){e.$set(e.inForm,"PerName",t)},expression:"inForm.PerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnbln2ufg0"),prop:"PerNo"}},[a("el-input",{staticStyle:{width:"140px"},attrs:{disabled:e.isShowFlag,size:"mini"},model:{value:e.inForm.PerNo,callback:function(t){e.$set(e.inForm,"PerNo",t)},expression:"inForm.PerNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblnhjrs0"),prop:"PerCardId"}},[a("el-input",{staticStyle:{width:"140px"},attrs:{size:"mini"},on:{change:function(t){return e.GetOtherInfor(e.inForm.PerCardId)}},model:{value:e.inForm.PerCardId,callback:function(t){e.$set(e.inForm,"PerCardId",t)},expression:"inForm.PerCardId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblnj0n40"),prop:"PerSexDR"}},[a("el-select",{staticStyle:{width:"140px"},attrs:{disabled:"",size:"mini"},model:{value:e.inForm.PerSexDR,callback:function(t){e.$set(e.inForm,"PerSexDR",t)},expression:"inForm.PerSexDR"}},e._l(e.sexstore,function(e){return a("el-option",{key:e.SubValue,attrs:{label:e.SubDesc,value:e.SubValue}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblnklg80"),prop:"PerBirthday"}},[a("el-date-picker",{staticStyle:{width:"140px"},attrs:{disabled:"",type:"date",format:e.DateFormat,size:"mini"},model:{value:e.inForm.PerBirthday,callback:function(t){e.$set(e.inForm,"PerBirthday",t)},expression:"inForm.PerBirthday"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblnm4lk0"),prop:"PerAge"}},[a("el-input",{staticStyle:{width:"140px"},attrs:{disabled:"",size:"mini"},model:{value:e.inForm.PerAge,callback:function(t){e.$set(e.inForm,"PerAge",t)},expression:"inForm.PerAge"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnbln96s40"),prop:"PerCurrentAcade"}},[a("el-select",{staticStyle:{width:"140px"},attrs:{filterable:"",clearable:"",size:"mini"},model:{value:e.inForm.PerCurrentAcade,callback:function(t){e.$set(e.inForm,"PerCurrentAcade",t)},expression:"inForm.PerCurrentAcade"}},e._l(e.acadestore,function(e){return a("el-option",{key:e.SubValue,attrs:{label:e.SubDesc,value:e.SubValue}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnbln7jso0"),prop:"PerHireJob"}},[a("el-select",{staticStyle:{width:"140px"},attrs:{filterable:"",clearable:"",size:"mini"},model:{value:e.inForm.PerHireJob,callback:function(t){e.$set(e.inForm,"PerHireJob",t)},expression:"inForm.PerHireJob"}},e._l(e.hirejobstore,function(e){return a("el-option",{key:e.SubValue,attrs:{label:e.SubDesc,value:e.SubValue}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblmzp500"),prop:"PerDepDR"}},[a("el-select",{staticStyle:{width:"140px"},attrs:{disabled:e.isShowFlag,filterable:"",clearable:"",size:"mini"},model:{value:e.inForm.PerDepDR,callback:function(t){e.$set(e.inForm,"PerDepDR",t)},expression:"inForm.PerDepDR"}},e._l(e.wardstore,function(e){return a("el-option",{key:e.rw,attrs:{label:e.WardDesc,value:e.rw}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblnb96s0"),prop:"PerTrainStDate"}},[a("el-date-picker",{staticStyle:{width:"140px"},attrs:{disabled:e.isShowFlag,type:"date",format:e.DateFormat,size:"mini"},on:{change:e.trainStDateChange},model:{value:e.inForm.PerTrainStDate,callback:function(t){e.$set(e.inForm,"PerTrainStDate",t)},expression:"inForm.PerTrainStDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblnc9aw0"),prop:"PerTrainEndDate"}},[a("el-date-picker",{staticStyle:{width:"140px"},attrs:{disabled:e.isShowFlag,type:"date",format:e.DateFormat,size:"mini"},on:{change:e.trainEndDateChange},model:{value:e.inForm.PerTrainEndDate,callback:function(t){e.$set(e.inForm,"PerTrainEndDate",t)},expression:"inForm.PerTrainEndDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblnxilg0"),prop:"PerTrainFee"}},[a("el-input",{staticStyle:{width:"140px"},attrs:{size:"mini"},model:{value:e.inForm.PerTrainFee,callback:function(t){e.$set(e.inForm,"PerTrainFee",t)},expression:"inForm.PerTrainFee"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblna8ds0"),prop:"PerUnit"}},[a("el-input",{staticStyle:{width:"380px"},attrs:{size:"mini"},model:{value:e.inForm.PerUnit,callback:function(t){e.$set(e.inForm,"PerUnit",t)},expression:"inForm.PerUnit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblnyzks0"),prop:"PerPhone"}},[a("el-input",{staticStyle:{width:"140px"},attrs:{size:"mini"},model:{value:e.inForm.PerPhone,callback:function(t){e.$set(e.inForm,"PerPhone",t)},expression:"inForm.PerPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblo0ol80"),prop:"PerRemark"}},[a("el-input",{staticStyle:{width:"620px"},attrs:{size:"mini"},model:{value:e.inForm.PerRemark,callback:function(t){e.$set(e.inForm,"PerRemark",t)},expression:"inForm.PerRemark"}})],1)],1)],1)]),e._v(" "),a("hgpanel",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{title:e.$t("menu.ComeTrainList.5ncy6gwzyuc0"),styleCode:e.styleCode,icon:"#nm-icon-paper-table",panelHeight:302}},[a("div",{staticClass:"top-tool-button"},[this.elementlist.TransAdd||0==e.LoginId?a("hgbutton",{ref:"TransAdd",attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-add":"nm-icon-lite-add"},on:{click:e.TransAdd}},[e._v(e._s(e.$t("menu.ComeTrainList.5nrnblmzrw00")))]):e._e(),e._v(" "),this.elementlist.TransDelete||0==e.LoginId?a("hgbutton",{ref:"TransDelete",attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-cancel":"nm-icon-lite-cancel"},on:{click:e.TransDelete}},[e._v(e._s(e.$t("menu.ComeTrainList.5nrnblo0t0k0")))]):e._e(),e._v(" "),this.elementlist.TransSave||0==e.LoginId?a("hgbutton",{directives:[{name:"intervalclick",rawName:"v-intervalclick",value:{func:e.TransSave,time:500,value:"N"},expression:"{func:TransSave,time:500,value:'N'}"}],ref:"TransSave",attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-save":"nm-icon-lite-save"}},[e._v(e._s(e.$t("menu.ComeTrainList.5nrnblo0uc00")))]):e._e(),e._v(" "),this.elementlist.TransSubmit||0==e.LoginId?a("hgbutton",{directives:[{name:"intervalclick",rawName:"v-intervalclick",value:{func:e.TransSave,time:500,value:"Y"},expression:"{func:TransSave,time:500,value:'Y'}"}],ref:"TransSubmit",attrs:{type:"text",issvg:e.styleCode,icon:e.styleCode?"#nm-icon-submit":"nm-icon-lite-submit"}},[e._v(e._s(e.$t("menu.ComeTrainList.5nrnblo0v6c0")))]):e._e(),e._v(" "),a("el-tooltip",{staticStyle:{"vertical-align":"middle"},style:{color:e.styleCode?"#40A2DE":"#339eff"},attrs:{effect:"dark","popper-class":"SubTypeTitle",content:e.$t("menu.ComeTrainList.5ncy6gx02do0"),placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"20px"}})])],1),e._v(" "),a("div",{staticClass:"top-tool-table dialog-table-bottom-radius"},[a("el-table",{attrs:{data:e.transtable,"row-style":e.elrowstyle,"header-cell-style":e.headerCellFontWeight,"highlight-current-row":!0,border:e.styleCode,height:e.styleCode?196:203},on:{"selection-change":e.selectionchange,"row-click":e.TransRowClick}},[a("el-table-column",{attrs:{type:"selection",width:"40",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblo411k0"),prop:"Ward",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{size:"mini",disabled:"true"==t.row.disable,clearable:"",filterable:""},model:{value:t.row.Ward,callback:function(a){e.$set(t.row,"Ward",a)},expression:"scope.row.Ward"}},e._l(e.wardstore,function(e){return a("el-option",{key:e.rw,attrs:{label:e.WardDesc,value:e.rw}})}),1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblnb96s0"),prop:"TransStDate",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:"true"==t.row.disable,"picker-options":e.pickerOptions,type:"date",format:e.DateFormat,size:"mini"},on:{change:function(a){return e.transStDateChange(t.row.TransStDate,t.$index)}},model:{value:t.row.TransStDate,callback:function(a){e.$set(t.row,"TransStDate",a)},expression:"scope.row['TransStDate']"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblnc9aw0"),prop:"TransEndDate",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:"true"==t.row.disable,"picker-options":e.pickerOptions,type:"date",format:e.DateFormat,size:"mini"},on:{change:function(a){return e.transEndDateChange(t.row.TransEndDate,t.$index)}},model:{value:t.row.TransEndDate,callback:function(a){e.$set(t.row,"TransEndDate",a)},expression:"scope.row['TransEndDate']"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("menu.ComeTrainList.5nrnblo87xg0"),prop:"Teacher"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"",disabled:"true"==t.row.disable,clearable:"",placeholder:e.$t("menu.ComeTrainList.5nrnblmvbl80"),size:"mini"},on:{focus:function(a){return e.focusLoadTeacher(t.row.Ward)}},model:{value:t.row.Teacher,callback:function(a){e.$set(t.row,"Teacher",a)},expression:"scope.row.Teacher"}},e._l(e.teacherlist,function(e){return a("el-option",{key:e.rowid,attrs:{label:e.PerName,value:e.rowid}})}),1)]}}])}),e._v(" "),e._e()],1),e._v(" "),a("hgpagination",{attrs:{styleCode:e.styleCode,sizes:[20,40,50,100],totalCount:e.transTotalCount,pageNumber:e.transCurrentPage,pageSize:e.transPageSize},on:{changePage:e.transCurrentChange,getPageSize:e.transSizeChange}})],1)]),e._v(" "),a("div",{staticClass:"bottom-button"},[a("hgbutton",{directives:[{name:"intervalclick",rawName:"v-intervalclick",value:{func:e.saveInTrain,time:500},expression:"{func:saveInTrain,time:500}"}],attrs:{type:e.styleCode?"default":"success",styleCode:e.styleCode}},[e._v(e._s(e.$t("menu.ComeTrainList.5nrnblo0uc00")))]),e._v(" "),a("hgbutton",{attrs:{type:"default",styleCode:e.styleCode},on:{click:function(t){e.dialogInTrainVisible=!1}}},[e._v(e._s(e.$t("menu.ComeTrainList.5nrnblo9e6g0")))])],1)],1)],1)])},staticRenderFns:[]};var d=a("VU/8")(c,m,!1,function(e){a("61KJ")},null,null);t.default=d.exports}});