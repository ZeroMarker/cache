webpackJsonp([274],{KRfk:function(e,t){},P5XB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Gu7T"),n=a.n(i),l=a("Dd8w"),s=a.n(l),o=a("XlQt"),r=a("W5Fe"),c=a("NYxO"),h={computed:s()({},Object(c.b)(["styleCode"])),components:{hgbutton:o.default,hgpagination:r.default},props:["ReleaseId","ExamineeListDesc","ExamineeWardDesc","UserType"],data:function(){return{findTypeStore:[{rw:"护士层级",desc:"层级"},{rw:"专科方向",desc:"专科"},{rw:"聘任职称",desc:"职称"},{rw:"职务",desc:"职务"}],bankTableData:[],showTableData:[],tableData:[],currentPage:1,allCheck:!1,totalCount:0,finds:{type:"",input:""},findsRight:{input:""},bankTableDataRight:[],showTableDataRight:[],tableDataRight:[],currentPageRight:1,allCheckRight:!1,totalCountRight:0,selRows:[],selRowsRight:[],rightPageSize:20,rightCurrentPage:1,leftPageSize:20,leftCurrentPage:1,totalCountLeft:0}},created:function(){this.LoadTableData(),this.LoadTableDataRight()},methods:{CloseClick:function(){this.$emit("CloseClick")},SaveClick:function(){var e=this,t="";e.bankTableDataRight.forEach(function(e){var a=e.UserId+"|"+e.wardId;t=""==t?a:t+"^"+a});var a="SaveReleaseExaminee";"D"==this.UserType&&(a="SaveDrillReleaseExaminee");var i=e.axiosConfig("web.INMTeaComm",a,"Method","parr$"+t,"rw$"+e.ReleaseId,"UserType$"+e.UserType);e.$ajax.request(i).then(function(t){1==t.data?(e.$message({message:"操作成功！",type:"success",showClose:!0,customClass:"success_class"}),e.CloseClick()):t.data.length<100?e.$message({type:"warning",message:t.data,showClose:!0,customClass:"warning_class"}):e.$message({type:"warning",message:"后台方法错了^_^",showClose:!0,customClass:"warning_class"})}).catch(function(t){e.$message({type:"warning",message:"操作失败！",showClose:!0,customClass:"warning_class"})})},RowClick:function(e,t,a){1!=e.isSelect&&this.$refs.tableData.toggleRowSelection(e)},GetSelectAble:function(e,t){return 1!=e.isSelect},GetSelectAbleRight:function(e,t){return 1!=e.isUsed},RowClickRight:function(e,t,a){this.$refs.tableDataRight.toggleRowSelection(e)},MoveRight:function(){var e=this;e.allCheck?e.bankTableDataRight=[].concat(n()(e.showTableData)):e.selRows.forEach(function(t){var a=!1;e.bankTableDataRight.forEach(function(e){e.UserId==t.UserId&&(a=!0)}),a||e.bankTableDataRight.push(t)}),e.MoveFilterData()},MoveLeft:function(){var e=new Array,t=new Array;t=this.allCheckRight?[].concat(n()(this.showTableDataRight)):[].concat(n()(this.selRowsRight));for(var a=0;a<this.bankTableDataRight.length;a++)(t.indexOf(this.bankTableDataRight[a])<0||1==this.bankTableDataRight[a].isUsed)&&e.push(this.bankTableDataRight[a]);this.bankTableDataRight=e,this.MoveFilterData()},MoveFilterData:function(){var e=this;e.bankTableData.forEach(function(t,a){var i=!1;e.bankTableDataRight.forEach(function(e){e.UserId!=t.UserId||(i=!0)}),e.bankTableData[a].isSelect=!!i&&1}),e.FilterTableData(""),e.FilterTableData("Right")},FilterTableData:function(e){var t=new Array,a=[].concat(n()(this["bankTableData"+e])),i=this["finds"+e].input;(i=i||"")?(i=i.toLocaleUpperCase(),a.forEach(function(e){(e.UserCode.indexOf(i)>=0||e.UserName.indexOf(i)>=0||e.UserSehll.indexOf(i)>=0)&&t.push(e)})):t=[].concat(n()(a)),this["showTableData"+e]=t,this["totalCount"+e]=t.length,this["currentPage"+e]=1,this["selRows"+e]=new Array,this["allCheck"+e]=!1,this["tableData"+e]=t.slice(0,20)},LoadTableData:function(){var e=this,t=e.finds,a=(t.type,t.input);a=a||"",a="";var i=e.ReleaseId+"^"+e.UserType,n=e.axiosConfig("web.INMTeaComm","FindExamineeList","RecQuery","parr$"+i,"input$"+a,"start$0","limit$10000");e.$ajax.request(n).then(function(t){e.bankTableData=t.data.rows,e.FilterTableData("")}).catch(function(e){})},LoadTableDataRight:function(){var e=this,t=e.finds,a=(t.type,t.input);a=a||"",a="";var i=e.ReleaseId+"^"+e.UserType,n=e.axiosConfig("web.INMTeaComm","FindSelectExamineeList","RecQuery","parr$"+i,"input$"+a,"start$0","limit$10000");e.$ajax.request(n).then(function(t){e.bankTableDataRight=t.data.rows,e.FilterTableData("Right")}).catch(function(e){})},handleSelectionChange:function(e,t){this["selRows"+t]=e},SetSelectAll:function(e){this.$refs["tableData"+e].clearSelection(),this["allCheck"+e]?this.$refs["tableData"+e].toggleAllSelection():this.$refs["tableData"+e].clearSelection()},HandleCurrentChange:function(e,t){this["currentPage"+t]=e;var a=20*(e-1);this["tableData"+t]=this["showTableData"+t].slice(a,a+20),this.SetSelectAll(t)},HandleRightCurrentChange:function(e){this.rightCurrentPage=e.currentPage;var t=(e.currentPage-1)*this.rightPageSize;this.tableDataRight=this.showTableDataRight.slice(t,t+this.rightPageSize),this.SetSelectAll("Right")},HandleRightSizeChange:function(e){this.rightPageSize=e;var t=(this.rightCurrentPage-1)*this.rightPageSize;this.tableDataRight=this.showTableDataRight.slice(t,t+this.rightPageSize),this.SetSelectAll("Right")},HandleLeftCurrentChange:function(e){this.currentPage=e.currentPage;var t=(e.currentPage-1)*this.leftPageSize;this.tableData=this.showTableData.slice(t,t+this.leftPageSize),this.SetSelectAll("")},HandleLeftSizeChange:function(e){this.leftPageSize=e;var t=(this.currentPage-1)*this.leftPageSize;this.tableData=this.showTableData.slice(t,t+this.leftPageSize),this.SetSelectAll("")},GetRowKey:function(e){return e.UserId}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"examinee-panel"},[a("div",{staticClass:"top-tool-button",staticStyle:{"border-bottom":"0",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","font-size":"14px"}},[a("el-tooltip",{attrs:{placement:"top",content:e.ExamineeListDesc+e.$t("menu.Examinee.5ncy6v4b1gc0")+(e.ExamineeWardDesc?e.ExamineeWardDesc:e.$t("menu.Examinee.5nrnc8xl56k0"))}},[a("span",[a("font",{staticStyle:{"margin-right":"10px",color:"#000","margin-left":"10px"}},[e._v(e._s(e.$t("menu.Examinee.5ncy6v4b0mg0")))]),a("span",{staticStyle:{color:"#000"}},[e._v(e._s(e.ExamineeListDesc)+e._s(e.$t("menu.Examinee.5ncy6v4b1gc0"))+e._s(e.ExamineeWardDesc?e.ExamineeWardDesc:e.$t("menu.Examinee.5nrnc8xl56k0")))])],1)])],1),e._v(" "),a("el-row",{staticStyle:{padding:"0px 10px 10px 10px"},attrs:{gutter:12}},[a("el-col",{attrs:{span:11}},[a("div",{staticClass:"top-tool-table-dialog-top dialog-div-top-radius"},[a("el-form",{ref:"finds",attrs:{model:e.finds,inline:!0},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",[a("el-checkbox",{on:{change:function(t){return e.SetSelectAll("")}},model:{value:e.allCheck,callback:function(t){e.allCheck=t},expression:"allCheck"}},[e._v(e._s(e.$t("menu.Examinee.5ncy6v4e7bs0")))])],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{"suffix-icon":"nm-icon-w-find",size:"mini",placeholder:e.$t("menu.Examinee.5nrnc8xnan40")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.FilterTableData("")}},model:{value:e.finds.input,callback:function(t){e.$set(e.finds,"input",t)},expression:"finds.input"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"top-tool-dialog-table dialog-table-bottom-radius"},[a("el-table",{ref:"tableData",attrs:{data:e.tableData,height:380,border:e.styleCode,"header-cell-style":e.headerCellFontWeight,"highlight-current-row":"",align:"left",label:e.$t("menu.Examinee.5nrnc8xob6w0"),"row-key":e.GetRowKey},on:{"row-click":e.RowClick,"selection-change":function(t){return e.handleSelectionChange(t,"")}}},[a("el-table-column",{attrs:{type:"selection",width:"35",selectable:e.GetSelectAble,align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"UserCode",label:e.$t("menu.Examinee.5nrnc8xpt7s0"),width:"80px","show-overflow-tooltip":"",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"UserName",label:e.$t("menu.Examinee.5nrnc8xraxc0"),width:"80px","show-overflow-tooltip":"",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"defaultDesc",label:e.$t("menu.Examinee.5nrnc8xt7yo0"),width:"100px","show-overflow-tooltip":"",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"wardDesc",label:e.$t("menu.Examinee.5nrnc8xuojk0"),width:"","show-overflow-tooltip":"",align:"left"}})],1),e._v(" "),a("hgpagination",{attrs:{styleCode:e.styleCode,sizes:[20,40,50,100],totalCount:e.totalCount,pageNumber:e.currentPage,pageSize:e.leftPageSize},on:{changePage:e.HandleLeftCurrentChange,getPageSize:e.HandleLeftSizeChange}})],1)]),e._v(" "),a("el-col",{attrs:{span:2}},[a("div",{staticStyle:{height:"430px",width:"100%"}},[a("div",{staticStyle:{"text-align":"center",width:"100%","padding-top":"200px"}},[a("hgbutton",{staticStyle:{"margin-right":"0"},attrs:{type:"default",disabled:!e.selRows||0==e.selRows.length},on:{click:e.MoveRight}},[e.styleCode?a("i",[e._v("→")]):a("i",{staticClass:"nm-icon-lite-right-arrow"})])],1),e._v(" "),a("div",{staticStyle:{"text-align":"center",width:"100%","margin-top":"20px"}},[a("hgbutton",{staticStyle:{"margin-right":"0"},attrs:{type:"default",disabled:!e.selRowsRight||0==e.selRowsRight.length},on:{click:e.MoveLeft}},[e.styleCode?a("i",[e._v("←")]):a("i",{staticClass:"nm-icon-lite-left-arrow"})])],1)])]),e._v(" "),a("el-col",{attrs:{span:11}},[a("div",{staticClass:"top-tool-table-dialog-top dialog-div-top-radius"},[a("el-form",{ref:"findsRight",attrs:{model:e.findsRight,inline:!0},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:""}},[a("el-checkbox",{on:{change:function(t){return e.SetSelectAll("Right")}},model:{value:e.allCheckRight,callback:function(t){e.allCheckRight=t},expression:"allCheckRight"}},[e._v(e._s(e.$t("menu.Examinee.5ncy6v4e7bs0")))])],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{"suffix-icon":"nm-icon-w-find",size:"mini",placeholder:e.$t("menu.Examinee.5nrnc8xnan40")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.FilterTableData("Right")}},model:{value:e.findsRight.input,callback:function(t){e.$set(e.findsRight,"input",t)},expression:"findsRight.input"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"top-tool-dialog-table dialog-table-bottom-radius"},[a("el-table",{ref:"tableDataRight",attrs:{data:e.tableDataRight,height:380,border:e.styleCode,"highlight-current-row":"",align:"left",label:e.$t("menu.Examinee.5nrnc8xob6w0"),"header-cell-style":e.headerCellFontWeight,"row-key":e.GetRowKey},on:{"row-click":e.RowClickRight,"selection-change":function(t){return e.handleSelectionChange(t,"Right")}}},[a("el-table-column",{attrs:{type:"selection",width:"35",selectable:e.GetSelectAbleRight,align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"UserCode",label:e.$t("menu.Examinee.5nrnc8xpt7s0"),width:"80px","show-overflow-tooltip":"",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"UserName",label:e.$t("menu.Examinee.5nrnc8xraxc0"),width:"80px","show-overflow-tooltip":"",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"defaultDesc",label:e.$t("menu.Examinee.5nrnc8xt7yo0"),width:"100px","show-overflow-tooltip":"",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{prop:"wardDesc",label:e.$t("menu.Examinee.5nrnc8xuojk0"),width:"","show-overflow-tooltip":"",align:"left"}})],1),e._v(" "),a("hgpagination",{attrs:{styleCode:e.styleCode,sizes:[20,40,50,100],totalCount:e.totalCountRight,pageNumber:e.rightCurrentPage,pageSize:e.rightPageSize},on:{changePage:e.HandleRightCurrentChange,getPageSize:e.HandleRightSizeChange}})],1)])],1),e._v(" "),a("div",{staticClass:"bottom-button"},[a("hgbutton",{directives:[{name:"intervalclick",rawName:"v-intervalclick",value:{func:e.SaveClick,time:500},expression:"{func:SaveClick,time:500}"}],attrs:{type:"default"}},[e._v(e._s(e.$t("menu.Examinee.5nrnc8y1u0s0")))]),e._v(" "),a("hgbutton",{attrs:{type:"default"},on:{click:e.CloseClick}},[e._v(e._s(e.$t("menu.Examinee.5nrnc8y1v9g0")))])],1)],1)},staticRenderFns:[]};var u=a("VU/8")(h,g,!1,function(e){a("KRfk")},null,null);t.default=u.exports}});