webpackJsonp([268],{D10J:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("Dd8w"),s=e.n(n),r=e("NYxO"),o={components:{hgbutton:e("XlQt").default},computed:s()({},Object(r.b)(["Height","SysTomcat","LoginId","DateFormat"])),name:"InternTransPlanPrint",props:["cycledata","plandesc","show","plan"],data:function(){return{elrowstyle:{height:"30px"},elementlist:[],transsubData:[]}},created:function(){this.loadTable();var t=this.$router.currentRoute.path.slice(1,this.$router.currentRoute.path.length);this.loadElementsForRouter("elementlist",t)},methods:{loadTable:function(){var t=this;t.$ajax.request(t.axiosConfig("web.INMInternComm","FindPlanSub","RecQuery","parr$"+t.plan)).then(function(a){if(a.data.rows.length>0)for(var e=a.data.rows[0].PlanGroupDR,n={groupDesc:a.data.rows[0].groupDesc,groupId:a.data.rows[0].PlanGroupDR,disable:a.data.rows[0].disable,PlanDesc:a.data.rows[0].PlanDesc},s={groupDesc:a.data.rows[0].groupDesc,groupId:a.data.rows[0].PlanGroupDR,disable:a.data.rows[0].disable,PlanDesc:a.data.rows[0].PlanDesc},r=0;r<a.data.rows.length;r++){a.data.rows[r].PlanGroupDR!=e&&(e=a.data.rows[r].PlanGroupDR,n={groupDesc:a.data.rows[r].groupDesc,groupId:a.data.rows[r].PlanGroupDR,disable:a.data.rows[r].disable,PlanDesc:a.data.rows[r].PlanDesc},s={groupDesc:a.data.rows[r].groupDesc,groupId:a.data.rows[r].PlanGroupDR,disable:a.data.rows[r].disable,PlanDesc:a.data.rows[r].PlanDesc});for(var o=0;o<t.cycledata.length;o++)n[t.cycledata[o].TimeCode]||t.$set(n,t.cycledata[o].TimeCode,a.data.rows[r][t.cycledata[o].TimeCode].split("#")[4]),s[t.cycledata[o].TimeCode]||t.$set(s,t.cycledata[o].TimeCode,a.data.rows[r][t.cycledata[o].TimeCode].split("#")[1]+"#"+a.data.rows[r][t.cycledata[o].TimeCode].split("#")[2]);t.transsubData.push(n),t.transsubData.push(s)}})},Print:function(){var t=window.open("打印窗口","_blank"),a=document.getElementById("div-print").innerHTML;t.document.write(a),t.document.close(),t.print(),t.close()}}},d={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"intern-trans-print"},[e("div",{staticClass:"top-tool-button",staticStyle:{"padding-left":"0","margin-bottom":"10px"}},[this.elementlist.Print||0==t.LoginId?e("hgbutton",{ref:"Print",attrs:{type:"default"},on:{click:t.Print}},[t._v(t._s(t.$t("menu.InternTransPlanPrint.5nrnbn4r9tw0")))]):t._e()],1),t._v(" "),e("div",{ref:"divPrint",attrs:{id:"div-print"}},[e("table",{staticStyle:{width:"100%"},attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[e("caption",[e("span",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[t._v(t._s(t.plandesc)+t._s(t.$t("menu.InternTransPlanPrint.5ncy6idyfko0")))])]),t._v(" "),e("thead",[e("tr",[e("th",{attrs:{width:"70px"}},[t._v(t._s(t.$t("menu.InternTransPlanPrint.5nrnbn4rcmw0")))]),t._v(" "),t._l(t.cycledata,function(a){return e("th",{key:a.RowID,attrs:{width:"150px"}},[t._v(t._s(a.TimeDesc))])})],2)]),t._v(" "),e("tbody",t._l(t.transsubData,function(a,n){return e("tr",{key:n},[(n+1)%2==1?e("td",{attrs:{rowspan:"2"}},[t._v("\n                        "+t._s(a.groupDesc)+"\n                    ")]):t._e(),t._v(" "),t._l(t.cycledata,function(s){return e("td",{key:s.RowID},[(n+1)%2==1?e("span",[e("span",[t._v(t._s(a[s.TimeCode]))])]):t.show?e("span",[e("span",[t._v(t._s(a[s.TimeCode].split("#")[1].split("「")[0]))]),e("br"),t._v(" "),e("span",[t._v(t._s(a[s.TimeCode].split("#")[1].split("「")[1]))])]):e("span",[e("span",[t._v(t._s(a[s.TimeCode].split("#")[0]))])])])})],2)}),0)])])])},staticRenderFns:[]};var i=e("VU/8")(o,d,!1,function(t){e("wUwh")},null,null);a.default=i.exports},wUwh:function(t,a){}});