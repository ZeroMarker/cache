webpackJsonp([261],{kzuM:function(t,e){},ty01:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l("Dd8w"),i=l.n(a),o=(l("zL8q"),l("NYxO")),s=l("z8xk"),n=l("XlQt"),r={props:["treedata"],components:{hgpanel:s.default,hgbutton:n.default},computed:i()({},Object(o.b)(["styleCode"])),data:function(){return{defaultProps:{children:"children",label:"label"},selectNode:{id:"",level:1,stopFlag:!1,endFlag:0},selectSubNode:{id:"",label:""},treeInput:"",tableData:[],subFinds:{input:""},selRow:""}},watch:{},methods:{SaveClick:function(){this.selRow?this.$emit("SaveFileClick",this.selRow):this.$message({type:"warning",message:"请选择文件",showClose:!0,customClass:"warning_class"})},CloseClick:function(){this.$emit("CloseFileClick",this.selRow)},RowClick:function(t){this.selRow=t},filterNode:function(t,e){return!t||-1!==e.label.indexOf(t)},FilterTreeClick:function(){var t=this.treeInput;t=t||"",this.$refs.treedata.filter(t)},NodeClick:function(t,e,l){t.children&&0!=t.children.length||(this.selectSubNode.id=t.id,this.selectSubNode.label=t.label,this.FindTableData())},FindTableData:function(){var t=this,e=t.selectSubNode.id;e=e||e;var l=t.subFinds.input,a=e+"^"+(l=l||""),i=t.axiosConfig("web.INMTeaComm","FindDrillFileSubList","RecQuery","parr$"+a,"noStop$1");t.$ajax.request(i).then(function(e){t.selRow="",t.tableData=e.data.rows}).catch(function(t){})}},created:function(){}},c={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"drill-release-file-panel",attrs:{id:"DrillFill"}},[l("el-row",{attrs:{gutter:12}},[l("el-col",{attrs:{span:6}},[l("hgpanel",{staticStyle:{width:"100%"},attrs:{title:"文件夹",styleCode:t.styleCode,icon:"#nm-icon-paper",panelHeight:500}},[l("div",{staticClass:"panel-button-space",staticStyle:{"text-align":"left"},attrs:{slot:"tool"},slot:"tool"},[l("el-input",{attrs:{placeholder:"请输入描述(Enter)",size:"mini","suffix-icon":t.styleCode?"nm-icon-w-find":"nm-icon-lite-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.FilterTreeClick(e)}},model:{value:t.treeInput,callback:function(e){t.treeInput=e},expression:"treeInput"}})],1),t._v(" "),l("div",[l("el-tree",{ref:"treedata",staticClass:"dialog-table-bottom-radius",staticStyle:{"overflow-y":"auto",height:"414px"},attrs:{data:t.treedata,"default-expand-all":"","node-key":"id","filter-node-method":t.filterNode,"highlight-current":"",props:t.defaultProps},on:{"node-click":t.NodeClick},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.node,i=e.data;return l("span",{staticClass:"custom-tree-node"},[l("span",[t._v(t._s(a.label))]),t._v(" "),1==i.stopFlag?l("i",{staticClass:"el-icon-remove",staticStyle:{color:"#FF0000"}}):t._e()])}}])})],1)])],1),t._v(" "),l("el-col",{attrs:{span:18}},[l("hgpanel",{staticStyle:{width:"100%"},attrs:{title:"课件",styleCode:t.styleCode,icon:"#nm-icon-paper",panelHeight:500}},[l("div",{staticClass:"panel-button-space",staticStyle:{"text-align":"left"},attrs:{slot:"tool"},slot:"tool"},[l("el-input",{staticStyle:{width:"180px"},attrs:{placeholder:"文件名关键字",size:"mini","suffix-icon":t.styleCode?"nm-icon-w-find":"nm-icon-lite-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.FindTableData(e)}},model:{value:t.subFinds.input,callback:function(e){t.$set(t.subFinds,"input",e)},expression:"subFinds.input"}})],1),t._v(" "),l("div",{staticClass:"top-tool-table dialog-table-bottom-radius"},[l("el-table",{staticClass:"dialog-table-bottom-radius",attrs:{data:t.tableData,height:"416px",border:t.styleCode,"header-cell-style":t.headerCellFontWeight,"highlight-current-row":"","show-overflow-tooltip":"",align:"left"},on:{"row-click":t.RowClick}},[l("el-table-column",{attrs:{prop:"SubDesc",label:"文件名",width:"","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"CreatorName",label:"上传人",width:"120"}}),t._v(" "),l("el-table-column",{attrs:{prop:"CreatDate",label:"上传日期",width:"200"}})],1)],1)])],1)],1),t._v(" "),l("div",{staticClass:"bottom-button"},[l("hgbutton",{attrs:{type:t.styleCode?"default":"success",styleCode:t.styleCode},on:{click:t.SaveClick}},[t._v("保存")]),t._v(" "),l("hgbutton",{attrs:{type:"default",styleCode:t.styleCode},on:{click:t.CloseClick}},[t._v("关闭")])],1)],1)},staticRenderFns:[]};var d=l("VU/8")(r,c,!1,function(t){l("kzuM")},null,null);e.default=d.exports}});