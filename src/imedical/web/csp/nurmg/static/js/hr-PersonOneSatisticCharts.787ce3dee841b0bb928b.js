webpackJsonp([310],{"6R7W":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("fZjL"),o=a.n(n),i=(a("48LM"),a("7t+N"),a("Icdr"));a("GbHy"),a("Vb+l"),a("Oq2I"),a("miEh");var l={name:"PersonOneSatisticCharts",props:["data","name","echartsId","typeName","title"],data:function(){return{typeFlag:"pie",noData:!1,lastShowIndex:-1,toolboxKeys:[]}},watch:{data:function(t,e){this.drawCharts()},typeFlag:function(t,e){this.drawCharts()}},methods:{drawCharts:function(){var t=this,e=this;e.lastShowIndex=-1,!e.data||e.data.length<=0?this.noData=!0:(this.noData=!1,e.$nextTick(function(){i.dispose(t.$refs[t.echartsId]);var a=i.init(t.$refs[t.echartsId]),n=[["全部",e.data[0].Total,"100%"]];e.data.forEach(function(t,e,a){n.push([t.Desc,t.Count,0==t.Total?"0.00%":(t.Count/t.Total*100).toFixed(2)+"%"])});var l={title:[{text:e.name,left:"left"}],toolbox:{show:!0,feature:{myTool1:{show:!0,title:"切换为饼状图",icon:"path://M969.000397,478.190934,597.97381,532.751645,918.011019,738.185955C952.100564,666.885689,970.03313,587.751822,970.03313,508.080355,970.03313,498.8416,969.706862,489.102222,969.000397,478.190934L969.000397,478.190934Z,M514.027391,0.079644,527.672644,464.169245,963.355436,400.046934C916.347326,175.758222,731.631499,11.335111,514.027391,0.079644L514.027391,0.079644Z,M453.231119,535.557689,447.390664,371.313778,436.520032,1.824711C190.318996,27.7248,0,247.741155,0,510.852266,0,793.002664,217.598718,1022.5792,485.082627,1022.5792,641.738119,1022.5792,787.687461,943.085509,879.055784,808.880355L453.231119,535.557689,453.231119,535.557689Z",onclick:function(t,a,n){e.typeFlag="pie"}},myTool2:{show:!0,title:"切换为柱状图",icon:"path://M128,896h819.328A12.8,12.8,0,0,1,960,908.352v39.296c0,6.848-5.76,12.352-12.672,12.352H76.672A12.736,12.736,0,0,1,64,947.328V76.672A12.8,12.8,0,0,1,76.352,64h39.296C122.496,64,128,69.76,128,76.672V896z,m64-479.808C192,398.4,205.696,384,224.32,384h63.36c17.856,0,32.32,14.912,32.32,32.192v383.616A31.808,31.808,0,0,1,287.68,832h-63.36A32.576,32.576,0,0,1,192,799.808V416.192z,m192-256.128C384,142.336,397.696,128,416.32,128h63.36c17.856,0,32.32,14.72,32.32,32.064V800a31.744,31.744,0,0,1-32.32,32.064h-63.36A32.384,32.384,0,0,1,384,799.936V160z,m192,383.808c0-17.6,13.696-31.872,32.32-31.872h63.36c17.856,0,32.32,13.76,32.32,31.872v256.256A31.616,31.616,0,0,1,671.68,832h-63.36A31.744,31.744,0,0,1,576,800.128V543.872zM768,352c0-17.664,13.696-32,32.32-32h63.36c17.856,0,32.32,14.72,32.32,32v448c0,17.664-13.696,32-32.32,32h-63.36A32.448,32.448,0,0,1,768,800V352z",onclick:function(t,a,n){e.typeFlag="bar"}},myTool3:{show:!0,title:"数据视图",icon:"path://M701.141333,242.773333h131.285334l-131.285334-132.992V242.773333z,m222.805334,1.578667h0.170666v0.213333l14.549334,14.72V1024H85.333333V0h597.333334l241.28 244.352zM637.141333,64H149.333333v896h725.333334V308.352h-237.525334V64zM213.333333,298.666667h298.666667v64H213.333333V298.666667z,m0,213.333333h597.333334v64H213.333333V512z,m0,213.333333h597.333334v64H213.333333V725.333333z",onclick:function(t,a,n){e.$emit("showDataView",e.typeName,e.name?e.name:e.title)}},myTool4:{show:!0,title:"刷新",icon:"path://M128,518.4c6.4,211.2,172.8,377.6,384,377.6,102.4,0,198.4-38.4,268.8-108.8,12.8-12.8,32-12.8,44.8,0,12.8,12.8,12.8,32,0,44.8-83.2,83.2-198.4,128-313.6,128-243.2,0-441.6-198.4-448-441.6h-64l96-102.4,96,102.4h-64z,m768-6.4c0-211.2-172.8-384-384-384-102.4,0-198.4,38.4-268.8,108.8-12.8,12.8-32,12.8-44.8,0-12.8-12.8-12.8-32,0-44.8,83.2-83.2,198.4-128,313.6-128,249.6,0,448,198.4,448,448h64l-96,102.4-96-102.4h64z",onclick:function(t,a,n){e.$emit("refreshCharts",e.typeName)}},saveAsImage:{show:!0,icon:"path://M534.068472,0m38.147748,0l0,0q38.147748,0,38.147748,38.147748l0,610.363968q0,38.147748-38.147748,38.147748l0,0q-38.147748,0-38.147748-38.147748l0-610.363968q0-38.147748,38.147748-38.147748Z,M574.4574,680.269716l296.169579-296.169578a38.147748,38.147748,0,1,1,53.979064,53.931379l-323.683642,323.683642a38.147748,38.147748,0,0,1-58.795217-5.817532L223.641173,437.268562a38.147748,38.147748,0,1,1,53.883694-53.931379l296.980218,296.932533z,M29.51682,915.736691m38.147748,0l991.841448,0q38.147748,0,38.147748,38.147748l0,0q0,38.147748-38.147748,38.147748l-991.841448,0q-38.147748,0-38.147748-38.147748l0,0q0-38.147748,38.147748-38.147748Z",title:"下载",name:e.title}}},tooltip:{trigger:"item",formatter:function(t){return"custom"==t.seriesType?"":e.data[t.dataIndex].Desc+"<br/>"+e.data[t.dataIndex].Count+"<br/>"+(0==e.data[t.dataIndex].Total?"0.00%":(e.data[t.dataIndex].Count/e.data[t.dataIndex].Total*100).toFixed(2)+"%")}},series:[{name:"",type:"custom",data:n,coordinateSystem:"none",tooltip:{formatter:function(t){if(!isNaN(parseInt(t.dataIndex))&&t.dataIndex>=0)return e.lastShowIndex>=0&&t.dataIndex>=e.lastShowIndex?"点击数据视图查看更多数据":t.value.join("<br/>")}},renderItem:function(t,a){var o=a.getWidth(),i=a.getHeight(),l=void 0;l=0==t.dataIndex?.4*i:.4*i+22*t.dataIndex+2;var s=.7*o,r=n[t.dataIndex],d=new Array,h="#808080";if(l+22<i){if(0==t.dataIndex){for(var c=s;c<o;){var p=c;if(p=c+5>o?o:c+5,d.push({type:"line",shape:{x1:c,y1:l+22-2,x2:p,y2:l+22-2},style:{stroke:"#808080",lineWidth:1}}),(c=p+2.5)>=o)break}h="#000"}var u="";u=r[0].length>4?-1!=r[0].indexOf("-")?r[0].substr(0,6):r[0].substr(0,4):r[0],d.push({type:"text",style:{text:u,font:"caption",fill:h,x:s,y:l}}),d.push({type:"text",style:{text:r[1],font:"caption",x:.83*o,y:l}}),d.push({type:"text",style:{text:r[2],font:"caption",x:.9*o,y:l}})}else e.lastShowIndex=t.dataIndex,d.push({type:"text",style:{text:"......",font:"caption",fill:h,x:s,y:i-22+10}});return{type:"group",children:d}}}]};"bar"==e.typeFlag?(l.grid=[{x:"0%",x2:"40%",y2:"8%"}],l.xAxis=[{type:"category",data:e.data.map(function(t,e,a){return t.Desc}),axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#ddd"}},splitLine:{show:!1},axisLabel:{show:!0,fontSize:12,color:"black",overflow:"truncate",align:"left",interval:"auto"}}],l.yAxis=[{minInterval:1,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}}],l.series.push({name:e.name,type:"bar",data:e.data.map(function(t,e,a){return t.Count}),barGap:"-100%",barMaxWidth:40,label:{show:!0,position:"top"},itemStyle:{normal:{color:function(t){return e.data[t.dataIndex].Color}}}})):(l.legend={id:"pieLegend",type:"scroll",data:e.data.map(function(t,e,a){return t.Desc}),formatter:function(t){return t.length>10?t.substr(0,9)+"...":t},orient:"horizontal",textStyle:{color:"black"},left:"left",right:"40%",y:"bottom",padding:[10,0,0,0]},l.series.push({name:"pie",type:"pie",radius:"50%",center:["35%","40%"],startAngle:270,clockwise:!1,avoidLabelOverlap:!0,stillShowZeroSum:!0,bottom:10,itemStyle:{normal:{color:function(t){return e.data[t.dataIndex].Color},label:{show:!0,formatter:"{b}:{d}%"},labelLine:{show:!0,minTurnAngle:90},labelLayout:{hideOverlap:!0,moveOverlap:"shiftX",align:"center"}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},data:e.data.map(function(t,e,a){return{name:t.Desc,value:t.Count}})})),l.legend&&e.data.length<5&&(l.legend.left=27-7*(e.data.length-1)+"%"),e.toolboxKeys=o()(l.toolbox.feature),a.setOption(l)}))},changeToolboxColor:function(t,e){this.toolboxKeys.forEach(function(a,n,o){t.model.setIconStatus(a,a==e?"emphasis":"normal")})}},created:function(){this.drawCharts()}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%",height:"100%"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.noData,expression:"!noData"}],ref:t.echartsId,staticStyle:{height:"300px"},attrs:{id:t.echartsId}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.noData,expression:"noData"}],ref:t.echartsId+"NoDataDiv",staticStyle:{height:"300px"},attrs:{id:t.echartsId+"NoDataDiv",align:"center"}},[a("div",{attrs:{align:"left"}},[a("span",{staticStyle:{color:"#333","font-weight":"bold","font-size":"19px","font-family":"sans-serif"}},[t._v(t._s(t.name))])]),t._v(" "),a("div",{staticStyle:{height:"275px",display:"table-cell","vertical-align":"middle"}},[a("span",{staticStyle:{color:"#5e7382"}},[t._v(t._s(t.$t("menu.PersonOneSatisticCharts.5ncy6gfmj640")))])])])])},staticRenderFns:[]},r=a("VU/8")(l,s,!1,null,null,null);e.default=r.exports}});