(function(n){function e(e){n.util.delay(function(){n(e).layout("resize")},n.fn.layout.extensions.resizeDelay)}function t(e,t){var o=n(e),a=null==t||null==t||t,l=a?["north","west","east","center","south"]:["north","west","east","south"];return n.array.reduce(l,function(n,e,t){var a=o.layout("panel",e);return a&&a.length&&(n.push({region:e,panel:a}),n[e]=a),n},[])}function o(o){var a=n(o),l=t(o,!1);n.each(l,function(n,e){var t=e.panel.panel("options");t.collapsed||a.layout("collapse",e.region)}),e(o)}function a(o){var a=n(o),l=t(o,!1);n.each(l,function(n,e){var t=e.panel.panel("options");t.collapsed&&a.layout("expand",e.region)}),e(o)}function l(e,t){if(t&&("north"==t||"west"==t||"east"==t||"south"==t)){var o=n(e),a=o.layout("panel",t);if(a&&a.length){var l=a.panel("options");l.collapsed?o.layout("expand",t):o.layout("collapse",t)}}}function s(t,s){function u(){n.each(r,function(n,e){l(t,e)}),e(t)}(!s||"collapse"!=s&&"expand"!=s&&"toggle"!=s)&&(s="toggle");var i=n(t),r=["north","west","east","south"],c=n.array.some(r,function(n){var e=i.layout("panel",n);return!!(e&&e.length&&e.panel("options").collapsed)}),f=n.array.some(r,function(n){var e=i.layout("panel",n);return!(!e||!e.length||e.panel("options").collapsed)});switch(s){case"collapse":f?o(t,!1):a(t,!1);break;case"expand":c?a(t,!1):o(t,!1);break;case"toggle":default:u()}}n.util.namespace("$.fn.layout.extensions"),n.extend(n.fn.layout.extensions,{resizeDelay:500});var u={collapseAll:function(n){return n.each(function(){o(this)})},expandAll:function(n){return n.each(function(){a(this)})},toggle:function(n,e){return n.each(function(){l(this,e)})},toggleAll:function(n,e){return n.each(function(){s(this,e)})}},i={};n.fn.layout.extensions.defaults?n.extend(n.fn.layout.extensions.defaults,i):n.fn.layout.extensions.defaults=i,n.fn.layout.extensions.methods?n.extend(n.fn.layout.extensions.methods,u):n.fn.layout.extensions.methods=u,n.extend(n.fn.layout.defaults,i),n.extend(n.fn.layout.methods,u)})(jQuery);