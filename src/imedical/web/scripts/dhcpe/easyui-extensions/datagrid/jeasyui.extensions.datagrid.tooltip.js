(function(){function t(t){if(!t)return-1;t=$.util.isJqueryObject(t)?t:$(t);var i=t.attr("datagrid-row-index");return null==i||null==i||""==i?-1:window.parseInt(i,10)}function i(t){var i=$(t),o=$.data(t,"datagrid"),n=o.options;a(i,n)}function a(i,a){var n=i[0],d=$.data(n,"datagrid"),r=(d.options,d.dc);r.body1.add(r.body2).bind("mouseover",function(n){if(!d.resizing){var e=$(n.target).closest("tr.datagrid-row");if(!e.hasClass("datagrid-row-editing")){var r=t(e);if(-1!=r){var l=i.datagrid("getRowData",r);o(i[0],r,i,a,l,e,n)}}}}).bind("mouseout",function(a){var o=$(a.target).closest("tr.datagrid-row"),n=t(o);-1!=n&&e(i[0],n,o)})}function o(t,i,a,o,e,d,r){if(a=a||$(t),o=o||$.data(t,"datagrid").options,e=e||a.datagrid("getRowData",i),d=d||a.datagrid("getRowDom",i),o.rowTooltip){var l=$.isFunction(o.rowTooltip)?o.rowTooltip.call(t,i,e):n(t,i,e);""!=l&&null!=l&&null!=l&&d.each(function(){$.data(this,"tooltip")||$(this).tooltip({position:"right",content:l,trackMouse:!0,showDelay:o.tooltipDelay}).tooltip("show")})}else d.children("td[field]").each(function(){var n=$(this),d=n.attr("field"),l=a.datagrid("getColumnOption",d);if(l&&l.tooltip){if(!$.data(n[0],"tooltip")){var s=$.isFunction(l.tooltip)?l.tooltip.call(t,e[d],i,e):a.datagrid("getCellHtml",{field:d,index:i});n.tooltip({content:s,trackMouse:!0,showDelay:o.tooltipDelay})}r&&r.target?(n[0]==r.target||$.contains(a[0],r.target))&&n.tooltip("show"):n.tooltip("show")}})}function n(t,i,a){var o=$(t),n=o.datagrid("getColumnOptions","all"),e=$("<font color='white'><table  style='padding: 5px;'></table></font>");return $.each(n,function(t,a){if(a&&a.field&&a.title){var n=o.datagrid("getCellHtml",{field:a.field,index:i});e.append("<tr style='height: 20px;'><td style='text-align: right; width: 150px;'>"+a.title+":</td><td style='width: 250px;'>"+n+"</td></tr>")}}),e}function e(t,i,a){a=a||$(t).datagrid("getRowDom",i),a.tooltip("destroy").children("td[field]").each(function(){$(this).tooltip("destroy")})}$.util.namespace("$.fn.datagrid.extensions");var d=$.fn.datagrid;$.fn.datagrid=function(t,a){return"string"==typeof t?d.apply(this,arguments):(t=t||{},this.each(function(){var o=$(this),n=!!$.data(this,"datagrid"),e=n?t:$.extend({},$.fn.datagrid.parseOptions(this),$.parser.parseOptions(this,[{tooltipDelay:"number"},{rowTooltip:"boolean"}]),t);d.call(o,e,a),n||i(this)}))},$.union($.fn.datagrid,d);var r={rowTooltip:!1,tooltipDelay:300},l={tooltip:!1};$.fn.datagrid.extensions.columnOptions?$.extend($.fn.datagrid.extensions.columnOptions,l):$.fn.datagrid.extensions.columnOptions=l,$.fn.datagrid.extensions.defaults?$.extend($.fn.datagrid.extensions.defaults,r):$.fn.datagrid.extensions.defaults=r,$.extend($.fn.datagrid.defaults,r)})(jQuery);