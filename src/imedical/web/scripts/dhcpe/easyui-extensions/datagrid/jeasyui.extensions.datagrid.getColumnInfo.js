(function(){function e(e){var n=$(e),t=n.datagrid("getData");return t.total==t.rows.length?t:$PE.ajax(n.datagrid("options").queryParams,!1)}function n(e){if("undefined"!=typeof pageCaption&&""!==pageCaption&&"undefined"!=typeof session&&""!==session)return $PE.ajax({ClassName:$PE.datagridSettingCls,MethodName:$PE.datagridSettinQueryMethod,PageName:pageCaption,ElementID:e.id,SessionStr:session["LOGON.USERID"]+"^"+session["LOGON.CTLOCID"]+"^"+session["LOGON.GROUPID"]},!1)}function t(e){return"undefined"==typeof pageCaption||""===pageCaption?[]:"undefined"==typeof session||""===session?[]:$PE.ajax({ClassName:$PE.datagridSettingCls,MethodName:$PE.datagridExportSettinQueryMethod,PageName:pageCaption,ElementID:e.id,SessionStr:session["LOGON.USERID"]+"^"+session["LOGON.CTLOCID"]+"^"+session["LOGON.GROUPID"]},!1)}$.util.namespace("$.fn.datagrid.extensions");var a={};$.extend(a,{getColumnFields:$.fn.datagrid.methods.getColumnFields});var i=function(e,n){var t=$(e);return null==n||null==n?a.getColumnFields.call(t,t,n):"string"==$.type(n)?$.array.merge([],a.getColumnFields.call(t,t,!0),a.getColumnFields.call(t,t,!1)):a.getColumnFields.call(t,t,n)},o=function(e,n){var t=$(e),a=i(e,n);return $.array.map(a,function(e){return t.datagrid("getColumnOption",e)})},r=function(e,n){if(n){var t=i(e,"all");if(t&&t.length){var a=$.array.indexOf(t,n);return-1==a||a>=t.length-1?void 0:$(e).datagrid("getColumnOption",t[a+1])}}},d=function(e,n){if(n){var t=i(e,"all");if(t&&t.length){var a=$.array.indexOf(t,n);return a<1?void 0:$(e).datagrid("getColumnOption",t[a-1])}}},s={getColumnFields:function(e,n){return i(e[0],n)},getColumnOptions:function(e,n){return o(e[0],n)},getNextColumnOption:function(e,n){return r(e[0],n)},getPrevColumnOption:function(e,n){return d(e[0],n)},getAllData:function(n){return e(n[0])},getCustomSetting:function(e){return n(e[0])},getExportSetting:function(e){return t(e[0])}},u={};$.fn.datagrid.extensions.defaults?$.extend($.fn.datagrid.extensions.defaults,u):$.fn.datagrid.extensions.defaults=u,$.fn.datagrid.extensions.methods?$.extend($.fn.datagrid.extensions.methods,s):$.fn.datagrid.extensions.methods=s,$.extend($.fn.datagrid.defaults,u),$.extend($.fn.datagrid.methods,s)})(jQuery);